var Mr=Object.defineProperty;var Ct=e=>{throw TypeError(e)};var Hr=(e,t,r)=>t in e?Mr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var y=(e,t,r)=>Hr(e,typeof t!="symbol"?t+"":t,r),lt=(e,t,r)=>t.has(e)||Ct("Cannot "+r);var u=(e,t,r)=>(lt(e,t,"read from private field"),r?r.call(e):t.get(e)),E=(e,t,r)=>t.has(e)?Ct("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),x=(e,t,r,s)=>(lt(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r),R=(e,t,r)=>(lt(e,t,"access private method"),r);var jt=(e,t,r,s)=>({set _(n){x(e,t,n,r)},get _(){return u(e,t,s)}});var er={Stringify:1},D=(e,t)=>{const r=new String(e);return r.isEscaped=!0,r.callbacks=t,r},Fr=/[&<>'"]/,tr=async(e,t)=>{let r="";t||(t=[]);const s=await Promise.all(e);for(let n=s.length-1;r+=s[n],n--,!(n<0);n--){let i=s[n];typeof i=="object"&&t.push(...i.callbacks||[]);const l=i.isEscaped;if(i=await(typeof i=="object"?i.toString():i),typeof i=="object"&&t.push(...i.callbacks||[]),i.isEscaped??l)r+=i;else{const c=[r];ee(i,c),r=c[0]}}return D(r,t)},ee=(e,t)=>{const r=e.search(Fr);if(r===-1){t[0]+=e;return}let s,n,i=0;for(n=r;n<e.length;n++){switch(e.charCodeAt(n)){case 34:s="&quot;";break;case 39:s="&#39;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}t[0]+=e.substring(i,n)+s,i=n+1}t[0]+=e.substring(i,n)},rr=e=>{const t=e.callbacks;if(!(t!=null&&t.length))return e;const r=[e],s={};return t.forEach(n=>n({phase:er.Stringify,buffer:r,context:s})),r[0]},sr=async(e,t,r,s,n)=>{typeof e=="object"&&!(e instanceof String)&&(e instanceof Promise||(e=e.toString()),e instanceof Promise&&(e=await e));const i=e.callbacks;return i!=null&&i.length?(n?n[0]+=e:n=[e],Promise.all(i.map(c=>c({phase:t,buffer:n,context:s}))).then(c=>Promise.all(c.filter(Boolean).map(o=>sr(o,t,!1,s,n))).then(()=>n[0]))):Promise.resolve(e)},Ir=(e,...t)=>{const r=[""];for(let s=0,n=e.length-1;s<n;s++){r[0]+=e[s];const i=Array.isArray(t[s])?t[s].flat(1/0):[t[s]];for(let l=0,c=i.length;l<c;l++){const o=i[l];if(typeof o=="string")ee(o,r);else if(typeof o=="number")r[0]+=o;else{if(typeof o=="boolean"||o===null||o===void 0)continue;if(typeof o=="object"&&o.isEscaped)if(o.callbacks)r.unshift("",o);else{const h=o.toString();h instanceof Promise?r.unshift("",h):r[0]+=h}else o instanceof Promise?r.unshift("",o):ee(o.toString(),r)}}}return r[0]+=e.at(-1),r.length===1?"callbacks"in r?D(rr(D(r[0],r.callbacks))):D(r[0]):tr(r,r.callbacks)},Et=Symbol("RENDERER"),yt=Symbol("ERROR_HANDLER"),O=Symbol("STASH"),nr=Symbol("INTERNAL"),_r=Symbol("MEMO"),et=Symbol("PERMALINK"),$t=e=>(e[nr]=!0,e),ir=e=>({value:t,children:r})=>{if(!r)return;const s={children:[{tag:$t(()=>{e.push(t)}),props:{}}]};Array.isArray(r)?s.children.push(...r.flat()):s.children.push(r),s.children.push({tag:$t(()=>{e.pop()}),props:{}});const n={tag:"",props:s,type:""};return n[yt]=i=>{throw e.pop(),i},n},ar=e=>{const t=[e],r=ir(t);return r.values=t,r.Provider=r,we.push(r),r},we=[],kt=e=>{const t=[e],r=(s=>{t.push(s.value);let n;try{n=s.children?(Array.isArray(s.children)?new hr("",{},s.children):s.children).toString():""}catch(i){throw t.pop(),i}return n instanceof Promise?n.finally(()=>t.pop()).then(i=>D(i,i.callbacks)):(t.pop(),D(n))});return r.values=t,r.Provider=r,r[Et]=ir(t),we.push(r),r},ke=e=>e.values.at(-1),ze={title:[],script:["src"],style:["data-href"],link:["href"],meta:["name","httpEquiv","charset","itemProp"]},mt={},Ve="data-precedence",Ie=e=>Array.isArray(e)?e:[e],Tt=new WeakMap,Lt=(e,t,r,s)=>({buffer:n,context:i})=>{if(!n)return;const l=Tt.get(i)||{};Tt.set(i,l);const c=l[e]||(l[e]=[]);let o=!1;const h=ze[e];if(h.length>0){e:for(const[,f]of c)for(const d of h)if(((f==null?void 0:f[d])??null)===(r==null?void 0:r[d])){o=!0;break e}}if(o?n[0]=n[0].replaceAll(t,""):h.length>0?c.push([t,r,s]):c.unshift([t,r,s]),n[0].indexOf("</head>")!==-1){let f;if(s===void 0)f=c.map(([d])=>d);else{const d=[];f=c.map(([p,,g])=>{let m=d.indexOf(g);return m===-1&&(d.push(g),m=d.length-1),[p,m]}).sort((p,g)=>p[1]-g[1]).map(([p])=>p)}f.forEach(d=>{n[0]=n[0].replaceAll(d,"")}),n[0]=n[0].replace(/(?=<\/head>)/,f.join(""))}},_e=(e,t,r)=>D(new I(e,r,Ie(t??[])).toString()),Be=(e,t,r,s)=>{if("itemProp"in r)return _e(e,t,r);let{precedence:n,blocking:i,...l}=r;n=s?n??"":void 0,s&&(l[Ve]=n);const c=new I(e,l,Ie(t||[])).toString();return c instanceof Promise?c.then(o=>D(c,[...o.callbacks||[],Lt(e,o,l,n)])):D(c,[Lt(e,c,l,n)])},Br=({children:e,...t})=>{const r=Rt();if(r){const s=ke(r);if(s==="svg"||s==="head")return new I("title",t,Ie(e??[]))}return Be("title",e,t,!1)},qr=({children:e,...t})=>{const r=Rt();return["src","async"].some(s=>!t[s])||r&&ke(r)==="head"?_e("script",e,t):Be("script",e,t,!1)},Ur=({children:e,...t})=>["href","precedence"].every(r=>r in t)?(t["data-href"]=t.href,delete t.href,Be("style",e,t,!0)):_e("style",e,t),Wr=({children:e,...t})=>["onLoad","onError"].some(r=>r in t)||t.rel==="stylesheet"&&(!("precedence"in t)||"disabled"in t)?_e("link",e,t):Be("link",e,t,"precedence"in t),Kr=({children:e,...t})=>{const r=Rt();return r&&ke(r)==="head"?_e("meta",e,t):Be("meta",e,t,!1)},lr=(e,{children:t,...r})=>new I(e,r,Ie(t??[])),zr=e=>(typeof e.action=="function"&&(e.action=et in e.action?e.action[et]:void 0),lr("form",e)),cr=(e,t)=>(typeof t.formAction=="function"&&(t.formAction=et in t.formAction?t.formAction[et]:void 0),lr(e,t)),Vr=e=>cr("input",e),Gr=e=>cr("button",e);const ct=Object.freeze(Object.defineProperty({__proto__:null,button:Gr,form:zr,input:Vr,link:Wr,meta:Kr,script:qr,style:Ur,title:Br},Symbol.toStringTag,{value:"Module"}));var Jr=new Map([["className","class"],["htmlFor","for"],["crossOrigin","crossorigin"],["httpEquiv","http-equiv"],["itemProp","itemprop"],["fetchPriority","fetchpriority"],["noModule","nomodule"],["formAction","formaction"]]),tt=e=>Jr.get(e)||e,or=(e,t)=>{for(const[r,s]of Object.entries(e)){const n=r[0]==="-"||!/[A-Z]/.test(r)?r:r.replace(/[A-Z]/g,i=>`-${i.toLowerCase()}`);t(n,s==null?null:typeof s=="number"?n.match(/^(?:a|border-im|column(?:-c|s)|flex(?:$|-[^b])|grid-(?:ar|[^a])|font-w|li|or|sca|st|ta|wido|z)|ty$/)?`${s}`:`${s}px`:s)}},je=void 0,Rt=()=>je,Xr=e=>/[A-Z]/.test(e)&&e.match(/^(?:al|basel|clip(?:Path|Rule)$|co|do|fill|fl|fo|gl|let|lig|i|marker[EMS]|o|pai|pointe|sh|st[or]|text[^L]|tr|u|ve|w)/)?e.replace(/([A-Z])/g,"-$1").toLowerCase():e,Zr=["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],Yr=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","download","formnovalidate","hidden","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"],St=(e,t)=>{for(let r=0,s=e.length;r<s;r++){const n=e[r];if(typeof n=="string")ee(n,t);else{if(typeof n=="boolean"||n===null||n===void 0)continue;n instanceof I?n.toStringToBuffer(t):typeof n=="number"||n.isEscaped?t[0]+=n:n instanceof Promise?t.unshift("",n):St(n,t)}}},I=class{constructor(e,t,r){y(this,"tag");y(this,"props");y(this,"key");y(this,"children");y(this,"isEscaped",!0);y(this,"localContexts");this.tag=e,this.props=t,this.children=r}get type(){return this.tag}get ref(){return this.props.ref||null}toString(){var t,r;const e=[""];(t=this.localContexts)==null||t.forEach(([s,n])=>{s.values.push(n)});try{this.toStringToBuffer(e)}finally{(r=this.localContexts)==null||r.forEach(([s])=>{s.values.pop()})}return e.length===1?"callbacks"in e?rr(D(e[0],e.callbacks)).toString():e[0]:tr(e,e.callbacks)}toStringToBuffer(e){const t=this.tag,r=this.props;let{children:s}=this;e[0]+=`<${t}`;const n=je&&ke(je)==="svg"?i=>Xr(tt(i)):i=>tt(i);for(let[i,l]of Object.entries(r))if(i=n(i),i!=="children"){if(i==="style"&&typeof l=="object"){let c="";or(l,(o,h)=>{h!=null&&(c+=`${c?";":""}${o}:${h}`)}),e[0]+=' style="',ee(c,e),e[0]+='"'}else if(typeof l=="string")e[0]+=` ${i}="`,ee(l,e),e[0]+='"';else if(l!=null)if(typeof l=="number"||l.isEscaped)e[0]+=` ${i}="${l}"`;else if(typeof l=="boolean"&&Yr.includes(i))l&&(e[0]+=` ${i}=""`);else if(i==="dangerouslySetInnerHTML"){if(s.length>0)throw new Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");s=[D(l.__html)]}else if(l instanceof Promise)e[0]+=` ${i}="`,e.unshift('"',l);else if(typeof l=="function"){if(!i.startsWith("on")&&i!=="ref")throw new Error(`Invalid prop '${i}' of type 'function' supplied to '${t}'.`)}else e[0]+=` ${i}="`,ee(l.toString(),e),e[0]+='"'}if(Zr.includes(t)&&s.length===0){e[0]+="/>";return}e[0]+=">",St(s,e),e[0]+=`</${t}>`}},ot=class extends I{toStringToBuffer(e){const{children:t}=this,r={...this.props};t.length&&(r.children=t.length===1?t[0]:t);const s=this.tag.call(null,r);if(!(typeof s=="boolean"||s==null))if(s instanceof Promise)if(we.length===0)e.unshift("",s);else{const n=we.map(i=>[i,i.values.at(-1)]);e.unshift("",s.then(i=>(i instanceof I&&(i.localContexts=n),i)))}else s instanceof I?s.toStringToBuffer(e):typeof s=="number"||s.isEscaped?(e[0]+=s,s.callbacks&&(e.callbacks||(e.callbacks=[]),e.callbacks.push(...s.callbacks))):ee(s,e)}},hr=class extends I{toStringToBuffer(e){St(this.children,e)}},Nt=(e,t,...r)=>{t??(t={}),r.length&&(t.children=r.length===1?r[0]:r);const s=t.key;delete t.key;const n=Ge(e,t,r);return n.key=s,n},Dt=!1,Ge=(e,t,r)=>{if(!Dt){for(const s in mt)ct[s][Et]=mt[s];Dt=!0}return typeof e=="function"?new ot(e,t,r):ct[e]?new ot(ct[e],t,r):e==="svg"||e==="head"?(je||(je=kt("")),new I(e,t,[new ot(je,{value:e},r)])):new I(e,t,r)},Qr=({children:e})=>new hr("",{children:e},Array.isArray(e)?e:e?[e]:[]);function a(e,t,r){let s;if(!t||!("children"in t))s=Ge(e,t,[]);else{const n=t.children;s=Array.isArray(n)?Ge(e,t,n):Ge(e,t,[n])}return s.key=r,s}var Mt=(e,t,r)=>(s,n)=>{let i=-1;return l(0);async function l(c){if(c<=i)throw new Error("next() called multiple times");i=c;let o,h=!1,f;if(e[c]?(f=e[c][0][0],s.req.routeIndex=c):f=c===e.length&&n||void 0,f)try{o=await f(s,()=>l(c+1))}catch(d){if(d instanceof Error&&t)s.error=d,o=await t(d,s),h=!0;else throw d}else s.finalized===!1&&r&&(o=await r(s));return o&&(s.finalized===!1||h)&&(s.res=o),s}},es=Symbol(),ts=async(e,t=Object.create(null))=>{const{all:r=!1,dot:s=!1}=t,i=(e instanceof vr?e.raw.headers:e.headers).get("Content-Type");return i!=null&&i.startsWith("multipart/form-data")||i!=null&&i.startsWith("application/x-www-form-urlencoded")?rs(e,{all:r,dot:s}):{}};async function rs(e,t){const r=await e.formData();return r?ss(r,t):{}}function ss(e,t){const r=Object.create(null);return e.forEach((s,n)=>{t.all||n.endsWith("[]")?ns(r,n,s):r[n]=s}),t.dot&&Object.entries(r).forEach(([s,n])=>{s.includes(".")&&(is(r,s,n),delete r[s])}),r}var ns=(e,t,r)=>{e[t]!==void 0?Array.isArray(e[t])?e[t].push(r):e[t]=[e[t],r]:t.endsWith("[]")?e[t]=[r]:e[t]=r},is=(e,t,r)=>{let s=e;const n=t.split(".");n.forEach((i,l)=>{l===n.length-1?s[i]=r:((!s[i]||typeof s[i]!="object"||Array.isArray(s[i])||s[i]instanceof File)&&(s[i]=Object.create(null)),s=s[i])})},ur=e=>{const t=e.split("/");return t[0]===""&&t.shift(),t},as=e=>{const{groups:t,path:r}=ls(e),s=ur(r);return cs(s,t)},ls=e=>{const t=[];return e=e.replace(/\{[^}]+\}/g,(r,s)=>{const n=`@${s}`;return t.push([n,r]),n}),{groups:t,path:e}},cs=(e,t)=>{for(let r=t.length-1;r>=0;r--){const[s]=t[r];for(let n=e.length-1;n>=0;n--)if(e[n].includes(s)){e[n]=e[n].replace(s,t[r][1]);break}}return e},We={},os=(e,t)=>{if(e==="*")return"*";const r=e.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);if(r){const s=`${e}#${t}`;return We[s]||(r[2]?We[s]=t&&t[0]!==":"&&t[0]!=="*"?[s,r[1],new RegExp(`^${r[2]}(?=/${t})`)]:[e,r[1],new RegExp(`^${r[2]}$`)]:We[s]=[e,r[1],!0]),We[s]}return null},Pt=(e,t)=>{try{return t(e)}catch{return e.replace(/(?:%[0-9A-Fa-f]{2})+/g,r=>{try{return t(r)}catch{return r}})}},hs=e=>Pt(e,decodeURI),fr=e=>{const t=e.url,r=t.indexOf("/",t.indexOf(":")+4);let s=r;for(;s<t.length;s++){const n=t.charCodeAt(s);if(n===37){const i=t.indexOf("?",s),l=t.indexOf("#",s),c=i===-1?l===-1?void 0:l:l===-1?i:Math.min(i,l),o=t.slice(r,c);return hs(o.includes("%25")?o.replace(/%25/g,"%2525"):o)}else if(n===63||n===35)break}return t.slice(r,s)},us=e=>{const t=fr(e);return t.length>1&&t.at(-1)==="/"?t.slice(0,-1):t},ue=(e,t,...r)=>(r.length&&(t=ue(t,...r)),`${(e==null?void 0:e[0])==="/"?"":"/"}${e}${t==="/"?"":`${(e==null?void 0:e.at(-1))==="/"?"":"/"}${(t==null?void 0:t[0])==="/"?t.slice(1):t}`}`),dr=e=>{if(e.charCodeAt(e.length-1)!==63||!e.includes(":"))return null;const t=e.split("/"),r=[];let s="";return t.forEach(n=>{if(n!==""&&!/\:/.test(n))s+="/"+n;else if(/\:/.test(n))if(/\?/.test(n)){r.length===0&&s===""?r.push("/"):r.push(s);const i=n.replace("?","");s+="/"+i,r.push(s)}else s+="/"+n}),r.filter((n,i,l)=>l.indexOf(n)===i)},ht=e=>/[%+]/.test(e)?(e.indexOf("+")!==-1&&(e=e.replace(/\+/g," ")),e.indexOf("%")!==-1?Pt(e,gr):e):e,pr=(e,t,r)=>{let s;if(!r&&t&&!/[%+]/.test(t)){let l=e.indexOf("?",8);if(l===-1)return;for(e.startsWith(t,l+1)||(l=e.indexOf(`&${t}`,l+1));l!==-1;){const c=e.charCodeAt(l+t.length+1);if(c===61){const o=l+t.length+2,h=e.indexOf("&",o);return ht(e.slice(o,h===-1?void 0:h))}else if(c==38||isNaN(c))return"";l=e.indexOf(`&${t}`,l+1)}if(s=/[%+]/.test(e),!s)return}const n={};s??(s=/[%+]/.test(e));let i=e.indexOf("?",8);for(;i!==-1;){const l=e.indexOf("&",i+1);let c=e.indexOf("=",i);c>l&&l!==-1&&(c=-1);let o=e.slice(i+1,c===-1?l===-1?void 0:l:c);if(s&&(o=ht(o)),i=l,o==="")continue;let h;c===-1?h="":(h=e.slice(c+1,l===-1?void 0:l),s&&(h=ht(h))),r?(n[o]&&Array.isArray(n[o])||(n[o]=[]),n[o].push(h)):n[o]??(n[o]=h)}return t?n[t]:n},fs=pr,ds=(e,t)=>pr(e,t,!0),gr=decodeURIComponent,Ht=e=>Pt(e,gr),pe,N,z,yr,mr,bt,G,Gt,vr=(Gt=class{constructor(e,t="/",r=[[]]){E(this,z);y(this,"raw");E(this,pe);E(this,N);y(this,"routeIndex",0);y(this,"path");y(this,"bodyCache",{});E(this,G,e=>{const{bodyCache:t,raw:r}=this,s=t[e];if(s)return s;const n=Object.keys(t)[0];return n?t[n].then(i=>(n==="json"&&(i=JSON.stringify(i)),new Response(i)[e]())):t[e]=r[e]()});this.raw=e,this.path=t,x(this,N,r),x(this,pe,{})}param(e){return e?R(this,z,yr).call(this,e):R(this,z,mr).call(this)}query(e){return fs(this.url,e)}queries(e){return ds(this.url,e)}header(e){if(e)return this.raw.headers.get(e)??void 0;const t={};return this.raw.headers.forEach((r,s)=>{t[s]=r}),t}async parseBody(e){var t;return(t=this.bodyCache).parsedBody??(t.parsedBody=await ts(this,e))}json(){return u(this,G).call(this,"text").then(e=>JSON.parse(e))}text(){return u(this,G).call(this,"text")}arrayBuffer(){return u(this,G).call(this,"arrayBuffer")}blob(){return u(this,G).call(this,"blob")}formData(){return u(this,G).call(this,"formData")}addValidatedData(e,t){u(this,pe)[e]=t}valid(e){return u(this,pe)[e]}get url(){return this.raw.url}get method(){return this.raw.method}get[es](){return u(this,N)}get matchedRoutes(){return u(this,N)[0].map(([[,e]])=>e)}get routePath(){return u(this,N)[0].map(([[,e]])=>e)[this.routeIndex].path}},pe=new WeakMap,N=new WeakMap,z=new WeakSet,yr=function(e){const t=u(this,N)[0][this.routeIndex][1][e],r=R(this,z,bt).call(this,t);return r&&/\%/.test(r)?Ht(r):r},mr=function(){const e={},t=Object.keys(u(this,N)[0][this.routeIndex][1]);for(const r of t){const s=R(this,z,bt).call(this,u(this,N)[0][this.routeIndex][1][r]);s!==void 0&&(e[r]=/\%/.test(s)?Ht(s):s)}return e},bt=function(e){return u(this,N)[1]?u(this,N)[1][e]:e},G=new WeakMap,Gt),ps="text/plain; charset=UTF-8",ut=(e,t)=>({"Content-Type":e,...t}),Le,Ne,q,ge,U,L,De,ve,ye,se,Me,He,J,fe,Jt,gs=(Jt=class{constructor(e,t){E(this,J);E(this,Le);E(this,Ne);y(this,"env",{});E(this,q);y(this,"finalized",!1);y(this,"error");E(this,ge);E(this,U);E(this,L);E(this,De);E(this,ve);E(this,ye);E(this,se);E(this,Me);E(this,He);y(this,"render",(...e)=>(u(this,ve)??x(this,ve,t=>this.html(t)),u(this,ve).call(this,...e)));y(this,"setLayout",e=>x(this,De,e));y(this,"getLayout",()=>u(this,De));y(this,"setRenderer",e=>{x(this,ve,e)});y(this,"header",(e,t,r)=>{this.finalized&&x(this,L,new Response(u(this,L).body,u(this,L)));const s=u(this,L)?u(this,L).headers:u(this,se)??x(this,se,new Headers);t===void 0?s.delete(e):r!=null&&r.append?s.append(e,t):s.set(e,t)});y(this,"status",e=>{x(this,ge,e)});y(this,"set",(e,t)=>{u(this,q)??x(this,q,new Map),u(this,q).set(e,t)});y(this,"get",e=>u(this,q)?u(this,q).get(e):void 0);y(this,"newResponse",(...e)=>R(this,J,fe).call(this,...e));y(this,"body",(e,t,r)=>R(this,J,fe).call(this,e,t,r));y(this,"text",(e,t,r)=>!u(this,se)&&!u(this,ge)&&!t&&!r&&!this.finalized?new Response(e):R(this,J,fe).call(this,e,t,ut(ps,r)));y(this,"json",(e,t,r)=>R(this,J,fe).call(this,JSON.stringify(e),t,ut("application/json",r)));y(this,"html",(e,t,r)=>{const s=n=>R(this,J,fe).call(this,n,t,ut("text/html; charset=UTF-8",r));return typeof e=="object"?sr(e,er.Stringify,!1,{}).then(s):s(e)});y(this,"redirect",(e,t)=>{const r=String(e);return this.header("Location",/[^\x00-\xFF]/.test(r)?encodeURI(r):r),this.newResponse(null,t??302)});y(this,"notFound",()=>(u(this,ye)??x(this,ye,()=>new Response),u(this,ye).call(this,this)));x(this,Le,e),t&&(x(this,U,t.executionCtx),this.env=t.env,x(this,ye,t.notFoundHandler),x(this,He,t.path),x(this,Me,t.matchResult))}get req(){return u(this,Ne)??x(this,Ne,new vr(u(this,Le),u(this,He),u(this,Me))),u(this,Ne)}get event(){if(u(this,U)&&"respondWith"in u(this,U))return u(this,U);throw Error("This context has no FetchEvent")}get executionCtx(){if(u(this,U))return u(this,U);throw Error("This context has no ExecutionContext")}get res(){return u(this,L)||x(this,L,new Response(null,{headers:u(this,se)??x(this,se,new Headers)}))}set res(e){if(u(this,L)&&e){e=new Response(e.body,e);for(const[t,r]of u(this,L).headers.entries())if(t!=="content-type")if(t==="set-cookie"){const s=u(this,L).headers.getSetCookie();e.headers.delete("set-cookie");for(const n of s)e.headers.append("set-cookie",n)}else e.headers.set(t,r)}x(this,L,e),this.finalized=!0}get var(){return u(this,q)?Object.fromEntries(u(this,q)):{}}},Le=new WeakMap,Ne=new WeakMap,q=new WeakMap,ge=new WeakMap,U=new WeakMap,L=new WeakMap,De=new WeakMap,ve=new WeakMap,ye=new WeakMap,se=new WeakMap,Me=new WeakMap,He=new WeakMap,J=new WeakSet,fe=function(e,t,r){const s=u(this,L)?new Headers(u(this,L).headers):u(this,se)??new Headers;if(typeof t=="object"&&"headers"in t){const i=t.headers instanceof Headers?t.headers:new Headers(t.headers);for(const[l,c]of i)l.toLowerCase()==="set-cookie"?s.append(l,c):s.set(l,c)}if(r)for(const[i,l]of Object.entries(r))if(typeof l=="string")s.set(i,l);else{s.delete(i);for(const c of l)s.append(i,c)}const n=typeof t=="number"?t:(t==null?void 0:t.status)??u(this,ge);return new Response(e,{status:n,headers:s})},Jt),C="ALL",vs="all",ys=["get","post","put","delete","options","patch"],br="Can not add a route since the matcher is already built.",xr=class extends Error{},ms="__COMPOSED_HANDLER",bs=e=>e.text("404 Not Found",404),Ft=(e,t)=>{if("getResponse"in e){const r=e.getResponse();return t.newResponse(r.body,r)}return console.error(e),t.text("Internal Server Error",500)},M,j,wr,H,te,Je,Xe,me,xs=(me=class{constructor(t={}){E(this,j);y(this,"get");y(this,"post");y(this,"put");y(this,"delete");y(this,"options");y(this,"patch");y(this,"all");y(this,"on");y(this,"use");y(this,"router");y(this,"getPath");y(this,"_basePath","/");E(this,M,"/");y(this,"routes",[]);E(this,H,bs);y(this,"errorHandler",Ft);y(this,"onError",t=>(this.errorHandler=t,this));y(this,"notFound",t=>(x(this,H,t),this));y(this,"fetch",(t,...r)=>R(this,j,Xe).call(this,t,r[1],r[0],t.method));y(this,"request",(t,r,s,n)=>t instanceof Request?this.fetch(r?new Request(t,r):t,s,n):(t=t.toString(),this.fetch(new Request(/^https?:\/\//.test(t)?t:`http://localhost${ue("/",t)}`,r),s,n)));y(this,"fire",()=>{addEventListener("fetch",t=>{t.respondWith(R(this,j,Xe).call(this,t.request,t,void 0,t.request.method))})});[...ys,vs].forEach(i=>{this[i]=(l,...c)=>(typeof l=="string"?x(this,M,l):R(this,j,te).call(this,i,u(this,M),l),c.forEach(o=>{R(this,j,te).call(this,i,u(this,M),o)}),this)}),this.on=(i,l,...c)=>{for(const o of[l].flat()){x(this,M,o);for(const h of[i].flat())c.map(f=>{R(this,j,te).call(this,h.toUpperCase(),u(this,M),f)})}return this},this.use=(i,...l)=>(typeof i=="string"?x(this,M,i):(x(this,M,"*"),l.unshift(i)),l.forEach(c=>{R(this,j,te).call(this,C,u(this,M),c)}),this);const{strict:s,...n}=t;Object.assign(this,n),this.getPath=s??!0?t.getPath??fr:us}route(t,r){const s=this.basePath(t);return r.routes.map(n=>{var l;let i;r.errorHandler===Ft?i=n.handler:(i=async(c,o)=>(await Mt([],r.errorHandler)(c,()=>n.handler(c,o))).res,i[ms]=n.handler),R(l=s,j,te).call(l,n.method,n.path,i)}),this}basePath(t){const r=R(this,j,wr).call(this);return r._basePath=ue(this._basePath,t),r}mount(t,r,s){let n,i;s&&(typeof s=="function"?i=s:(i=s.optionHandler,s.replaceRequest===!1?n=o=>o:n=s.replaceRequest));const l=i?o=>{const h=i(o);return Array.isArray(h)?h:[h]}:o=>{let h;try{h=o.executionCtx}catch{}return[o.env,h]};n||(n=(()=>{const o=ue(this._basePath,t),h=o==="/"?0:o.length;return f=>{const d=new URL(f.url);return d.pathname=d.pathname.slice(h)||"/",new Request(d,f)}})());const c=async(o,h)=>{const f=await r(n(o.req.raw),...l(o));if(f)return f;await h()};return R(this,j,te).call(this,C,ue(t,"*"),c),this}},M=new WeakMap,j=new WeakSet,wr=function(){const t=new me({router:this.router,getPath:this.getPath});return t.errorHandler=this.errorHandler,x(t,H,u(this,H)),t.routes=this.routes,t},H=new WeakMap,te=function(t,r,s){t=t.toUpperCase(),r=ue(this._basePath,r);const n={basePath:this._basePath,path:r,method:t,handler:s};this.router.add(t,r,[s,n]),this.routes.push(n)},Je=function(t,r){if(t instanceof Error)return this.errorHandler(t,r);throw t},Xe=function(t,r,s,n){if(n==="HEAD")return(async()=>new Response(null,await R(this,j,Xe).call(this,t,r,s,"GET")))();const i=this.getPath(t,{env:s}),l=this.router.match(n,i),c=new gs(t,{path:i,matchResult:l,env:s,executionCtx:r,notFoundHandler:u(this,H)});if(l[0].length===1){let h;try{h=l[0][0][0][0](c,async()=>{c.res=await u(this,H).call(this,c)})}catch(f){return R(this,j,Je).call(this,f,c)}return h instanceof Promise?h.then(f=>f||(c.finalized?c.res:u(this,H).call(this,c))).catch(f=>R(this,j,Je).call(this,f,c)):h??u(this,H).call(this,c)}const o=Mt(l[0],this.errorHandler,u(this,H));return(async()=>{try{const h=await o(c);if(!h.finalized)throw new Error("Context is not finalized. Did you forget to return a Response object or `await next()`?");return h.res}catch(h){return R(this,j,Je).call(this,h,c)}})()},me),Er=[];function ws(e,t){const r=this.buildAllMatchers(),s=((n,i)=>{const l=r[n]||r[C],c=l[2][i];if(c)return c;const o=i.match(l[0]);if(!o)return[[],Er];const h=o.indexOf("",1);return[l[1][h],o]});return this.match=s,s(e,t)}var rt="[^/]+",Oe=".*",Ce="(?:|/.*)",de=Symbol(),Es=new Set(".\\+*[^]$()");function ks(e,t){return e.length===1?t.length===1?e<t?-1:1:-1:t.length===1||e===Oe||e===Ce?1:t===Oe||t===Ce?-1:e===rt?1:t===rt?-1:e.length===t.length?e<t?-1:1:t.length-e.length}var ne,ie,F,ce,Rs=(ce=class{constructor(){E(this,ne);E(this,ie);E(this,F,Object.create(null))}insert(t,r,s,n,i){if(t.length===0){if(u(this,ne)!==void 0)throw de;if(i)return;x(this,ne,r);return}const[l,...c]=t,o=l==="*"?c.length===0?["","",Oe]:["","",rt]:l==="/*"?["","",Ce]:l.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);let h;if(o){const f=o[1];let d=o[2]||rt;if(f&&o[2]&&(d===".*"||(d=d.replace(/^\((?!\?:)(?=[^)]+\)$)/,"(?:"),/\((?!\?:)/.test(d))))throw de;if(h=u(this,F)[d],!h){if(Object.keys(u(this,F)).some(p=>p!==Oe&&p!==Ce))throw de;if(i)return;h=u(this,F)[d]=new ce,f!==""&&x(h,ie,n.varIndex++)}!i&&f!==""&&s.push([f,u(h,ie)])}else if(h=u(this,F)[l],!h){if(Object.keys(u(this,F)).some(f=>f.length>1&&f!==Oe&&f!==Ce))throw de;if(i)return;h=u(this,F)[l]=new ce}h.insert(c,r,s,n,i)}buildRegExpStr(){const r=Object.keys(u(this,F)).sort(ks).map(s=>{const n=u(this,F)[s];return(typeof u(n,ie)=="number"?`(${s})@${u(n,ie)}`:Es.has(s)?`\\${s}`:s)+n.buildRegExpStr()});return typeof u(this,ne)=="number"&&r.unshift(`#${u(this,ne)}`),r.length===0?"":r.length===1?r[0]:"(?:"+r.join("|")+")"}},ne=new WeakMap,ie=new WeakMap,F=new WeakMap,ce),st,Fe,Xt,Ss=(Xt=class{constructor(){E(this,st,{varIndex:0});E(this,Fe,new Rs)}insert(e,t,r){const s=[],n=[];for(let l=0;;){let c=!1;if(e=e.replace(/\{[^}]+\}/g,o=>{const h=`@\\${l}`;return n[l]=[h,o],l++,c=!0,h}),!c)break}const i=e.match(/(?::[^\/]+)|(?:\/\*$)|./g)||[];for(let l=n.length-1;l>=0;l--){const[c]=n[l];for(let o=i.length-1;o>=0;o--)if(i[o].indexOf(c)!==-1){i[o]=i[o].replace(c,n[l][1]);break}}return u(this,Fe).insert(i,t,s,u(this,st),r),s}buildRegExp(){let e=u(this,Fe).buildRegExpStr();if(e==="")return[/^$/,[],[]];let t=0;const r=[],s=[];return e=e.replace(/#(\d+)|@(\d+)|\.\*\$/g,(n,i,l)=>i!==void 0?(r[++t]=Number(i),"$()"):(l!==void 0&&(s[Number(l)]=++t),"")),[new RegExp(`^${e}`),r,s]}},st=new WeakMap,Fe=new WeakMap,Xt),Ps=[/^$/,[],Object.create(null)],Ze=Object.create(null);function kr(e){return Ze[e]??(Ze[e]=new RegExp(e==="*"?"":`^${e.replace(/\/\*$|([.\\+*[^\]$()])/g,(t,r)=>r?`\\${r}`:"(?:|/.*)")}$`))}function As(){Ze=Object.create(null)}function Os(e){var h;const t=new Ss,r=[];if(e.length===0)return Ps;const s=e.map(f=>[!/\*|\/:/.test(f[0]),...f]).sort(([f,d],[p,g])=>f?1:p?-1:d.length-g.length),n=Object.create(null);for(let f=0,d=-1,p=s.length;f<p;f++){const[g,m,b]=s[f];g?n[m]=[b.map(([w])=>[w,Object.create(null)]),Er]:d++;let v;try{v=t.insert(m,d,g)}catch(w){throw w===de?new xr(m):w}g||(r[d]=b.map(([w,k])=>{const P=Object.create(null);for(k-=1;k>=0;k--){const[S,A]=v[k];P[S]=A}return[w,P]}))}const[i,l,c]=t.buildRegExp();for(let f=0,d=r.length;f<d;f++)for(let p=0,g=r[f].length;p<g;p++){const m=(h=r[f][p])==null?void 0:h[1];if(!m)continue;const b=Object.keys(m);for(let v=0,w=b.length;v<w;v++)m[b[v]]=c[m[b[v]]]}const o=[];for(const f in l)o[f]=r[l[f]];return[i,o,n]}function oe(e,t){if(e){for(const r of Object.keys(e).sort((s,n)=>n.length-s.length))if(kr(r).test(t))return[...e[r]]}}var X,Z,nt,Rr,Zt,Cs=(Zt=class{constructor(){E(this,nt);y(this,"name","RegExpRouter");E(this,X);E(this,Z);y(this,"match",ws);x(this,X,{[C]:Object.create(null)}),x(this,Z,{[C]:Object.create(null)})}add(e,t,r){var c;const s=u(this,X),n=u(this,Z);if(!s||!n)throw new Error(br);s[e]||[s,n].forEach(o=>{o[e]=Object.create(null),Object.keys(o[C]).forEach(h=>{o[e][h]=[...o[C][h]]})}),t==="/*"&&(t="*");const i=(t.match(/\/:/g)||[]).length;if(/\*$/.test(t)){const o=kr(t);e===C?Object.keys(s).forEach(h=>{var f;(f=s[h])[t]||(f[t]=oe(s[h],t)||oe(s[C],t)||[])}):(c=s[e])[t]||(c[t]=oe(s[e],t)||oe(s[C],t)||[]),Object.keys(s).forEach(h=>{(e===C||e===h)&&Object.keys(s[h]).forEach(f=>{o.test(f)&&s[h][f].push([r,i])})}),Object.keys(n).forEach(h=>{(e===C||e===h)&&Object.keys(n[h]).forEach(f=>o.test(f)&&n[h][f].push([r,i]))});return}const l=dr(t)||[t];for(let o=0,h=l.length;o<h;o++){const f=l[o];Object.keys(n).forEach(d=>{var p;(e===C||e===d)&&((p=n[d])[f]||(p[f]=[...oe(s[d],f)||oe(s[C],f)||[]]),n[d][f].push([r,i-h+o+1]))})}}buildAllMatchers(){const e=Object.create(null);return Object.keys(u(this,Z)).concat(Object.keys(u(this,X))).forEach(t=>{e[t]||(e[t]=R(this,nt,Rr).call(this,t))}),x(this,X,x(this,Z,void 0)),As(),e}},X=new WeakMap,Z=new WeakMap,nt=new WeakSet,Rr=function(e){const t=[];let r=e===C;return[u(this,X),u(this,Z)].forEach(s=>{const n=s[e]?Object.keys(s[e]).map(i=>[i,s[e][i]]):[];n.length!==0?(r||(r=!0),t.push(...n)):e!==C&&t.push(...Object.keys(s[C]).map(i=>[i,s[C][i]]))}),r?Os(t):null},Zt),Y,W,Yt,js=(Yt=class{constructor(e){y(this,"name","SmartRouter");E(this,Y,[]);E(this,W,[]);x(this,Y,e.routers)}add(e,t,r){if(!u(this,W))throw new Error(br);u(this,W).push([e,t,r])}match(e,t){if(!u(this,W))throw new Error("Fatal error");const r=u(this,Y),s=u(this,W),n=r.length;let i=0,l;for(;i<n;i++){const c=r[i];try{for(let o=0,h=s.length;o<h;o++)c.add(...s[o]);l=c.match(e,t)}catch(o){if(o instanceof xr)continue;throw o}this.match=c.match.bind(c),x(this,Y,[c]),x(this,W,void 0);break}if(i===n)throw new Error("Fatal error");return this.name=`SmartRouter + ${this.activeRouter.name}`,l}get activeRouter(){if(u(this,W)||u(this,Y).length!==1)throw new Error("No active router has been determined yet.");return u(this,Y)[0]}},Y=new WeakMap,W=new WeakMap,Yt),Pe=Object.create(null),Q,T,ae,be,$,K,re,xe,$s=(xe=class{constructor(t,r,s){E(this,K);E(this,Q);E(this,T);E(this,ae);E(this,be,0);E(this,$,Pe);if(x(this,T,s||Object.create(null)),x(this,Q,[]),t&&r){const n=Object.create(null);n[t]={handler:r,possibleKeys:[],score:0},x(this,Q,[n])}x(this,ae,[])}insert(t,r,s){x(this,be,++jt(this,be)._);let n=this;const i=as(r),l=[];for(let c=0,o=i.length;c<o;c++){const h=i[c],f=i[c+1],d=os(h,f),p=Array.isArray(d)?d[0]:h;if(p in u(n,T)){n=u(n,T)[p],d&&l.push(d[1]);continue}u(n,T)[p]=new xe,d&&(u(n,ae).push(d),l.push(d[1])),n=u(n,T)[p]}return u(n,Q).push({[t]:{handler:s,possibleKeys:l.filter((c,o,h)=>h.indexOf(c)===o),score:u(this,be)}}),n}search(t,r){var o;const s=[];x(this,$,Pe);let i=[this];const l=ur(r),c=[];for(let h=0,f=l.length;h<f;h++){const d=l[h],p=h===f-1,g=[];for(let m=0,b=i.length;m<b;m++){const v=i[m],w=u(v,T)[d];w&&(x(w,$,u(v,$)),p?(u(w,T)["*"]&&s.push(...R(this,K,re).call(this,u(w,T)["*"],t,u(v,$))),s.push(...R(this,K,re).call(this,w,t,u(v,$)))):g.push(w));for(let k=0,P=u(v,ae).length;k<P;k++){const S=u(v,ae)[k],A=u(v,$)===Pe?{}:{...u(v,$)};if(S==="*"){const V=u(v,T)["*"];V&&(s.push(...R(this,K,re).call(this,V,t,u(v,$))),x(V,$,A),g.push(V));continue}const[Re,Ue,Se]=S;if(!d&&!(Se instanceof RegExp))continue;const _=u(v,T)[Re],Dr=l.slice(h).join("/");if(Se instanceof RegExp){const V=Se.exec(Dr);if(V){if(A[Ue]=V[0],s.push(...R(this,K,re).call(this,_,t,u(v,$),A)),Object.keys(u(_,T)).length){x(_,$,A);const at=((o=V[0].match(/\//))==null?void 0:o.length)??0;(c[at]||(c[at]=[])).push(_)}continue}}(Se===!0||Se.test(d))&&(A[Ue]=d,p?(s.push(...R(this,K,re).call(this,_,t,A,u(v,$))),u(_,T)["*"]&&s.push(...R(this,K,re).call(this,u(_,T)["*"],t,A,u(v,$)))):(x(_,$,A),g.push(_)))}}i=g.concat(c.shift()??[])}return s.length>1&&s.sort((h,f)=>h.score-f.score),[s.map(({handler:h,params:f})=>[h,f])]}},Q=new WeakMap,T=new WeakMap,ae=new WeakMap,be=new WeakMap,$=new WeakMap,K=new WeakSet,re=function(t,r,s,n){const i=[];for(let l=0,c=u(t,Q).length;l<c;l++){const o=u(t,Q)[l],h=o[r]||o[C],f={};if(h!==void 0&&(h.params=Object.create(null),i.push(h),s!==Pe||n&&n!==Pe))for(let d=0,p=h.possibleKeys.length;d<p;d++){const g=h.possibleKeys[d],m=f[h.score];h.params[g]=n!=null&&n[g]&&!m?n[g]:s[g]??(n==null?void 0:n[g]),f[h.score]=!0}}return i},xe),le,Qt,Ts=(Qt=class{constructor(){y(this,"name","TrieRouter");E(this,le);x(this,le,new $s)}add(e,t,r){const s=dr(t);if(s){for(let n=0,i=s.length;n<i;n++)u(this,le).insert(e,s[n],r);return}u(this,le).insert(e,t,r)}match(e,t){return u(this,le).search(e,t)}},le=new WeakMap,Qt),Sr=class extends xs{constructor(e={}){super(e),this.router=e.router??new js({routers:[new Cs,new Ts]})}},$e="_hp",Ls={Change:"Input",DoubleClick:"DblClick"},Ns={svg:"2000/svg",math:"1998/Math/MathML"},Te=[],xt=new WeakMap,Ee=void 0,Ds=()=>Ee,B=e=>"t"in e,ft={onClick:["click",!1]},It=e=>{if(!e.startsWith("on"))return;if(ft[e])return ft[e];const t=e.match(/^on([A-Z][a-zA-Z]+?(?:PointerCapture)?)(Capture)?$/);if(t){const[,r,s]=t;return ft[e]=[(Ls[r]||r).toLowerCase(),!!s]}},_t=(e,t)=>Ee&&e instanceof SVGElement&&/[A-Z]/.test(t)&&(t in e.style||t.match(/^(?:o|pai|str|u|ve)/))?t.replace(/([A-Z])/g,"-$1").toLowerCase():t,Ms=(e,t,r)=>{var s;t||(t={});for(let n in t){const i=t[n];if(n!=="children"&&(!r||r[n]!==i)){n=tt(n);const l=It(n);if(l){if((r==null?void 0:r[n])!==i&&(r&&e.removeEventListener(l[0],r[n],l[1]),i!=null)){if(typeof i!="function")throw new Error(`Event handler for "${n}" is not a function`);e.addEventListener(l[0],i,l[1])}}else if(n==="dangerouslySetInnerHTML"&&i)e.innerHTML=i.__html;else if(n==="ref"){let c;typeof i=="function"?c=i(e)||(()=>i(null)):i&&"current"in i&&(i.current=e,c=()=>i.current=null),xt.set(e,c)}else if(n==="style"){const c=e.style;typeof i=="string"?c.cssText=i:(c.cssText="",i!=null&&or(i,c.setProperty.bind(c)))}else{if(n==="value"){const o=e.nodeName;if(o==="INPUT"||o==="TEXTAREA"||o==="SELECT"){if(e.value=i==null||i===!1?null:i,o==="TEXTAREA"){e.textContent=i;continue}else if(o==="SELECT"){e.selectedIndex===-1&&(e.selectedIndex=0);continue}}}else(n==="checked"&&e.nodeName==="INPUT"||n==="selected"&&e.nodeName==="OPTION")&&(e[n]=i);const c=_t(e,n);i==null||i===!1?e.removeAttribute(c):i===!0?e.setAttribute(c,""):typeof i=="string"||typeof i=="number"?e.setAttribute(c,i):e.setAttribute(c,i.toString())}}}if(r)for(let n in r){const i=r[n];if(n!=="children"&&!(n in t)){n=tt(n);const l=It(n);l?e.removeEventListener(l[0],i,l[1]):n==="ref"?(s=xt.get(e))==null||s():e.removeAttribute(_t(e,n))}}},Hs=(e,t)=>{t[O][0]=0,Te.push([e,t]);const r=t.tag[Et]||t.tag,s=r.defaultProps?{...r.defaultProps,...t.props}:t.props;try{return[r.call(null,s)]}finally{Te.pop()}},Pr=(e,t,r,s,n)=>{var i,l;(i=e.vR)!=null&&i.length&&(s.push(...e.vR),delete e.vR),typeof e.tag=="function"&&((l=e[O][1][jr])==null||l.forEach(c=>n.push(c))),e.vC.forEach(c=>{var o;if(B(c))r.push(c);else if(typeof c.tag=="function"||c.tag===""){c.c=t;const h=r.length;if(Pr(c,t,r,s,n),c.s){for(let f=h;f<r.length;f++)r[f].s=!0;c.s=!1}}else r.push(c),(o=c.vR)!=null&&o.length&&(s.push(...c.vR),delete c.vR)})},Fs=e=>{var t;for(;e&&(e.tag===$e||!e.e);)e=e.tag===$e||!((t=e.vC)!=null&&t[0])?e.nN:e.vC[0];return e==null?void 0:e.e},Ar=e=>{var t,r,s,n,i,l;B(e)||((r=(t=e[O])==null?void 0:t[1][jr])==null||r.forEach(c=>{var o;return(o=c[2])==null?void 0:o.call(c)}),(s=xt.get(e.e))==null||s(),e.p===2&&((n=e.vC)==null||n.forEach(c=>c.p=2)),(i=e.vC)==null||i.forEach(Ar)),e.p||((l=e.e)==null||l.remove(),delete e.e),typeof e.tag=="function"&&(Ae.delete(e),Ye.delete(e),delete e[O][3],e.a=!0)},Or=(e,t,r)=>{e.c=t,Cr(e,t,r)},Bt=(e,t)=>{if(t){for(let r=0,s=e.length;r<s;r++)if(e[r]===t)return r}},qt=Symbol(),Cr=(e,t,r)=>{var h;const s=[],n=[],i=[];Pr(e,t,s,n,i),n.forEach(Ar);const l=r?void 0:t.childNodes;let c,o=null;if(r)c=-1;else if(!l.length)c=0;else{const f=Bt(l,Fs(e.nN));f!==void 0?(o=l[f],c=f):c=Bt(l,(h=s.find(d=>d.tag!==$e&&d.e))==null?void 0:h.e)??-1,c===-1&&(r=!0)}for(let f=0,d=s.length;f<d;f++,c++){const p=s[f];let g;if(p.s&&p.e)g=p.e,p.s=!1;else{const m=r||!p.e;B(p)?(p.e&&p.d&&(p.e.textContent=p.t),p.d=!1,g=p.e||(p.e=document.createTextNode(p.t))):(g=p.e||(p.e=p.n?document.createElementNS(p.n,p.tag):document.createElement(p.tag)),Ms(g,p.props,p.pP),Cr(p,g,m))}p.tag===$e?c--:r?g.parentNode||t.appendChild(g):l[c]!==g&&l[c-1]!==g&&(l[c+1]===g?t.appendChild(l[c]):t.insertBefore(g,o||l[c]||null))}if(e.pP&&(e.pP=void 0),i.length){const f=[],d=[];i.forEach(([,p,,g,m])=>{p&&f.push(p),g&&d.push(g),m==null||m()}),f.forEach(p=>p()),d.length&&requestAnimationFrame(()=>{d.forEach(p=>p())})}},Is=(e,t)=>!!(e&&e.length===t.length&&e.every((r,s)=>r[1]===t[s][1])),Ye=new WeakMap,wt=(e,t,r)=>{var i,l,c,o,h,f;const s=!r&&t.pC;r&&(t.pC||(t.pC=t.vC));let n;try{r||(r=typeof t.tag=="function"?Hs(e,t):Ie(t.props.children)),((i=r[0])==null?void 0:i.tag)===""&&r[0][yt]&&(n=r[0][yt],e[5].push([e,n,t]));const d=s?[...t.pC]:t.vC?[...t.vC]:void 0,p=[];let g;for(let m=0;m<r.length;m++){Array.isArray(r[m])&&r.splice(m,1,...r[m].flat());let b=_s(r[m]);if(b){typeof b.tag=="function"&&!b.tag[nr]&&(we.length>0&&(b[O][2]=we.map(w=>[w,w.values.at(-1)])),(l=e[5])!=null&&l.length&&(b[O][3]=e[5].at(-1)));let v;if(d&&d.length){const w=d.findIndex(B(b)?k=>B(k):b.key!==void 0?k=>k.key===b.key&&k.tag===b.tag:k=>k.tag===b.tag);w!==-1&&(v=d[w],d.splice(w,1))}if(v)if(B(b))v.t!==b.t&&(v.t=b.t,v.d=!0),b=v;else{const w=v.pP=v.props;if(v.props=b.props,v.f||(v.f=b.f||t.f),typeof b.tag=="function"){const k=v[O][2];v[O][2]=b[O][2]||[],v[O][3]=b[O][3],!v.f&&((v.o||v)===b.o||(o=(c=v.tag)[_r])!=null&&o.call(c,w,v.props))&&Is(k,v[O][2])&&(v.s=!0)}b=v}else if(!B(b)&&Ee){const w=ke(Ee);w&&(b.n=w)}if(!B(b)&&!b.s&&(wt(e,b),delete b.f),p.push(b),g&&!g.s&&!b.s)for(let w=g;w&&!B(w);w=(h=w.vC)==null?void 0:h.at(-1))w.nN=b;g=b}}t.vR=s?[...t.vC,...d||[]]:d||[],t.vC=p,s&&delete t.pC}catch(d){if(t.f=!0,d===qt){if(n)return;throw d}const[p,g,m]=((f=t[O])==null?void 0:f[3])||[];if(g){const b=()=>Qe([0,!1,e[2]],m),v=Ye.get(m)||[];v.push(b),Ye.set(m,v);const w=g(d,()=>{const k=Ye.get(m);if(k){const P=k.indexOf(b);if(P!==-1)return k.splice(P,1),b()}});if(w){if(e[0]===1)e[1]=!0;else if(wt(e,m,[w]),(g.length===1||e!==p)&&m.c){Or(m,m.c,!1);return}throw qt}}throw d}finally{n&&e[5].pop()}},_s=e=>{if(!(e==null||typeof e=="boolean")){if(typeof e=="string"||typeof e=="number")return{t:e.toString(),d:!0};if("vR"in e&&(e={tag:e.tag,props:e.props,key:e.key,f:e.f,type:e.tag,ref:e.props.ref,o:e.o||e}),typeof e.tag=="function")e[O]=[0,[]];else{const t=Ns[e.tag];t&&(Ee||(Ee=ar("")),e.props.children=[{tag:Ee,props:{value:e.n=`http://www.w3.org/${t}`,children:e.props.children}}])}return e}},Ut=(e,t)=>{var r,s;(r=t[O][2])==null||r.forEach(([n,i])=>{n.values.push(i)});try{wt(e,t,void 0)}catch{return}if(t.a){delete t.a;return}(s=t[O][2])==null||s.forEach(([n])=>{n.values.pop()}),(e[0]!==1||!e[1])&&Or(t,t.c,!1)},Ae=new WeakMap,Wt=[],Qe=async(e,t)=>{e[5]||(e[5]=[]);const r=Ae.get(t);r&&r[0](void 0);let s;const n=new Promise(i=>s=i);if(Ae.set(t,[s,()=>{e[2]?e[2](e,t,i=>{Ut(i,t)}).then(()=>s(t)):(Ut(e,t),s(t))}]),Wt.length)Wt.at(-1).add(t);else{await Promise.resolve();const i=Ae.get(t);i&&(Ae.delete(t),i[1]())}return n},Bs=(e,t,r)=>({tag:$e,props:{children:e},key:r,e:t,p:1}),dt=0,jr=1,pt=2,gt=3,vt=new WeakMap,$r=(e,t)=>!e||!t||e.length!==t.length||t.some((r,s)=>r!==e[s]),qs=void 0,Kt=[],Us=e=>{var l;const t=()=>typeof e=="function"?e():e,r=Te.at(-1);if(!r)return[t(),()=>{}];const[,s]=r,n=(l=s[O][1])[dt]||(l[dt]=[]),i=s[O][0]++;return n[i]||(n[i]=[t(),c=>{const o=qs,h=n[i];if(typeof c=="function"&&(c=c(h[0])),!Object.is(c,h[0]))if(h[0]=c,Kt.length){const[f,d]=Kt.at(-1);Promise.all([f===3?s:Qe([f,!1,o],s),d]).then(([p])=>{if(!p||!(f===2||f===3))return;const g=p.vC;requestAnimationFrame(()=>{setTimeout(()=>{g===p.vC&&Qe([f===3?1:0,!1,o],p)})})})}else Qe([0,!1,o],s)}])},At=(e,t)=>{var c;const r=Te.at(-1);if(!r)return e;const[,s]=r,n=(c=s[O][1])[pt]||(c[pt]=[]),i=s[O][0]++,l=n[i];return $r(l==null?void 0:l[1],t)?n[i]=[e,t]:e=n[i][0],e},Ws=e=>{const t=vt.get(e);if(t){if(t.length===2)throw t[1];return t[0]}throw e.then(r=>vt.set(e,[r]),r=>vt.set(e,[void 0,r])),e},Ks=(e,t)=>{var c;const r=Te.at(-1);if(!r)return e();const[,s]=r,n=(c=s[O][1])[gt]||(c[gt]=[]),i=s[O][0]++,l=n[i];return $r(l==null?void 0:l[1],t)&&(n[i]=[e(),t]),n[i][0]},zs=ar({pending:!1,data:null,method:null,action:null}),zt=new Set,Vs=e=>{zt.add(e),e.finally(()=>zt.delete(e))},Ot=(e,t)=>Ks(()=>r=>{let s;e&&(typeof e=="function"?s=e(r)||(()=>{e(null)}):e&&"current"in e&&(e.current=r,s=()=>{e.current=null}));const n=t(r);return()=>{n==null||n(),s==null||s()}},[e]),he=Object.create(null),Ke=Object.create(null),qe=(e,t,r,s,n)=>{if(t!=null&&t.itemProp)return{tag:e,props:t,type:e,ref:t.ref};const i=document.head;let{onLoad:l,onError:c,precedence:o,blocking:h,...f}=t,d=null,p=!1;const g=ze[e];let m;if(g.length>0){const k=i.querySelectorAll(e);e:for(const P of k)for(const S of ze[e])if(P.getAttribute(S)===t[S]){d=P;break e}if(!d){const P=g.reduce((S,A)=>t[A]===void 0?S:`${S}-${A}-${t[A]}`,e);p=!Ke[P],d=Ke[P]||(Ke[P]=(()=>{const S=document.createElement(e);for(const A of g)t[A]!==void 0&&S.setAttribute(A,t[A]),t.rel&&S.setAttribute("rel",t.rel);return S})())}}else m=i.querySelectorAll(e);o=s?o??"":void 0,s&&(f[Ve]=o);const b=At(k=>{if(g.length>0){let P=!1;for(const S of i.querySelectorAll(e)){if(P&&S.getAttribute(Ve)!==o){i.insertBefore(k,S);return}S.getAttribute(Ve)===o&&(P=!0)}i.appendChild(k)}else if(m){let P=!1;for(const S of m)if(S===k){P=!0;break}P||i.insertBefore(k,i.contains(m[0])?m[0]:i.querySelector(e)),m=void 0}},[o]),v=Ot(t.ref,k=>{var A;const P=g[0];if(r===2&&(k.innerHTML=""),(p||m)&&b(k),!c&&!l)return;let S=he[A=k.getAttribute(P)]||(he[A]=new Promise((Re,Ue)=>{k.addEventListener("load",Re),k.addEventListener("error",Ue)}));l&&(S=S.then(l)),c&&(S=S.catch(c)),S.catch(()=>{})});if(n&&h==="render"){const k=ze[e][0];if(t[k]){const P=t[k],S=he[P]||(he[P]=new Promise((A,Re)=>{b(d),d.addEventListener("load",A),d.addEventListener("error",Re)}));Ws(S)}}const w={tag:e,type:e,props:{...f,ref:v},ref:v};return w.p=r,d&&(w.e=d),Bs(w,i)},Gs=e=>{const t=Ds(),r=t&&ke(t);return r!=null&&r.endsWith("svg")?{tag:"title",props:e,type:"title",ref:e.ref}:qe("title",e,void 0,!1,!1)},Js=e=>!e||["src","async"].some(t=>!e[t])?{tag:"script",props:e,type:"script",ref:e.ref}:qe("script",e,1,!1,!0),Xs=e=>!e||!["href","precedence"].every(t=>t in e)?{tag:"style",props:e,type:"style",ref:e.ref}:(e["data-href"]=e.href,delete e.href,qe("style",e,2,!0,!0)),Zs=e=>!e||["onLoad","onError"].some(t=>t in e)||e.rel==="stylesheet"&&(!("precedence"in e)||"disabled"in e)?{tag:"link",props:e,type:"link",ref:e.ref}:qe("link",e,1,"precedence"in e,!0),Ys=e=>qe("meta",e,void 0,!1,!1),Tr=Symbol(),Qs=e=>{const{action:t,...r}=e;typeof t!="function"&&(r.action=t);const[s,n]=Us([null,!1]),i=At(async h=>{const f=h.isTrusted?t:h.detail[Tr];if(typeof f!="function")return;h.preventDefault();const d=new FormData(h.target);n([d,!0]);const p=f(d);p instanceof Promise&&(Vs(p),await p),n([null,!0])},[]),l=Ot(e.ref,h=>(h.addEventListener("submit",i),()=>{h.removeEventListener("submit",i)})),[c,o]=s;return s[1]=!1,{tag:zs,props:{value:{pending:c!==null,data:c,method:c?"post":null,action:c?t:null},children:{tag:"form",props:{...r,ref:l},type:"form",ref:l}},f:o}},Lr=(e,{formAction:t,...r})=>{if(typeof t=="function"){const s=At(n=>{n.preventDefault(),n.currentTarget.form.dispatchEvent(new CustomEvent("submit",{detail:{[Tr]:t}}))},[]);r.ref=Ot(r.ref,n=>(n.addEventListener("click",s),()=>{n.removeEventListener("click",s)}))}return{tag:e,props:r,type:e,ref:r.ref}},en=e=>Lr("input",e),tn=e=>Lr("button",e);Object.assign(mt,{title:Gs,script:Js,style:Xs,link:Zs,meta:Ys,form:Qs,input:en,button:tn});kt(null);new TextEncoder;var rn=kt(null),sn=(e,t,r,s)=>(n,i)=>{const l="<!DOCTYPE html>",c=r?Nt(h=>r(h,e),{Layout:t,...i},n):n,o=Ir`${D(l)}${Nt(rn.Provider,{value:e},c)}`;return e.html(o)},nn=(e,t)=>function(s,n){const i=s.getLayout()??Qr;return e&&s.setLayout(l=>e({...l,Layout:i},s)),s.setRenderer(sn(s,i,e)),n()};const an=nn(({children:e})=>a("html",{lang:"ja",children:[a("head",{children:[a("meta",{charset:"UTF-8"}),a("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),a("title",{children:"航空券予約システム - Flight Booking"}),a("script",{src:"https://cdn.tailwindcss.com"}),a("link",{href:"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css",rel:"stylesheet"}),a("link",{href:"/static/style.css",rel:"stylesheet"})]}),a("body",{children:e})]})),it=new Sr;it.use(an);it.get("/",e=>e.render(a("div",{class:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[a("header",{class:"bg-blue-600 text-white shadow-lg",children:a("div",{class:"container mx-auto px-4 py-4",children:a("div",{class:"flex items-center justify-between",children:[a("div",{class:"flex items-center space-x-2",children:[a("i",{class:"fas fa-plane text-3xl"}),a("h1",{class:"text-2xl font-bold",children:"FlightSearch"})]}),a("nav",{class:"hidden md:flex space-x-6",children:[a("a",{href:"/",class:"hover:text-blue-200 transition",children:"ホーム"}),a("a",{href:"#",class:"hover:text-blue-200 transition",children:"予約確認"}),a("a",{href:"#",class:"hover:text-blue-200 transition",children:"お問い合わせ"})]})]})})}),a("main",{class:"container mx-auto px-4 py-8",children:[a("div",{class:"text-center mb-8",children:[a("h2",{class:"text-4xl font-bold text-gray-800 mb-2",children:"お得な航空券を検索"}),a("p",{class:"text-gray-600",children:"世界中のフライトを比較して、最安値を見つけましょう"})]}),a("div",{class:"bg-white rounded-2xl shadow-2xl p-6 md:p-8 mb-8",children:[a("div",{class:"flex flex-wrap gap-4 mb-6",children:[a("label",{class:"flex items-center space-x-2 cursor-pointer",children:[a("input",{type:"radio",name:"tripType",value:"roundtrip",checked:!0,class:"w-4 h-4 text-blue-600"}),a("span",{class:"text-gray-700 font-medium",children:"往復"})]}),a("label",{class:"flex items-center space-x-2 cursor-pointer",children:[a("input",{type:"radio",name:"tripType",value:"oneway",class:"w-4 h-4 text-blue-600"}),a("span",{class:"text-gray-700 font-medium",children:"片道"})]}),a("label",{class:"flex items-center space-x-2 cursor-pointer",children:[a("input",{type:"radio",name:"tripType",value:"multicity",class:"w-4 h-4 text-blue-600"}),a("span",{class:"text-gray-700 font-medium",children:"複数都市"})]})]}),a("div",{class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[a("div",{class:"relative",children:[a("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"出発地"}),a("div",{class:"relative",children:[a("i",{class:"fas fa-plane-departure absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),a("input",{type:"text",id:"fromLocation",placeholder:"東京 (TYO)",class:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),a("div",{class:"relative",children:[a("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"目的地"}),a("div",{class:"relative",children:[a("i",{class:"fas fa-plane-arrival absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),a("input",{type:"text",id:"toLocation",placeholder:"ニューヨーク (JFK)",class:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),a("div",{class:"relative",children:[a("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"出発日"}),a("div",{class:"relative",children:[a("i",{class:"fas fa-calendar-alt absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),a("input",{type:"date",id:"departureDate",class:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),a("div",{class:"relative",id:"returnDateField",children:[a("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"帰国日"}),a("div",{class:"relative",children:[a("i",{class:"fas fa-calendar-alt absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),a("input",{type:"date",id:"returnDate",class:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),a("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[a("div",{class:"relative",children:[a("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"乗客"}),a("button",{type:"button",id:"passengerButton",class:"w-full px-4 py-3 border border-gray-300 rounded-lg text-left flex items-center justify-between hover:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a("span",{class:"flex items-center",children:[a("i",{class:"fas fa-user mr-2 text-gray-400"}),a("span",{id:"passengerDisplay",children:"1 名, エコノミー"})]}),a("i",{class:"fas fa-chevron-down text-gray-400"})]}),a("div",{id:"passengerDropdown",class:"hidden absolute z-10 mt-2 w-full md:w-96 bg-white border border-gray-200 rounded-lg shadow-xl p-4",children:a("div",{class:"space-y-4",children:[a("div",{class:"flex items-center justify-between",children:[a("div",{children:[a("div",{class:"font-medium text-gray-700",children:"大人"}),a("div",{class:"text-sm text-gray-500",children:"12歳以上"})]}),a("div",{class:"flex items-center space-x-3",children:[a("button",{type:"button",class:"w-8 h-8 rounded-full border border-gray-300 hover:bg-gray-100",onclick:"updatePassenger('adults', -1)",children:"-"}),a("span",{id:"adultsCount",class:"w-8 text-center font-medium",children:"1"}),a("button",{type:"button",class:"w-8 h-8 rounded-full border border-gray-300 hover:bg-gray-100",onclick:"updatePassenger('adults', 1)",children:"+"})]})]}),a("div",{class:"flex items-center justify-between",children:[a("div",{children:[a("div",{class:"font-medium text-gray-700",children:"子供"}),a("div",{class:"text-sm text-gray-500",children:"2-11歳"})]}),a("div",{class:"flex items-center space-x-3",children:[a("button",{type:"button",class:"w-8 h-8 rounded-full border border-gray-300 hover:bg-gray-100",onclick:"updatePassenger('children', -1)",children:"-"}),a("span",{id:"childrenCount",class:"w-8 text-center font-medium",children:"0"}),a("button",{type:"button",class:"w-8 h-8 rounded-full border border-gray-300 hover:bg-gray-100",onclick:"updatePassenger('children', 1)",children:"+"})]})]}),a("div",{class:"flex items-center justify-between",children:[a("div",{children:[a("div",{class:"font-medium text-gray-700",children:"幼児"}),a("div",{class:"text-sm text-gray-500",children:"2歳未満"})]}),a("div",{class:"flex items-center space-x-3",children:[a("button",{type:"button",class:"w-8 h-8 rounded-full border border-gray-300 hover:bg-gray-100",onclick:"updatePassenger('infants', -1)",children:"-"}),a("span",{id:"infantsCount",class:"w-8 text-center font-medium",children:"0"}),a("button",{type:"button",class:"w-8 h-8 rounded-full border border-gray-300 hover:bg-gray-100",onclick:"updatePassenger('infants', 1)",children:"+"})]})]}),a("hr",{class:"my-4"}),a("div",{children:[a("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"座席クラス"}),a("select",{id:"cabinClass",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[a("option",{value:"economy",children:"エコノミー"}),a("option",{value:"premium_economy",children:"プレミアムエコノミー"}),a("option",{value:"business",children:"ビジネス"}),a("option",{value:"first",children:"ファースト"})]})]}),a("button",{type:"button",class:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700",onclick:"closePassengerDropdown()",children:"完了"})]})})]}),a("div",{class:"flex items-end",children:a("label",{class:"flex items-center space-x-2 cursor-pointer pb-3",children:[a("input",{type:"checkbox",id:"directFlights",class:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),a("span",{class:"text-gray-700",children:"直行便のみ"})]})}),a("div",{children:[a("label",{class:"block text-sm font-medium text-gray-700 mb-2 opacity-0",children:"検索"}),a("button",{type:"button",onclick:"searchFlights()",class:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 px-6 rounded-lg font-semibold hover:from-blue-700 hover:to-indigo-700 transition shadow-lg hover:shadow-xl",children:[a("i",{class:"fas fa-search mr-2"}),"フライトを検索"]})]})]})]}),a("div",{id:"searchResults",class:"hidden",children:[a("div",{class:"bg-white rounded-lg shadow-md p-6 mb-6",children:a("div",{class:"flex flex-col md:flex-row justify-between items-start md:items-center space-y-4 md:space-y-0",children:[a("div",{children:[a("h3",{class:"text-2xl font-bold text-gray-800 mb-2",children:"検索結果"}),a("p",{class:"text-gray-600",id:"routeInfo",children:"東京 (TYO) → ニューヨーク (JFK)"})]}),a("div",{class:"flex items-center space-x-4",children:a("select",{id:"sortBy",class:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[a("option",{value:"best",children:"おすすめ順"}),a("option",{value:"price",children:"最安値順"}),a("option",{value:"duration",children:"最短時間順"}),a("option",{value:"departure",children:"出発時間順"})]})})]})}),a("div",{class:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[a("div",{class:"lg:col-span-1",children:a("div",{class:"bg-white rounded-lg shadow-md p-6 sticky top-4",children:[a("h4",{class:"text-lg font-bold text-gray-800 mb-4",children:"フィルター"}),a("div",{class:"mb-6",children:[a("h5",{class:"font-semibold text-gray-700 mb-3",children:"価格帯"}),a("div",{class:"space-y-2",children:[a("input",{type:"range",min:"0",max:"500000",step:"10000",class:"w-full",id:"priceRange"}),a("div",{class:"flex justify-between text-sm text-gray-600",children:[a("span",{children:"¥0"}),a("span",{id:"maxPrice",children:"¥500,000+"})]})]})]}),a("div",{class:"mb-6",children:[a("h5",{class:"font-semibold text-gray-700 mb-3",children:"経由回数"}),a("div",{class:"space-y-2",children:[a("label",{class:"flex items-center space-x-2",children:[a("input",{type:"checkbox",class:"w-4 h-4 text-blue-600 rounded",checked:!0}),a("span",{class:"text-gray-700",children:"直行便"})]}),a("label",{class:"flex items-center space-x-2",children:[a("input",{type:"checkbox",class:"w-4 h-4 text-blue-600 rounded",checked:!0}),a("span",{class:"text-gray-700",children:"1回経由"})]}),a("label",{class:"flex items-center space-x-2",children:[a("input",{type:"checkbox",class:"w-4 h-4 text-blue-600 rounded",checked:!0}),a("span",{class:"text-gray-700",children:"2回以上経由"})]})]})]}),a("div",{class:"mb-6",children:[a("h5",{class:"font-semibold text-gray-700 mb-3",children:"出発時間帯"}),a("div",{class:"grid grid-cols-2 gap-2",children:[a("button",{type:"button",class:"px-3 py-2 border border-gray-300 rounded-lg text-sm hover:bg-blue-50 hover:border-blue-500",children:[a("i",{class:"fas fa-sun text-yellow-500"})," 朝"]}),a("button",{type:"button",class:"px-3 py-2 border border-gray-300 rounded-lg text-sm hover:bg-blue-50 hover:border-blue-500",children:[a("i",{class:"fas fa-cloud-sun text-orange-500"})," 昼"]}),a("button",{type:"button",class:"px-3 py-2 border border-gray-300 rounded-lg text-sm hover:bg-blue-50 hover:border-blue-500",children:[a("i",{class:"fas fa-cloud-moon text-indigo-500"})," 夕"]}),a("button",{type:"button",class:"px-3 py-2 border border-gray-300 rounded-lg text-sm hover:bg-blue-50 hover:border-blue-500",children:[a("i",{class:"fas fa-moon text-blue-900"})," 夜"]})]})]}),a("div",{class:"mb-6",children:[a("h5",{class:"font-semibold text-gray-700 mb-3",children:"航空会社"}),a("div",{class:"space-y-2 max-h-48 overflow-y-auto",children:[a("label",{class:"flex items-center space-x-2",children:[a("input",{type:"checkbox",class:"w-4 h-4 text-blue-600 rounded",checked:!0}),a("span",{class:"text-gray-700 text-sm",children:"全日空 (ANA)"})]}),a("label",{class:"flex items-center space-x-2",children:[a("input",{type:"checkbox",class:"w-4 h-4 text-blue-600 rounded",checked:!0}),a("span",{class:"text-gray-700 text-sm",children:"日本航空 (JAL)"})]}),a("label",{class:"flex items-center space-x-2",children:[a("input",{type:"checkbox",class:"w-4 h-4 text-blue-600 rounded",checked:!0}),a("span",{class:"text-gray-700 text-sm",children:"ユナイテッド航空"})]}),a("label",{class:"flex items-center space-x-2",children:[a("input",{type:"checkbox",class:"w-4 h-4 text-blue-600 rounded",checked:!0}),a("span",{class:"text-gray-700 text-sm",children:"デルタ航空"})]}),a("label",{class:"flex items-center space-x-2",children:[a("input",{type:"checkbox",class:"w-4 h-4 text-blue-600 rounded",checked:!0}),a("span",{class:"text-gray-700 text-sm",children:"アメリカン航空"})]})]})]}),a("button",{type:"button",class:"w-full bg-gray-100 text-gray-700 py-2 rounded-lg hover:bg-gray-200",children:"フィルターをリセット"})]})}),a("div",{class:"lg:col-span-3",id:"flightList",children:a("div",{class:"space-y-4",id:"flightCards"})})]})]})]}),a("footer",{class:"bg-gray-800 text-white mt-16",children:a("div",{class:"container mx-auto px-4 py-8",children:[a("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[a("div",{children:[a("h5",{class:"font-bold text-lg mb-4",children:"FlightSearch"}),a("p",{class:"text-gray-400",children:"お得な航空券を簡単検索"})]}),a("div",{children:[a("h5",{class:"font-bold text-lg mb-4",children:"リンク"}),a("ul",{class:"space-y-2 text-gray-400",children:[a("li",{children:a("a",{href:"#",class:"hover:text-white",children:"利用規約"})}),a("li",{children:a("a",{href:"#",class:"hover:text-white",children:"プライバシーポリシー"})}),a("li",{children:a("a",{href:"#",class:"hover:text-white",children:"お問い合わせ"})})]})]}),a("div",{children:[a("h5",{class:"font-bold text-lg mb-4",children:"フォロー"}),a("div",{class:"flex space-x-4",children:[a("a",{href:"#",class:"text-gray-400 hover:text-white",children:a("i",{class:"fab fa-facebook text-2xl"})}),a("a",{href:"#",class:"text-gray-400 hover:text-white",children:a("i",{class:"fab fa-twitter text-2xl"})}),a("a",{href:"#",class:"text-gray-400 hover:text-white",children:a("i",{class:"fab fa-instagram text-2xl"})})]})]})]}),a("div",{class:"border-t border-gray-700 mt-8 pt-8 text-center text-gray-400",children:a("p",{children:"© 2026 FlightSearch. All rights reserved."})})]})}),a("script",{src:"/static/app.js"})]})));it.post("/api/search",async e=>{const t=await e.req.json();return e.json({success:!0,message:"Search received",data:t})});const Vt=new Sr,ln=Object.assign({"/src/index.tsx":it});let Nr=!1;for(const[,e]of Object.entries(ln))e&&(Vt.all("*",t=>{let r;try{r=t.executionCtx}catch{}return e.fetch(t.req.raw,t.env,r)}),Vt.notFound(t=>{let r;try{r=t.executionCtx}catch{}return e.fetch(t.req.raw,t.env,r)}),Nr=!0);if(!Nr)throw new Error("Can't import modules from ['/src/index.ts','/src/index.tsx','/app/server.ts']");export{Vt as default};
