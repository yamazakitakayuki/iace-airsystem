var Nr=Object.defineProperty;var At=t=>{throw TypeError(t)};var Dr=(t,r,l)=>r in t?Nr(t,r,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[r]=l;var p=(t,r,l)=>Dr(t,typeof r!="symbol"?r+"":r,l),at=(t,r,l)=>r.has(t)||At("Cannot "+l);var h=(t,r,l)=>(at(t,r,"read from private field"),l?l.call(t):r.get(t)),k=(t,r,l)=>r.has(t)?At("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(t):r.set(t,l),v=(t,r,l,s)=>(at(t,r,"write to private field"),s?s.call(t,l):r.set(t,l),l),S=(t,r,l)=>(at(t,r,"access private method"),l);var Tt=(t,r,l,s)=>({set _(i){v(t,r,i,l)},get _(){return h(t,r,s)}});var er={Stringify:1},M=(t,r)=>{const l=new String(t);return l.isEscaped=!0,l.callbacks=r,l},Hr=/[&<>'"]/,tr=async(t,r)=>{let l="";r||(r=[]);const s=await Promise.all(t);for(let i=s.length-1;l+=s[i],i--,!(i<0);i--){let n=s[i];typeof n=="object"&&r.push(...n.callbacks||[]);const a=n.isEscaped;if(n=await(typeof n=="object"?n.toString():n),typeof n=="object"&&r.push(...n.callbacks||[]),n.isEscaped??a)l+=n;else{const c=[l];ee(n,c),l=c[0]}}return M(l,r)},ee=(t,r)=>{const l=t.search(Hr);if(l===-1){r[0]+=t;return}let s,i,n=0;for(i=l;i<t.length;i++){switch(t.charCodeAt(i)){case 34:s="&quot;";break;case 39:s="&#39;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}r[0]+=t.substring(n,i)+s,n=i+1}r[0]+=t.substring(n,i)},rr=t=>{const r=t.callbacks;if(!(r!=null&&r.length))return t;const l=[t],s={};return r.forEach(i=>i({phase:er.Stringify,buffer:l,context:s})),l[0]},lr=async(t,r,l,s,i)=>{typeof t=="object"&&!(t instanceof String)&&(t instanceof Promise||(t=t.toString()),t instanceof Promise&&(t=await t));const n=t.callbacks;return n!=null&&n.length?(i?i[0]+=t:i=[t],Promise.all(n.map(c=>c({phase:r,buffer:i,context:s}))).then(c=>Promise.all(c.filter(Boolean).map(o=>lr(o,r,!1,s,i))).then(()=>i[0]))):Promise.resolve(t)},_r=(t,...r)=>{const l=[""];for(let s=0,i=t.length-1;s<i;s++){l[0]+=t[s];const n=Array.isArray(r[s])?r[s].flat(1/0):[r[s]];for(let a=0,c=n.length;a<c;a++){const o=n[a];if(typeof o=="string")ee(o,l);else if(typeof o=="number")l[0]+=o;else{if(typeof o=="boolean"||o===null||o===void 0)continue;if(typeof o=="object"&&o.isEscaped)if(o.callbacks)l.unshift("",o);else{const d=o.toString();d instanceof Promise?l.unshift("",d):l[0]+=d}else o instanceof Promise?l.unshift("",o):ee(o.toString(),l)}}}return l[0]+=t.at(-1),l.length===1?"callbacks"in l?M(rr(M(l[0],l.callbacks))):M(l[0]):tr(l,l.callbacks)},kt=Symbol("RENDERER"),pt=Symbol("ERROR_HANDLER"),j=Symbol("STASH"),sr=Symbol("INTERNAL"),Ir=Symbol("MEMO"),et=Symbol("PERMALINK"),Ot=t=>(t[sr]=!0,t),ir=t=>({value:r,children:l})=>{if(!l)return;const s={children:[{tag:Ot(()=>{t.push(r)}),props:{}}]};Array.isArray(l)?s.children.push(...l.flat()):s.children.push(l),s.children.push({tag:Ot(()=>{t.pop()}),props:{}});const i={tag:"",props:s,type:""};return i[pt]=n=>{throw t.pop(),n},i},nr=t=>{const r=[t],l=ir(r);return l.values=r,l.Provider=l,we.push(l),l},we=[],Et=t=>{const r=[t],l=(s=>{r.push(s.value);let i;try{i=s.children?(Array.isArray(s.children)?new dr("",{},s.children):s.children).toString():""}catch(n){throw r.pop(),n}return i instanceof Promise?i.finally(()=>r.pop()).then(n=>M(n,n.callbacks)):(r.pop(),M(i))});return l.values=r,l.Provider=l,l[kt]=ir(r),we.push(l),l},Ee=t=>t.values.at(-1),Ke={title:[],script:["src"],style:["data-href"],link:["href"],meta:["name","httpEquiv","charset","itemProp"]},mt={},Ve="data-precedence",_e=t=>Array.isArray(t)?t:[t],Lt=new WeakMap,$t=(t,r,l,s)=>({buffer:i,context:n})=>{if(!i)return;const a=Lt.get(n)||{};Lt.set(n,a);const c=a[t]||(a[t]=[]);let o=!1;const d=Ke[t];if(d.length>0){e:for(const[,f]of c)for(const u of d)if(((f==null?void 0:f[u])??null)===(l==null?void 0:l[u])){o=!0;break e}}if(o?i[0]=i[0].replaceAll(r,""):d.length>0?c.push([r,l,s]):c.unshift([r,l,s]),i[0].indexOf("</head>")!==-1){let f;if(s===void 0)f=c.map(([u])=>u);else{const u=[];f=c.map(([x,,g])=>{let m=u.indexOf(g);return m===-1&&(u.push(g),m=u.length-1),[x,m]}).sort((x,g)=>x[1]-g[1]).map(([x])=>x)}f.forEach(u=>{i[0]=i[0].replaceAll(u,"")}),i[0]=i[0].replace(/(?=<\/head>)/,f.join(""))}},Ie=(t,r,l)=>M(new _(t,l,_e(r??[])).toString()),Be=(t,r,l,s)=>{if("itemProp"in l)return Ie(t,r,l);let{precedence:i,blocking:n,...a}=l;i=s?i??"":void 0,s&&(a[Ve]=i);const c=new _(t,a,_e(r||[])).toString();return c instanceof Promise?c.then(o=>M(c,[...o.callbacks||[],$t(t,o,a,i)])):M(c,[$t(t,c,a,i)])},Br=({children:t,...r})=>{const l=St();if(l){const s=Ee(l);if(s==="svg"||s==="head")return new _("title",r,_e(t??[]))}return Be("title",t,r,!1)},qr=({children:t,...r})=>{const l=St();return["src","async"].some(s=>!r[s])||l&&Ee(l)==="head"?Ie("script",t,r):Be("script",t,r,!1)},zr=({children:t,...r})=>["href","precedence"].every(l=>l in r)?(r["data-href"]=r.href,delete r.href,Be("style",t,r,!0)):Ie("style",t,r),Ur=({children:t,...r})=>["onLoad","onError"].some(l=>l in r)||r.rel==="stylesheet"&&(!("precedence"in r)||"disabled"in r)?Ie("link",t,r):Be("link",t,r,"precedence"in r),Wr=({children:t,...r})=>{const l=St();return l&&Ee(l)==="head"?Ie("meta",t,r):Be("meta",t,r,!1)},ar=(t,{children:r,...l})=>new _(t,l,_e(r??[])),Kr=t=>(typeof t.action=="function"&&(t.action=et in t.action?t.action[et]:void 0),ar("form",t)),cr=(t,r)=>(typeof r.formAction=="function"&&(r.formAction=et in r.formAction?r.formAction[et]:void 0),ar(t,r)),Vr=t=>cr("input",t),Gr=t=>cr("button",t);const ct=Object.freeze(Object.defineProperty({__proto__:null,button:Gr,form:Kr,input:Vr,link:Ur,meta:Wr,script:qr,style:zr,title:Br},Symbol.toStringTag,{value:"Module"}));var Jr=new Map([["className","class"],["htmlFor","for"],["crossOrigin","crossorigin"],["httpEquiv","http-equiv"],["itemProp","itemprop"],["fetchPriority","fetchpriority"],["noModule","nomodule"],["formAction","formaction"]]),tt=t=>Jr.get(t)||t,or=(t,r)=>{for(const[l,s]of Object.entries(t)){const i=l[0]==="-"||!/[A-Z]/.test(l)?l:l.replace(/[A-Z]/g,n=>`-${n.toLowerCase()}`);r(i,s==null?null:typeof s=="number"?i.match(/^(?:a|border-im|column(?:-c|s)|flex(?:$|-[^b])|grid-(?:ar|[^a])|font-w|li|or|sca|st|ta|wido|z)|ty$/)?`${s}`:`${s}px`:s)}},Te=void 0,St=()=>Te,Xr=t=>/[A-Z]/.test(t)&&t.match(/^(?:al|basel|clip(?:Path|Rule)$|co|do|fill|fl|fo|gl|let|lig|i|marker[EMS]|o|pai|pointe|sh|st[or]|text[^L]|tr|u|ve|w)/)?t.replace(/([A-Z])/g,"-$1").toLowerCase():t,Yr=["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],Zr=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","download","formnovalidate","hidden","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"],Pt=(t,r)=>{for(let l=0,s=t.length;l<s;l++){const i=t[l];if(typeof i=="string")ee(i,r);else{if(typeof i=="boolean"||i===null||i===void 0)continue;i instanceof _?i.toStringToBuffer(r):typeof i=="number"||i.isEscaped?r[0]+=i:i instanceof Promise?r.unshift("",i):Pt(i,r)}}},_=class{constructor(t,r,l){p(this,"tag");p(this,"props");p(this,"key");p(this,"children");p(this,"isEscaped",!0);p(this,"localContexts");this.tag=t,this.props=r,this.children=l}get type(){return this.tag}get ref(){return this.props.ref||null}toString(){var r,l;const t=[""];(r=this.localContexts)==null||r.forEach(([s,i])=>{s.values.push(i)});try{this.toStringToBuffer(t)}finally{(l=this.localContexts)==null||l.forEach(([s])=>{s.values.pop()})}return t.length===1?"callbacks"in t?rr(M(t[0],t.callbacks)).toString():t[0]:tr(t,t.callbacks)}toStringToBuffer(t){const r=this.tag,l=this.props;let{children:s}=this;t[0]+=`<${r}`;const i=Te&&Ee(Te)==="svg"?n=>Xr(tt(n)):n=>tt(n);for(let[n,a]of Object.entries(l))if(n=i(n),n!=="children"){if(n==="style"&&typeof a=="object"){let c="";or(a,(o,d)=>{d!=null&&(c+=`${c?";":""}${o}:${d}`)}),t[0]+=' style="',ee(c,t),t[0]+='"'}else if(typeof a=="string")t[0]+=` ${n}="`,ee(a,t),t[0]+='"';else if(a!=null)if(typeof a=="number"||a.isEscaped)t[0]+=` ${n}="${a}"`;else if(typeof a=="boolean"&&Zr.includes(n))a&&(t[0]+=` ${n}=""`);else if(n==="dangerouslySetInnerHTML"){if(s.length>0)throw new Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");s=[M(a.__html)]}else if(a instanceof Promise)t[0]+=` ${n}="`,t.unshift('"',a);else if(typeof a=="function"){if(!n.startsWith("on")&&n!=="ref")throw new Error(`Invalid prop '${n}' of type 'function' supplied to '${r}'.`)}else t[0]+=` ${n}="`,ee(a.toString(),t),t[0]+='"'}if(Yr.includes(r)&&s.length===0){t[0]+="/>";return}t[0]+=">",Pt(s,t),t[0]+=`</${r}>`}},ot=class extends _{toStringToBuffer(t){const{children:r}=this,l={...this.props};r.length&&(l.children=r.length===1?r[0]:r);const s=this.tag.call(null,l);if(!(typeof s=="boolean"||s==null))if(s instanceof Promise)if(we.length===0)t.unshift("",s);else{const i=we.map(n=>[n,n.values.at(-1)]);t.unshift("",s.then(n=>(n instanceof _&&(n.localContexts=i),n)))}else s instanceof _?s.toStringToBuffer(t):typeof s=="number"||s.isEscaped?(t[0]+=s,s.callbacks&&(t.callbacks||(t.callbacks=[]),t.callbacks.push(...s.callbacks))):ee(s,t)}},dr=class extends _{toStringToBuffer(t){Pt(this.children,t)}},Ft=(t,r,...l)=>{r??(r={}),l.length&&(r.children=l.length===1?l[0]:l);const s=r.key;delete r.key;const i=Ge(t,r,l);return i.key=s,i},Mt=!1,Ge=(t,r,l)=>{if(!Mt){for(const s in mt)ct[s][kt]=mt[s];Mt=!0}return typeof t=="function"?new ot(t,r,l):ct[t]?new ot(ct[t],r,l):t==="svg"||t==="head"?(Te||(Te=Et("")),new _(t,r,[new ot(Te,{value:t},l)])):new _(t,r,l)},Qr=({children:t})=>new dr("",{children:t},Array.isArray(t)?t:t?[t]:[]);function e(t,r,l){let s;if(!r||!("children"in r))s=Ge(t,r,[]);else{const i=r.children;s=Array.isArray(i)?Ge(t,r,i):Ge(t,r,[i])}return s.key=l,s}var Nt=(t,r,l)=>(s,i)=>{let n=-1;return a(0);async function a(c){if(c<=n)throw new Error("next() called multiple times");n=c;let o,d=!1,f;if(t[c]?(f=t[c][0][0],s.req.routeIndex=c):f=c===t.length&&i||void 0,f)try{o=await f(s,()=>a(c+1))}catch(u){if(u instanceof Error&&r)s.error=u,o=await r(u,s),d=!0;else throw u}else s.finalized===!1&&l&&(o=await l(s));return o&&(s.finalized===!1||d)&&(s.res=o),s}},el=Symbol(),tl=async(t,r=Object.create(null))=>{const{all:l=!1,dot:s=!1}=r,n=(t instanceof br?t.raw.headers:t.headers).get("Content-Type");return n!=null&&n.startsWith("multipart/form-data")||n!=null&&n.startsWith("application/x-www-form-urlencoded")?rl(t,{all:l,dot:s}):{}};async function rl(t,r){const l=await t.formData();return l?ll(l,r):{}}function ll(t,r){const l=Object.create(null);return t.forEach((s,i)=>{r.all||i.endsWith("[]")?sl(l,i,s):l[i]=s}),r.dot&&Object.entries(l).forEach(([s,i])=>{s.includes(".")&&(il(l,s,i),delete l[s])}),l}var sl=(t,r,l)=>{t[r]!==void 0?Array.isArray(t[r])?t[r].push(l):t[r]=[t[r],l]:r.endsWith("[]")?t[r]=[l]:t[r]=l},il=(t,r,l)=>{let s=t;const i=r.split(".");i.forEach((n,a)=>{a===i.length-1?s[n]=l:((!s[n]||typeof s[n]!="object"||Array.isArray(s[n])||s[n]instanceof File)&&(s[n]=Object.create(null)),s=s[n])})},hr=t=>{const r=t.split("/");return r[0]===""&&r.shift(),r},nl=t=>{const{groups:r,path:l}=al(t),s=hr(l);return cl(s,r)},al=t=>{const r=[];return t=t.replace(/\{[^}]+\}/g,(l,s)=>{const i=`@${s}`;return r.push([i,l]),i}),{groups:r,path:t}},cl=(t,r)=>{for(let l=r.length-1;l>=0;l--){const[s]=r[l];for(let i=t.length-1;i>=0;i--)if(t[i].includes(s)){t[i]=t[i].replace(s,r[l][1]);break}}return t},Ue={},ol=(t,r)=>{if(t==="*")return"*";const l=t.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);if(l){const s=`${t}#${r}`;return Ue[s]||(l[2]?Ue[s]=r&&r[0]!==":"&&r[0]!=="*"?[s,l[1],new RegExp(`^${l[2]}(?=/${r})`)]:[t,l[1],new RegExp(`^${l[2]}$`)]:Ue[s]=[t,l[1],!0]),Ue[s]}return null},Ct=(t,r)=>{try{return r(t)}catch{return t.replace(/(?:%[0-9A-Fa-f]{2})+/g,l=>{try{return r(l)}catch{return l}})}},dl=t=>Ct(t,decodeURI),fr=t=>{const r=t.url,l=r.indexOf("/",r.indexOf(":")+4);let s=l;for(;s<r.length;s++){const i=r.charCodeAt(s);if(i===37){const n=r.indexOf("?",s),a=r.indexOf("#",s),c=n===-1?a===-1?void 0:a:a===-1?n:Math.min(n,a),o=r.slice(l,c);return dl(o.includes("%25")?o.replace(/%25/g,"%2525"):o)}else if(i===63||i===35)break}return r.slice(l,s)},hl=t=>{const r=fr(t);return r.length>1&&r.at(-1)==="/"?r.slice(0,-1):r},he=(t,r,...l)=>(l.length&&(r=he(r,...l)),`${(t==null?void 0:t[0])==="/"?"":"/"}${t}${r==="/"?"":`${(t==null?void 0:t.at(-1))==="/"?"":"/"}${(r==null?void 0:r[0])==="/"?r.slice(1):r}`}`),ur=t=>{if(t.charCodeAt(t.length-1)!==63||!t.includes(":"))return null;const r=t.split("/"),l=[];let s="";return r.forEach(i=>{if(i!==""&&!/\:/.test(i))s+="/"+i;else if(/\:/.test(i))if(/\?/.test(i)){l.length===0&&s===""?l.push("/"):l.push(s);const n=i.replace("?","");s+="/"+n,l.push(s)}else s+="/"+i}),l.filter((i,n,a)=>a.indexOf(i)===n)},dt=t=>/[%+]/.test(t)?(t.indexOf("+")!==-1&&(t=t.replace(/\+/g," ")),t.indexOf("%")!==-1?Ct(t,gr):t):t,xr=(t,r,l)=>{let s;if(!l&&r&&!/[%+]/.test(r)){let a=t.indexOf("?",8);if(a===-1)return;for(t.startsWith(r,a+1)||(a=t.indexOf(`&${r}`,a+1));a!==-1;){const c=t.charCodeAt(a+r.length+1);if(c===61){const o=a+r.length+2,d=t.indexOf("&",o);return dt(t.slice(o,d===-1?void 0:d))}else if(c==38||isNaN(c))return"";a=t.indexOf(`&${r}`,a+1)}if(s=/[%+]/.test(t),!s)return}const i={};s??(s=/[%+]/.test(t));let n=t.indexOf("?",8);for(;n!==-1;){const a=t.indexOf("&",n+1);let c=t.indexOf("=",n);c>a&&a!==-1&&(c=-1);let o=t.slice(n+1,c===-1?a===-1?void 0:a:c);if(s&&(o=dt(o)),n=a,o==="")continue;let d;c===-1?d="":(d=t.slice(c+1,a===-1?void 0:a),s&&(d=dt(d))),l?(i[o]&&Array.isArray(i[o])||(i[o]=[]),i[o].push(d)):i[o]??(i[o]=d)}return r?i[r]:i},fl=xr,ul=(t,r)=>xr(t,r,!0),gr=decodeURIComponent,Dt=t=>Ct(t,gr),xe,F,K,pr,mr,yt,G,Gt,br=(Gt=class{constructor(t,r="/",l=[[]]){k(this,K);p(this,"raw");k(this,xe);k(this,F);p(this,"routeIndex",0);p(this,"path");p(this,"bodyCache",{});k(this,G,t=>{const{bodyCache:r,raw:l}=this,s=r[t];if(s)return s;const i=Object.keys(r)[0];return i?r[i].then(n=>(i==="json"&&(n=JSON.stringify(n)),new Response(n)[t]())):r[t]=l[t]()});this.raw=t,this.path=r,v(this,F,l),v(this,xe,{})}param(t){return t?S(this,K,pr).call(this,t):S(this,K,mr).call(this)}query(t){return fl(this.url,t)}queries(t){return ul(this.url,t)}header(t){if(t)return this.raw.headers.get(t)??void 0;const r={};return this.raw.headers.forEach((l,s)=>{r[s]=l}),r}async parseBody(t){var r;return(r=this.bodyCache).parsedBody??(r.parsedBody=await tl(this,t))}json(){return h(this,G).call(this,"text").then(t=>JSON.parse(t))}text(){return h(this,G).call(this,"text")}arrayBuffer(){return h(this,G).call(this,"arrayBuffer")}blob(){return h(this,G).call(this,"blob")}formData(){return h(this,G).call(this,"formData")}addValidatedData(t,r){h(this,xe)[t]=r}valid(t){return h(this,xe)[t]}get url(){return this.raw.url}get method(){return this.raw.method}get[el](){return h(this,F)}get matchedRoutes(){return h(this,F)[0].map(([[,t]])=>t)}get routePath(){return h(this,F)[0].map(([[,t]])=>t)[this.routeIndex].path}},xe=new WeakMap,F=new WeakMap,K=new WeakSet,pr=function(t){const r=h(this,F)[0][this.routeIndex][1][t],l=S(this,K,yt).call(this,r);return l&&/\%/.test(l)?Dt(l):l},mr=function(){const t={},r=Object.keys(h(this,F)[0][this.routeIndex][1]);for(const l of r){const s=S(this,K,yt).call(this,h(this,F)[0][this.routeIndex][1][l]);s!==void 0&&(t[l]=/\%/.test(s)?Dt(s):s)}return t},yt=function(t){return h(this,F)[1]?h(this,F)[1][t]:t},G=new WeakMap,Gt),xl="text/plain; charset=UTF-8",ht=(t,r)=>({"Content-Type":t,...r}),$e,Fe,q,ge,z,$,Me,be,pe,le,Ne,De,J,fe,Jt,gl=(Jt=class{constructor(t,r){k(this,J);k(this,$e);k(this,Fe);p(this,"env",{});k(this,q);p(this,"finalized",!1);p(this,"error");k(this,ge);k(this,z);k(this,$);k(this,Me);k(this,be);k(this,pe);k(this,le);k(this,Ne);k(this,De);p(this,"render",(...t)=>(h(this,be)??v(this,be,r=>this.html(r)),h(this,be).call(this,...t)));p(this,"setLayout",t=>v(this,Me,t));p(this,"getLayout",()=>h(this,Me));p(this,"setRenderer",t=>{v(this,be,t)});p(this,"header",(t,r,l)=>{this.finalized&&v(this,$,new Response(h(this,$).body,h(this,$)));const s=h(this,$)?h(this,$).headers:h(this,le)??v(this,le,new Headers);r===void 0?s.delete(t):l!=null&&l.append?s.append(t,r):s.set(t,r)});p(this,"status",t=>{v(this,ge,t)});p(this,"set",(t,r)=>{h(this,q)??v(this,q,new Map),h(this,q).set(t,r)});p(this,"get",t=>h(this,q)?h(this,q).get(t):void 0);p(this,"newResponse",(...t)=>S(this,J,fe).call(this,...t));p(this,"body",(t,r,l)=>S(this,J,fe).call(this,t,r,l));p(this,"text",(t,r,l)=>!h(this,le)&&!h(this,ge)&&!r&&!l&&!this.finalized?new Response(t):S(this,J,fe).call(this,t,r,ht(xl,l)));p(this,"json",(t,r,l)=>S(this,J,fe).call(this,JSON.stringify(t),r,ht("application/json",l)));p(this,"html",(t,r,l)=>{const s=i=>S(this,J,fe).call(this,i,r,ht("text/html; charset=UTF-8",l));return typeof t=="object"?lr(t,er.Stringify,!1,{}).then(s):s(t)});p(this,"redirect",(t,r)=>{const l=String(t);return this.header("Location",/[^\x00-\xFF]/.test(l)?encodeURI(l):l),this.newResponse(null,r??302)});p(this,"notFound",()=>(h(this,pe)??v(this,pe,()=>new Response),h(this,pe).call(this,this)));v(this,$e,t),r&&(v(this,z,r.executionCtx),this.env=r.env,v(this,pe,r.notFoundHandler),v(this,De,r.path),v(this,Ne,r.matchResult))}get req(){return h(this,Fe)??v(this,Fe,new br(h(this,$e),h(this,De),h(this,Ne))),h(this,Fe)}get event(){if(h(this,z)&&"respondWith"in h(this,z))return h(this,z);throw Error("This context has no FetchEvent")}get executionCtx(){if(h(this,z))return h(this,z);throw Error("This context has no ExecutionContext")}get res(){return h(this,$)||v(this,$,new Response(null,{headers:h(this,le)??v(this,le,new Headers)}))}set res(t){if(h(this,$)&&t){t=new Response(t.body,t);for(const[r,l]of h(this,$).headers.entries())if(r!=="content-type")if(r==="set-cookie"){const s=h(this,$).headers.getSetCookie();t.headers.delete("set-cookie");for(const i of s)t.headers.append("set-cookie",i)}else t.headers.set(r,l)}v(this,$,t),this.finalized=!0}get var(){return h(this,q)?Object.fromEntries(h(this,q)):{}}},$e=new WeakMap,Fe=new WeakMap,q=new WeakMap,ge=new WeakMap,z=new WeakMap,$=new WeakMap,Me=new WeakMap,be=new WeakMap,pe=new WeakMap,le=new WeakMap,Ne=new WeakMap,De=new WeakMap,J=new WeakSet,fe=function(t,r,l){const s=h(this,$)?new Headers(h(this,$).headers):h(this,le)??new Headers;if(typeof r=="object"&&"headers"in r){const n=r.headers instanceof Headers?r.headers:new Headers(r.headers);for(const[a,c]of n)a.toLowerCase()==="set-cookie"?s.append(a,c):s.set(a,c)}if(l)for(const[n,a]of Object.entries(l))if(typeof a=="string")s.set(n,a);else{s.delete(n);for(const c of a)s.append(n,c)}const i=typeof r=="number"?r:(r==null?void 0:r.status)??h(this,ge);return new Response(t,{status:i,headers:s})},Jt),A="ALL",bl="all",pl=["get","post","put","delete","options","patch"],yr="Can not add a route since the matcher is already built.",vr=class extends Error{},ml="__COMPOSED_HANDLER",yl=t=>t.text("404 Not Found",404),Ht=(t,r)=>{if("getResponse"in t){const l=t.getResponse();return r.newResponse(l.body,l)}return console.error(t),r.text("Internal Server Error",500)},N,T,wr,D,te,Je,Xe,me,vl=(me=class{constructor(r={}){k(this,T);p(this,"get");p(this,"post");p(this,"put");p(this,"delete");p(this,"options");p(this,"patch");p(this,"all");p(this,"on");p(this,"use");p(this,"router");p(this,"getPath");p(this,"_basePath","/");k(this,N,"/");p(this,"routes",[]);k(this,D,yl);p(this,"errorHandler",Ht);p(this,"onError",r=>(this.errorHandler=r,this));p(this,"notFound",r=>(v(this,D,r),this));p(this,"fetch",(r,...l)=>S(this,T,Xe).call(this,r,l[1],l[0],r.method));p(this,"request",(r,l,s,i)=>r instanceof Request?this.fetch(l?new Request(r,l):r,s,i):(r=r.toString(),this.fetch(new Request(/^https?:\/\//.test(r)?r:`http://localhost${he("/",r)}`,l),s,i)));p(this,"fire",()=>{addEventListener("fetch",r=>{r.respondWith(S(this,T,Xe).call(this,r.request,r,void 0,r.request.method))})});[...pl,bl].forEach(n=>{this[n]=(a,...c)=>(typeof a=="string"?v(this,N,a):S(this,T,te).call(this,n,h(this,N),a),c.forEach(o=>{S(this,T,te).call(this,n,h(this,N),o)}),this)}),this.on=(n,a,...c)=>{for(const o of[a].flat()){v(this,N,o);for(const d of[n].flat())c.map(f=>{S(this,T,te).call(this,d.toUpperCase(),h(this,N),f)})}return this},this.use=(n,...a)=>(typeof n=="string"?v(this,N,n):(v(this,N,"*"),a.unshift(n)),a.forEach(c=>{S(this,T,te).call(this,A,h(this,N),c)}),this);const{strict:s,...i}=r;Object.assign(this,i),this.getPath=s??!0?r.getPath??fr:hl}route(r,l){const s=this.basePath(r);return l.routes.map(i=>{var a;let n;l.errorHandler===Ht?n=i.handler:(n=async(c,o)=>(await Nt([],l.errorHandler)(c,()=>i.handler(c,o))).res,n[ml]=i.handler),S(a=s,T,te).call(a,i.method,i.path,n)}),this}basePath(r){const l=S(this,T,wr).call(this);return l._basePath=he(this._basePath,r),l}mount(r,l,s){let i,n;s&&(typeof s=="function"?n=s:(n=s.optionHandler,s.replaceRequest===!1?i=o=>o:i=s.replaceRequest));const a=n?o=>{const d=n(o);return Array.isArray(d)?d:[d]}:o=>{let d;try{d=o.executionCtx}catch{}return[o.env,d]};i||(i=(()=>{const o=he(this._basePath,r),d=o==="/"?0:o.length;return f=>{const u=new URL(f.url);return u.pathname=u.pathname.slice(d)||"/",new Request(u,f)}})());const c=async(o,d)=>{const f=await l(i(o.req.raw),...a(o));if(f)return f;await d()};return S(this,T,te).call(this,A,he(r,"*"),c),this}},N=new WeakMap,T=new WeakSet,wr=function(){const r=new me({router:this.router,getPath:this.getPath});return r.errorHandler=this.errorHandler,v(r,D,h(this,D)),r.routes=this.routes,r},D=new WeakMap,te=function(r,l,s){r=r.toUpperCase(),l=he(this._basePath,l);const i={basePath:this._basePath,path:l,method:r,handler:s};this.router.add(r,l,[s,i]),this.routes.push(i)},Je=function(r,l){if(r instanceof Error)return this.errorHandler(r,l);throw r},Xe=function(r,l,s,i){if(i==="HEAD")return(async()=>new Response(null,await S(this,T,Xe).call(this,r,l,s,"GET")))();const n=this.getPath(r,{env:s}),a=this.router.match(i,n),c=new gl(r,{path:n,matchResult:a,env:s,executionCtx:l,notFoundHandler:h(this,D)});if(a[0].length===1){let d;try{d=a[0][0][0][0](c,async()=>{c.res=await h(this,D).call(this,c)})}catch(f){return S(this,T,Je).call(this,f,c)}return d instanceof Promise?d.then(f=>f||(c.finalized?c.res:h(this,D).call(this,c))).catch(f=>S(this,T,Je).call(this,f,c)):d??h(this,D).call(this,c)}const o=Nt(a[0],this.errorHandler,h(this,D));return(async()=>{try{const d=await o(c);if(!d.finalized)throw new Error("Context is not finalized. Did you forget to return a Response object or `await next()`?");return d.res}catch(d){return S(this,T,Je).call(this,d,c)}})()},me),kr=[];function wl(t,r){const l=this.buildAllMatchers(),s=((i,n)=>{const a=l[i]||l[A],c=a[2][n];if(c)return c;const o=n.match(a[0]);if(!o)return[[],kr];const d=o.indexOf("",1);return[a[1][d],o]});return this.match=s,s(t,r)}var rt="[^/]+",je=".*",Ae="(?:|/.*)",ue=Symbol(),kl=new Set(".\\+*[^]$()");function El(t,r){return t.length===1?r.length===1?t<r?-1:1:-1:r.length===1||t===je||t===Ae?1:r===je||r===Ae?-1:t===rt?1:r===rt?-1:t.length===r.length?t<r?-1:1:r.length-t.length}var se,ie,H,ce,Sl=(ce=class{constructor(){k(this,se);k(this,ie);k(this,H,Object.create(null))}insert(r,l,s,i,n){if(r.length===0){if(h(this,se)!==void 0)throw ue;if(n)return;v(this,se,l);return}const[a,...c]=r,o=a==="*"?c.length===0?["","",je]:["","",rt]:a==="/*"?["","",Ae]:a.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);let d;if(o){const f=o[1];let u=o[2]||rt;if(f&&o[2]&&(u===".*"||(u=u.replace(/^\((?!\?:)(?=[^)]+\)$)/,"(?:"),/\((?!\?:)/.test(u))))throw ue;if(d=h(this,H)[u],!d){if(Object.keys(h(this,H)).some(x=>x!==je&&x!==Ae))throw ue;if(n)return;d=h(this,H)[u]=new ce,f!==""&&v(d,ie,i.varIndex++)}!n&&f!==""&&s.push([f,h(d,ie)])}else if(d=h(this,H)[a],!d){if(Object.keys(h(this,H)).some(f=>f.length>1&&f!==je&&f!==Ae))throw ue;if(n)return;d=h(this,H)[a]=new ce}d.insert(c,l,s,i,n)}buildRegExpStr(){const l=Object.keys(h(this,H)).sort(El).map(s=>{const i=h(this,H)[s];return(typeof h(i,ie)=="number"?`(${s})@${h(i,ie)}`:kl.has(s)?`\\${s}`:s)+i.buildRegExpStr()});return typeof h(this,se)=="number"&&l.unshift(`#${h(this,se)}`),l.length===0?"":l.length===1?l[0]:"(?:"+l.join("|")+")"}},se=new WeakMap,ie=new WeakMap,H=new WeakMap,ce),lt,He,Xt,Pl=(Xt=class{constructor(){k(this,lt,{varIndex:0});k(this,He,new Sl)}insert(t,r,l){const s=[],i=[];for(let a=0;;){let c=!1;if(t=t.replace(/\{[^}]+\}/g,o=>{const d=`@\\${a}`;return i[a]=[d,o],a++,c=!0,d}),!c)break}const n=t.match(/(?::[^\/]+)|(?:\/\*$)|./g)||[];for(let a=i.length-1;a>=0;a--){const[c]=i[a];for(let o=n.length-1;o>=0;o--)if(n[o].indexOf(c)!==-1){n[o]=n[o].replace(c,i[a][1]);break}}return h(this,He).insert(n,r,s,h(this,lt),l),s}buildRegExp(){let t=h(this,He).buildRegExpStr();if(t==="")return[/^$/,[],[]];let r=0;const l=[],s=[];return t=t.replace(/#(\d+)|@(\d+)|\.\*\$/g,(i,n,a)=>n!==void 0?(l[++r]=Number(n),"$()"):(a!==void 0&&(s[Number(a)]=++r),"")),[new RegExp(`^${t}`),l,s]}},lt=new WeakMap,He=new WeakMap,Xt),Cl=[/^$/,[],Object.create(null)],Ye=Object.create(null);function Er(t){return Ye[t]??(Ye[t]=new RegExp(t==="*"?"":`^${t.replace(/\/\*$|([.\\+*[^\]$()])/g,(r,l)=>l?`\\${l}`:"(?:|/.*)")}$`))}function Rl(){Ye=Object.create(null)}function jl(t){var d;const r=new Pl,l=[];if(t.length===0)return Cl;const s=t.map(f=>[!/\*|\/:/.test(f[0]),...f]).sort(([f,u],[x,g])=>f?1:x?-1:u.length-g.length),i=Object.create(null);for(let f=0,u=-1,x=s.length;f<x;f++){const[g,m,y]=s[f];g?i[m]=[y.map(([w])=>[w,Object.create(null)]),kr]:u++;let b;try{b=r.insert(m,u,g)}catch(w){throw w===ue?new vr(m):w}g||(l[u]=y.map(([w,E])=>{const C=Object.create(null);for(E-=1;E>=0;E--){const[P,R]=b[E];C[P]=R}return[w,C]}))}const[n,a,c]=r.buildRegExp();for(let f=0,u=l.length;f<u;f++)for(let x=0,g=l[f].length;x<g;x++){const m=(d=l[f][x])==null?void 0:d[1];if(!m)continue;const y=Object.keys(m);for(let b=0,w=y.length;b<w;b++)m[y[b]]=c[m[y[b]]]}const o=[];for(const f in a)o[f]=l[a[f]];return[n,o,i]}function oe(t,r){if(t){for(const l of Object.keys(t).sort((s,i)=>i.length-s.length))if(Er(l).test(r))return[...t[l]]}}var X,Y,st,Sr,Yt,Al=(Yt=class{constructor(){k(this,st);p(this,"name","RegExpRouter");k(this,X);k(this,Y);p(this,"match",wl);v(this,X,{[A]:Object.create(null)}),v(this,Y,{[A]:Object.create(null)})}add(t,r,l){var c;const s=h(this,X),i=h(this,Y);if(!s||!i)throw new Error(yr);s[t]||[s,i].forEach(o=>{o[t]=Object.create(null),Object.keys(o[A]).forEach(d=>{o[t][d]=[...o[A][d]]})}),r==="/*"&&(r="*");const n=(r.match(/\/:/g)||[]).length;if(/\*$/.test(r)){const o=Er(r);t===A?Object.keys(s).forEach(d=>{var f;(f=s[d])[r]||(f[r]=oe(s[d],r)||oe(s[A],r)||[])}):(c=s[t])[r]||(c[r]=oe(s[t],r)||oe(s[A],r)||[]),Object.keys(s).forEach(d=>{(t===A||t===d)&&Object.keys(s[d]).forEach(f=>{o.test(f)&&s[d][f].push([l,n])})}),Object.keys(i).forEach(d=>{(t===A||t===d)&&Object.keys(i[d]).forEach(f=>o.test(f)&&i[d][f].push([l,n]))});return}const a=ur(r)||[r];for(let o=0,d=a.length;o<d;o++){const f=a[o];Object.keys(i).forEach(u=>{var x;(t===A||t===u)&&((x=i[u])[f]||(x[f]=[...oe(s[u],f)||oe(s[A],f)||[]]),i[u][f].push([l,n-d+o+1]))})}}buildAllMatchers(){const t=Object.create(null);return Object.keys(h(this,Y)).concat(Object.keys(h(this,X))).forEach(r=>{t[r]||(t[r]=S(this,st,Sr).call(this,r))}),v(this,X,v(this,Y,void 0)),Rl(),t}},X=new WeakMap,Y=new WeakMap,st=new WeakSet,Sr=function(t){const r=[];let l=t===A;return[h(this,X),h(this,Y)].forEach(s=>{const i=s[t]?Object.keys(s[t]).map(n=>[n,s[t][n]]):[];i.length!==0?(l||(l=!0),r.push(...i)):t!==A&&r.push(...Object.keys(s[A]).map(n=>[n,s[A][n]]))}),l?jl(r):null},Yt),Z,U,Zt,Tl=(Zt=class{constructor(t){p(this,"name","SmartRouter");k(this,Z,[]);k(this,U,[]);v(this,Z,t.routers)}add(t,r,l){if(!h(this,U))throw new Error(yr);h(this,U).push([t,r,l])}match(t,r){if(!h(this,U))throw new Error("Fatal error");const l=h(this,Z),s=h(this,U),i=l.length;let n=0,a;for(;n<i;n++){const c=l[n];try{for(let o=0,d=s.length;o<d;o++)c.add(...s[o]);a=c.match(t,r)}catch(o){if(o instanceof vr)continue;throw o}this.match=c.match.bind(c),v(this,Z,[c]),v(this,U,void 0);break}if(n===i)throw new Error("Fatal error");return this.name=`SmartRouter + ${this.activeRouter.name}`,a}get activeRouter(){if(h(this,U)||h(this,Z).length!==1)throw new Error("No active router has been determined yet.");return h(this,Z)[0]}},Z=new WeakMap,U=new WeakMap,Zt),Ce=Object.create(null),Q,L,ne,ye,O,W,re,ve,Ol=(ve=class{constructor(r,l,s){k(this,W);k(this,Q);k(this,L);k(this,ne);k(this,ye,0);k(this,O,Ce);if(v(this,L,s||Object.create(null)),v(this,Q,[]),r&&l){const i=Object.create(null);i[r]={handler:l,possibleKeys:[],score:0},v(this,Q,[i])}v(this,ne,[])}insert(r,l,s){v(this,ye,++Tt(this,ye)._);let i=this;const n=nl(l),a=[];for(let c=0,o=n.length;c<o;c++){const d=n[c],f=n[c+1],u=ol(d,f),x=Array.isArray(u)?u[0]:d;if(x in h(i,L)){i=h(i,L)[x],u&&a.push(u[1]);continue}h(i,L)[x]=new ve,u&&(h(i,ne).push(u),a.push(u[1])),i=h(i,L)[x]}return h(i,Q).push({[r]:{handler:s,possibleKeys:a.filter((c,o,d)=>d.indexOf(c)===o),score:h(this,ye)}}),i}search(r,l){var o;const s=[];v(this,O,Ce);let n=[this];const a=hr(l),c=[];for(let d=0,f=a.length;d<f;d++){const u=a[d],x=d===f-1,g=[];for(let m=0,y=n.length;m<y;m++){const b=n[m],w=h(b,L)[u];w&&(v(w,O,h(b,O)),x?(h(w,L)["*"]&&s.push(...S(this,W,re).call(this,h(w,L)["*"],r,h(b,O))),s.push(...S(this,W,re).call(this,w,r,h(b,O)))):g.push(w));for(let E=0,C=h(b,ne).length;E<C;E++){const P=h(b,ne)[E],R=h(b,O)===Ce?{}:{...h(b,O)};if(P==="*"){const V=h(b,L)["*"];V&&(s.push(...S(this,W,re).call(this,V,r,h(b,O))),v(V,O,R),g.push(V));continue}const[Se,ze,Pe]=P;if(!u&&!(Pe instanceof RegExp))continue;const I=h(b,L)[Se],Mr=a.slice(d).join("/");if(Pe instanceof RegExp){const V=Pe.exec(Mr);if(V){if(R[ze]=V[0],s.push(...S(this,W,re).call(this,I,r,h(b,O),R)),Object.keys(h(I,L)).length){v(I,O,R);const nt=((o=V[0].match(/\//))==null?void 0:o.length)??0;(c[nt]||(c[nt]=[])).push(I)}continue}}(Pe===!0||Pe.test(u))&&(R[ze]=u,x?(s.push(...S(this,W,re).call(this,I,r,R,h(b,O))),h(I,L)["*"]&&s.push(...S(this,W,re).call(this,h(I,L)["*"],r,R,h(b,O)))):(v(I,O,R),g.push(I)))}}n=g.concat(c.shift()??[])}return s.length>1&&s.sort((d,f)=>d.score-f.score),[s.map(({handler:d,params:f})=>[d,f])]}},Q=new WeakMap,L=new WeakMap,ne=new WeakMap,ye=new WeakMap,O=new WeakMap,W=new WeakSet,re=function(r,l,s,i){const n=[];for(let a=0,c=h(r,Q).length;a<c;a++){const o=h(r,Q)[a],d=o[l]||o[A],f={};if(d!==void 0&&(d.params=Object.create(null),n.push(d),s!==Ce||i&&i!==Ce))for(let u=0,x=d.possibleKeys.length;u<x;u++){const g=d.possibleKeys[u],m=f[d.score];d.params[g]=i!=null&&i[g]&&!m?i[g]:s[g]??(i==null?void 0:i[g]),f[d.score]=!0}}return n},ve),ae,Qt,Ll=(Qt=class{constructor(){p(this,"name","TrieRouter");k(this,ae);v(this,ae,new Ol)}add(t,r,l){const s=ur(r);if(s){for(let i=0,n=s.length;i<n;i++)h(this,ae).insert(t,s[i],l);return}h(this,ae).insert(t,r,l)}match(t,r){return h(this,ae).search(t,r)}},ae=new WeakMap,Qt),Pr=class extends vl{constructor(t={}){super(t),this.router=t.router??new Tl({routers:[new Al,new Ll]})}},Oe="_hp",$l={Change:"Input",DoubleClick:"DblClick"},Fl={svg:"2000/svg",math:"1998/Math/MathML"},Le=[],vt=new WeakMap,ke=void 0,Ml=()=>ke,B=t=>"t"in t,ft={onClick:["click",!1]},_t=t=>{if(!t.startsWith("on"))return;if(ft[t])return ft[t];const r=t.match(/^on([A-Z][a-zA-Z]+?(?:PointerCapture)?)(Capture)?$/);if(r){const[,l,s]=r;return ft[t]=[($l[l]||l).toLowerCase(),!!s]}},It=(t,r)=>ke&&t instanceof SVGElement&&/[A-Z]/.test(r)&&(r in t.style||r.match(/^(?:o|pai|str|u|ve)/))?r.replace(/([A-Z])/g,"-$1").toLowerCase():r,Nl=(t,r,l)=>{var s;r||(r={});for(let i in r){const n=r[i];if(i!=="children"&&(!l||l[i]!==n)){i=tt(i);const a=_t(i);if(a){if((l==null?void 0:l[i])!==n&&(l&&t.removeEventListener(a[0],l[i],a[1]),n!=null)){if(typeof n!="function")throw new Error(`Event handler for "${i}" is not a function`);t.addEventListener(a[0],n,a[1])}}else if(i==="dangerouslySetInnerHTML"&&n)t.innerHTML=n.__html;else if(i==="ref"){let c;typeof n=="function"?c=n(t)||(()=>n(null)):n&&"current"in n&&(n.current=t,c=()=>n.current=null),vt.set(t,c)}else if(i==="style"){const c=t.style;typeof n=="string"?c.cssText=n:(c.cssText="",n!=null&&or(n,c.setProperty.bind(c)))}else{if(i==="value"){const o=t.nodeName;if(o==="INPUT"||o==="TEXTAREA"||o==="SELECT"){if(t.value=n==null||n===!1?null:n,o==="TEXTAREA"){t.textContent=n;continue}else if(o==="SELECT"){t.selectedIndex===-1&&(t.selectedIndex=0);continue}}}else(i==="checked"&&t.nodeName==="INPUT"||i==="selected"&&t.nodeName==="OPTION")&&(t[i]=n);const c=It(t,i);n==null||n===!1?t.removeAttribute(c):n===!0?t.setAttribute(c,""):typeof n=="string"||typeof n=="number"?t.setAttribute(c,n):t.setAttribute(c,n.toString())}}}if(l)for(let i in l){const n=l[i];if(i!=="children"&&!(i in r)){i=tt(i);const a=_t(i);a?t.removeEventListener(a[0],n,a[1]):i==="ref"?(s=vt.get(t))==null||s():t.removeAttribute(It(t,i))}}},Dl=(t,r)=>{r[j][0]=0,Le.push([t,r]);const l=r.tag[kt]||r.tag,s=l.defaultProps?{...l.defaultProps,...r.props}:r.props;try{return[l.call(null,s)]}finally{Le.pop()}},Cr=(t,r,l,s,i)=>{var n,a;(n=t.vR)!=null&&n.length&&(s.push(...t.vR),delete t.vR),typeof t.tag=="function"&&((a=t[j][1][Tr])==null||a.forEach(c=>i.push(c))),t.vC.forEach(c=>{var o;if(B(c))l.push(c);else if(typeof c.tag=="function"||c.tag===""){c.c=r;const d=l.length;if(Cr(c,r,l,s,i),c.s){for(let f=d;f<l.length;f++)l[f].s=!0;c.s=!1}}else l.push(c),(o=c.vR)!=null&&o.length&&(s.push(...c.vR),delete c.vR)})},Hl=t=>{var r;for(;t&&(t.tag===Oe||!t.e);)t=t.tag===Oe||!((r=t.vC)!=null&&r[0])?t.nN:t.vC[0];return t==null?void 0:t.e},Rr=t=>{var r,l,s,i,n,a;B(t)||((l=(r=t[j])==null?void 0:r[1][Tr])==null||l.forEach(c=>{var o;return(o=c[2])==null?void 0:o.call(c)}),(s=vt.get(t.e))==null||s(),t.p===2&&((i=t.vC)==null||i.forEach(c=>c.p=2)),(n=t.vC)==null||n.forEach(Rr)),t.p||((a=t.e)==null||a.remove(),delete t.e),typeof t.tag=="function"&&(Re.delete(t),Ze.delete(t),delete t[j][3],t.a=!0)},jr=(t,r,l)=>{t.c=r,Ar(t,r,l)},Bt=(t,r)=>{if(r){for(let l=0,s=t.length;l<s;l++)if(t[l]===r)return l}},qt=Symbol(),Ar=(t,r,l)=>{var d;const s=[],i=[],n=[];Cr(t,r,s,i,n),i.forEach(Rr);const a=l?void 0:r.childNodes;let c,o=null;if(l)c=-1;else if(!a.length)c=0;else{const f=Bt(a,Hl(t.nN));f!==void 0?(o=a[f],c=f):c=Bt(a,(d=s.find(u=>u.tag!==Oe&&u.e))==null?void 0:d.e)??-1,c===-1&&(l=!0)}for(let f=0,u=s.length;f<u;f++,c++){const x=s[f];let g;if(x.s&&x.e)g=x.e,x.s=!1;else{const m=l||!x.e;B(x)?(x.e&&x.d&&(x.e.textContent=x.t),x.d=!1,g=x.e||(x.e=document.createTextNode(x.t))):(g=x.e||(x.e=x.n?document.createElementNS(x.n,x.tag):document.createElement(x.tag)),Nl(g,x.props,x.pP),Ar(x,g,m))}x.tag===Oe?c--:l?g.parentNode||r.appendChild(g):a[c]!==g&&a[c-1]!==g&&(a[c+1]===g?r.appendChild(a[c]):r.insertBefore(g,o||a[c]||null))}if(t.pP&&(t.pP=void 0),n.length){const f=[],u=[];n.forEach(([,x,,g,m])=>{x&&f.push(x),g&&u.push(g),m==null||m()}),f.forEach(x=>x()),u.length&&requestAnimationFrame(()=>{u.forEach(x=>x())})}},_l=(t,r)=>!!(t&&t.length===r.length&&t.every((l,s)=>l[1]===r[s][1])),Ze=new WeakMap,wt=(t,r,l)=>{var n,a,c,o,d,f;const s=!l&&r.pC;l&&(r.pC||(r.pC=r.vC));let i;try{l||(l=typeof r.tag=="function"?Dl(t,r):_e(r.props.children)),((n=l[0])==null?void 0:n.tag)===""&&l[0][pt]&&(i=l[0][pt],t[5].push([t,i,r]));const u=s?[...r.pC]:r.vC?[...r.vC]:void 0,x=[];let g;for(let m=0;m<l.length;m++){Array.isArray(l[m])&&l.splice(m,1,...l[m].flat());let y=Il(l[m]);if(y){typeof y.tag=="function"&&!y.tag[sr]&&(we.length>0&&(y[j][2]=we.map(w=>[w,w.values.at(-1)])),(a=t[5])!=null&&a.length&&(y[j][3]=t[5].at(-1)));let b;if(u&&u.length){const w=u.findIndex(B(y)?E=>B(E):y.key!==void 0?E=>E.key===y.key&&E.tag===y.tag:E=>E.tag===y.tag);w!==-1&&(b=u[w],u.splice(w,1))}if(b)if(B(y))b.t!==y.t&&(b.t=y.t,b.d=!0),y=b;else{const w=b.pP=b.props;if(b.props=y.props,b.f||(b.f=y.f||r.f),typeof y.tag=="function"){const E=b[j][2];b[j][2]=y[j][2]||[],b[j][3]=y[j][3],!b.f&&((b.o||b)===y.o||(o=(c=b.tag)[Ir])!=null&&o.call(c,w,b.props))&&_l(E,b[j][2])&&(b.s=!0)}y=b}else if(!B(y)&&ke){const w=Ee(ke);w&&(y.n=w)}if(!B(y)&&!y.s&&(wt(t,y),delete y.f),x.push(y),g&&!g.s&&!y.s)for(let w=g;w&&!B(w);w=(d=w.vC)==null?void 0:d.at(-1))w.nN=y;g=y}}r.vR=s?[...r.vC,...u||[]]:u||[],r.vC=x,s&&delete r.pC}catch(u){if(r.f=!0,u===qt){if(i)return;throw u}const[x,g,m]=((f=r[j])==null?void 0:f[3])||[];if(g){const y=()=>Qe([0,!1,t[2]],m),b=Ze.get(m)||[];b.push(y),Ze.set(m,b);const w=g(u,()=>{const E=Ze.get(m);if(E){const C=E.indexOf(y);if(C!==-1)return E.splice(C,1),y()}});if(w){if(t[0]===1)t[1]=!0;else if(wt(t,m,[w]),(g.length===1||t!==x)&&m.c){jr(m,m.c,!1);return}throw qt}}throw u}finally{i&&t[5].pop()}},Il=t=>{if(!(t==null||typeof t=="boolean")){if(typeof t=="string"||typeof t=="number")return{t:t.toString(),d:!0};if("vR"in t&&(t={tag:t.tag,props:t.props,key:t.key,f:t.f,type:t.tag,ref:t.props.ref,o:t.o||t}),typeof t.tag=="function")t[j]=[0,[]];else{const r=Fl[t.tag];r&&(ke||(ke=nr("")),t.props.children=[{tag:ke,props:{value:t.n=`http://www.w3.org/${r}`,children:t.props.children}}])}return t}},zt=(t,r)=>{var l,s;(l=r[j][2])==null||l.forEach(([i,n])=>{i.values.push(n)});try{wt(t,r,void 0)}catch{return}if(r.a){delete r.a;return}(s=r[j][2])==null||s.forEach(([i])=>{i.values.pop()}),(t[0]!==1||!t[1])&&jr(r,r.c,!1)},Re=new WeakMap,Ut=[],Qe=async(t,r)=>{t[5]||(t[5]=[]);const l=Re.get(r);l&&l[0](void 0);let s;const i=new Promise(n=>s=n);if(Re.set(r,[s,()=>{t[2]?t[2](t,r,n=>{zt(n,r)}).then(()=>s(r)):(zt(t,r),s(r))}]),Ut.length)Ut.at(-1).add(r);else{await Promise.resolve();const n=Re.get(r);n&&(Re.delete(r),n[1]())}return i},Bl=(t,r,l)=>({tag:Oe,props:{children:t},key:l,e:r,p:1}),ut=0,Tr=1,xt=2,gt=3,bt=new WeakMap,Or=(t,r)=>!t||!r||t.length!==r.length||r.some((l,s)=>l!==t[s]),ql=void 0,Wt=[],zl=t=>{var a;const r=()=>typeof t=="function"?t():t,l=Le.at(-1);if(!l)return[r(),()=>{}];const[,s]=l,i=(a=s[j][1])[ut]||(a[ut]=[]),n=s[j][0]++;return i[n]||(i[n]=[r(),c=>{const o=ql,d=i[n];if(typeof c=="function"&&(c=c(d[0])),!Object.is(c,d[0]))if(d[0]=c,Wt.length){const[f,u]=Wt.at(-1);Promise.all([f===3?s:Qe([f,!1,o],s),u]).then(([x])=>{if(!x||!(f===2||f===3))return;const g=x.vC;requestAnimationFrame(()=>{setTimeout(()=>{g===x.vC&&Qe([f===3?1:0,!1,o],x)})})})}else Qe([0,!1,o],s)}])},Rt=(t,r)=>{var c;const l=Le.at(-1);if(!l)return t;const[,s]=l,i=(c=s[j][1])[xt]||(c[xt]=[]),n=s[j][0]++,a=i[n];return Or(a==null?void 0:a[1],r)?i[n]=[t,r]:t=i[n][0],t},Ul=t=>{const r=bt.get(t);if(r){if(r.length===2)throw r[1];return r[0]}throw t.then(l=>bt.set(t,[l]),l=>bt.set(t,[void 0,l])),t},Wl=(t,r)=>{var c;const l=Le.at(-1);if(!l)return t();const[,s]=l,i=(c=s[j][1])[gt]||(c[gt]=[]),n=s[j][0]++,a=i[n];return Or(a==null?void 0:a[1],r)&&(i[n]=[t(),r]),i[n][0]},Kl=nr({pending:!1,data:null,method:null,action:null}),Kt=new Set,Vl=t=>{Kt.add(t),t.finally(()=>Kt.delete(t))},jt=(t,r)=>Wl(()=>l=>{let s;t&&(typeof t=="function"?s=t(l)||(()=>{t(null)}):t&&"current"in t&&(t.current=l,s=()=>{t.current=null}));const i=r(l);return()=>{i==null||i(),s==null||s()}},[t]),de=Object.create(null),We=Object.create(null),qe=(t,r,l,s,i)=>{if(r!=null&&r.itemProp)return{tag:t,props:r,type:t,ref:r.ref};const n=document.head;let{onLoad:a,onError:c,precedence:o,blocking:d,...f}=r,u=null,x=!1;const g=Ke[t];let m;if(g.length>0){const E=n.querySelectorAll(t);e:for(const C of E)for(const P of Ke[t])if(C.getAttribute(P)===r[P]){u=C;break e}if(!u){const C=g.reduce((P,R)=>r[R]===void 0?P:`${P}-${R}-${r[R]}`,t);x=!We[C],u=We[C]||(We[C]=(()=>{const P=document.createElement(t);for(const R of g)r[R]!==void 0&&P.setAttribute(R,r[R]),r.rel&&P.setAttribute("rel",r.rel);return P})())}}else m=n.querySelectorAll(t);o=s?o??"":void 0,s&&(f[Ve]=o);const y=Rt(E=>{if(g.length>0){let C=!1;for(const P of n.querySelectorAll(t)){if(C&&P.getAttribute(Ve)!==o){n.insertBefore(E,P);return}P.getAttribute(Ve)===o&&(C=!0)}n.appendChild(E)}else if(m){let C=!1;for(const P of m)if(P===E){C=!0;break}C||n.insertBefore(E,n.contains(m[0])?m[0]:n.querySelector(t)),m=void 0}},[o]),b=jt(r.ref,E=>{var R;const C=g[0];if(l===2&&(E.innerHTML=""),(x||m)&&y(E),!c&&!a)return;let P=de[R=E.getAttribute(C)]||(de[R]=new Promise((Se,ze)=>{E.addEventListener("load",Se),E.addEventListener("error",ze)}));a&&(P=P.then(a)),c&&(P=P.catch(c)),P.catch(()=>{})});if(i&&d==="render"){const E=Ke[t][0];if(r[E]){const C=r[E],P=de[C]||(de[C]=new Promise((R,Se)=>{y(u),u.addEventListener("load",R),u.addEventListener("error",Se)}));Ul(P)}}const w={tag:t,type:t,props:{...f,ref:b},ref:b};return w.p=l,u&&(w.e=u),Bl(w,n)},Gl=t=>{const r=Ml(),l=r&&Ee(r);return l!=null&&l.endsWith("svg")?{tag:"title",props:t,type:"title",ref:t.ref}:qe("title",t,void 0,!1,!1)},Jl=t=>!t||["src","async"].some(r=>!t[r])?{tag:"script",props:t,type:"script",ref:t.ref}:qe("script",t,1,!1,!0),Xl=t=>!t||!["href","precedence"].every(r=>r in t)?{tag:"style",props:t,type:"style",ref:t.ref}:(t["data-href"]=t.href,delete t.href,qe("style",t,2,!0,!0)),Yl=t=>!t||["onLoad","onError"].some(r=>r in t)||t.rel==="stylesheet"&&(!("precedence"in t)||"disabled"in t)?{tag:"link",props:t,type:"link",ref:t.ref}:qe("link",t,1,"precedence"in t,!0),Zl=t=>qe("meta",t,void 0,!1,!1),Lr=Symbol(),Ql=t=>{const{action:r,...l}=t;typeof r!="function"&&(l.action=r);const[s,i]=zl([null,!1]),n=Rt(async d=>{const f=d.isTrusted?r:d.detail[Lr];if(typeof f!="function")return;d.preventDefault();const u=new FormData(d.target);i([u,!0]);const x=f(u);x instanceof Promise&&(Vl(x),await x),i([null,!0])},[]),a=jt(t.ref,d=>(d.addEventListener("submit",n),()=>{d.removeEventListener("submit",n)})),[c,o]=s;return s[1]=!1,{tag:Kl,props:{value:{pending:c!==null,data:c,method:c?"post":null,action:c?r:null},children:{tag:"form",props:{...l,ref:a},type:"form",ref:a}},f:o}},$r=(t,{formAction:r,...l})=>{if(typeof r=="function"){const s=Rt(i=>{i.preventDefault(),i.currentTarget.form.dispatchEvent(new CustomEvent("submit",{detail:{[Lr]:r}}))},[]);l.ref=jt(l.ref,i=>(i.addEventListener("click",s),()=>{i.removeEventListener("click",s)}))}return{tag:t,props:l,type:t,ref:l.ref}},es=t=>$r("input",t),ts=t=>$r("button",t);Object.assign(mt,{title:Gl,script:Jl,style:Xl,link:Yl,meta:Zl,form:Ql,input:es,button:ts});Et(null);new TextEncoder;var rs=Et(null),ls=(t,r,l,s)=>(i,n)=>{const a="<!DOCTYPE html>",c=l?Ft(d=>l(d,t),{Layout:r,...n},i):i,o=_r`${M(a)}${Ft(rs.Provider,{value:t},c)}`;return t.html(o)},ss=(t,r)=>function(s,i){const n=s.getLayout()??Qr;return t&&s.setLayout(a=>t({...a,Layout:n},s)),s.setRenderer(ls(s,n,t)),i()};const is=ss(({children:t})=>e("html",{lang:"ja",children:[e("head",{children:[e("meta",{charset:"UTF-8"}),e("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),e("title",{children:"航空券予約システム - Flight Booking"}),e("script",{src:"https://cdn.tailwindcss.com"}),e("link",{href:"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css",rel:"stylesheet"}),e("link",{href:"/static/style.css",rel:"stylesheet"})]}),e("body",{children:t})]})),it=new Pr;it.use(is);it.get("/",t=>t.render(e("div",{class:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex flex-col",children:[e("header",{class:"bg-blue-600 text-white shadow-lg flex-shrink-0",children:e("div",{class:"container mx-auto px-4 py-4",children:e("div",{class:"flex items-center justify-between",children:[e("div",{class:"flex items-center space-x-2",children:[e("i",{class:"fas fa-plane text-3xl"}),e("h1",{class:"text-2xl font-bold",children:"FlightSearch"})]}),e("nav",{class:"hidden md:flex space-x-6",children:[e("a",{href:"/",onclick:"showHomePage(); return false;",class:"hover:text-blue-200 transition",children:"ホーム"}),e("a",{href:"#",onclick:"showMyPage(); return false;",class:"hover:text-blue-200 transition",id:"myPageLink",children:[e("i",{class:"fas fa-user mr-1"}),"マイページ"]}),e("a",{href:"#",onclick:"handleLogout(); return false;",class:"hover:text-blue-200 transition hidden",id:"logoutLink",children:[e("i",{class:"fas fa-sign-out-alt mr-1"}),"ログアウト"]})]})]})})}),e("main",{id:"mainContent",class:"flex-grow",children:e("div",{class:"container mx-auto px-4 py-8",children:[e("div",{class:"text-center mb-8",children:[e("h2",{class:"text-4xl font-bold text-gray-800 mb-2",children:"お得な航空券を検索"}),e("p",{class:"text-gray-600",children:"世界中のフライトを比較して、最安値を見つけましょう"})]}),e("div",{class:"bg-white rounded-2xl shadow-2xl p-6 md:p-8 mb-8",children:[e("div",{class:"flex flex-wrap gap-4 mb-6",children:[e("label",{class:"flex items-center space-x-2 cursor-pointer",children:[e("input",{type:"radio",name:"tripType",value:"roundtrip",checked:!0,class:"w-4 h-4 text-blue-600",onchange:"handleTripTypeChange()"}),e("span",{class:"text-gray-700 font-medium",children:"往復"})]}),e("label",{class:"flex items-center space-x-2 cursor-pointer",children:[e("input",{type:"radio",name:"tripType",value:"oneway",class:"w-4 h-4 text-blue-600",onchange:"handleTripTypeChange()"}),e("span",{class:"text-gray-700 font-medium",children:"片道"})]}),e("label",{class:"flex items-center space-x-2 cursor-pointer",children:[e("input",{type:"radio",name:"tripType",value:"multicity",class:"w-4 h-4 text-blue-600",onchange:"handleTripTypeChange()"}),e("span",{class:"text-gray-700 font-medium",children:"複数都市"})]})]}),e("div",{id:"singleTripFields",children:e("div",{class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[e("div",{class:"relative",children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"出発地"}),e("div",{class:"relative",children:[e("i",{class:"fas fa-plane-departure absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e("input",{type:"text",id:"fromLocation",placeholder:"東京 (TYO)",class:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e("div",{class:"relative",children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"目的地"}),e("div",{class:"relative",children:[e("i",{class:"fas fa-plane-arrival absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e("input",{type:"text",id:"toLocation",placeholder:"ニューヨーク (JFK)",class:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e("div",{class:"relative",children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"出発日"}),e("div",{class:"relative",children:[e("i",{class:"fas fa-calendar-alt absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e("input",{type:"date",id:"departureDate",class:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e("div",{class:"relative",id:"returnDateField",children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"帰国日"}),e("div",{class:"relative",children:[e("i",{class:"fas fa-calendar-alt absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e("input",{type:"date",id:"returnDate",class:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]})}),e("div",{id:"multiCityFields",class:"hidden",children:[e("div",{id:"multiCityFlightsContainer",children:[e("div",{class:"multi-city-flight mb-4 p-4 border border-gray-200 rounded-lg","data-flight-index":"1",children:[e("div",{class:"flex justify-between items-center mb-3",children:e("h4",{class:"font-semibold text-gray-800",children:"フライト 1"})}),e("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e("div",{class:"relative",children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"出発地"}),e("div",{class:"relative",children:[e("i",{class:"fas fa-plane-departure absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e("input",{type:"text",id:"multiCityFrom1",class:"multi-city-from w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"東京 (TYO)"})]})]}),e("div",{class:"relative",children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"目的地"}),e("div",{class:"relative",children:[e("i",{class:"fas fa-plane-arrival absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e("input",{type:"text",id:"multiCityTo1",class:"multi-city-to w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"ニューヨーク (JFK)"})]})]}),e("div",{class:"relative",children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"出発日"}),e("div",{class:"relative",children:[e("i",{class:"fas fa-calendar-alt absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e("input",{type:"date",class:"multi-city-date w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]})]}),e("div",{class:"multi-city-flight mb-4 p-4 border border-gray-200 rounded-lg","data-flight-index":"2",children:[e("div",{class:"flex justify-between items-center mb-3",children:e("h4",{class:"font-semibold text-gray-800",children:"フライト 2"})}),e("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e("div",{class:"relative",children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"出発地"}),e("div",{class:"relative",children:[e("i",{class:"fas fa-plane-departure absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e("input",{type:"text",id:"multiCityFrom2",class:"multi-city-from w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"ニューヨーク (JFK)"})]})]}),e("div",{class:"relative",children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"目的地"}),e("div",{class:"relative",children:[e("i",{class:"fas fa-plane-arrival absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e("input",{type:"text",id:"multiCityTo2",class:"multi-city-to w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"ロサンゼルス (LAX)"})]})]}),e("div",{class:"relative",children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"出発日"}),e("div",{class:"relative",children:[e("i",{class:"fas fa-calendar-alt absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e("input",{type:"date",class:"multi-city-date w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]})]})]}),e("button",{type:"button",onclick:"addMultiCityFlight()",class:"w-full md:w-auto px-6 py-3 border-2 border-dashed border-blue-300 text-blue-600 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition font-medium",children:[e("i",{class:"fas fa-plus mr-2"}),"フライトを追加"]})]}),e("div",{class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6 mt-6",children:[e("div",{class:"relative",children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"乗客"}),e("button",{type:"button",id:"passengerButton",class:"w-full px-4 py-3 border border-gray-300 rounded-lg text-left flex items-center justify-between hover:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e("span",{class:"flex items-center",children:[e("i",{class:"fas fa-user mr-2 text-gray-400"}),e("span",{id:"passengerDisplay",children:"1 名, エコノミー"})]}),e("i",{class:"fas fa-chevron-down text-gray-400"})]}),e("div",{id:"passengerDropdown",class:"hidden absolute z-10 mt-2 w-full md:w-96 bg-white border border-gray-200 rounded-lg shadow-xl p-4",children:e("div",{class:"space-y-4",children:[e("div",{class:"flex items-center justify-between",children:[e("div",{children:[e("div",{class:"font-medium text-gray-700",children:"大人"}),e("div",{class:"text-sm text-gray-500",children:"12歳以上"})]}),e("div",{class:"flex items-center space-x-3",children:[e("button",{type:"button",class:"w-8 h-8 rounded-full border border-gray-300 hover:bg-gray-100",onclick:"updatePassenger('adults', -1)",children:"-"}),e("span",{id:"adultsCount",class:"w-8 text-center font-medium",children:"1"}),e("button",{type:"button",class:"w-8 h-8 rounded-full border border-gray-300 hover:bg-gray-100",onclick:"updatePassenger('adults', 1)",children:"+"})]})]}),e("div",{class:"flex items-center justify-between",children:[e("div",{children:[e("div",{class:"font-medium text-gray-700",children:"子供"}),e("div",{class:"text-sm text-gray-500",children:"2-11歳"})]}),e("div",{class:"flex items-center space-x-3",children:[e("button",{type:"button",class:"w-8 h-8 rounded-full border border-gray-300 hover:bg-gray-100",onclick:"updatePassenger('children', -1)",children:"-"}),e("span",{id:"childrenCount",class:"w-8 text-center font-medium",children:"0"}),e("button",{type:"button",class:"w-8 h-8 rounded-full border border-gray-300 hover:bg-gray-100",onclick:"updatePassenger('children', 1)",children:"+"})]})]}),e("div",{class:"flex items-center justify-between",children:[e("div",{children:[e("div",{class:"font-medium text-gray-700",children:"幼児"}),e("div",{class:"text-sm text-gray-500",children:"2歳未満"})]}),e("div",{class:"flex items-center space-x-3",children:[e("button",{type:"button",class:"w-8 h-8 rounded-full border border-gray-300 hover:bg-gray-100",onclick:"updatePassenger('infants', -1)",children:"-"}),e("span",{id:"infantsCount",class:"w-8 text-center font-medium",children:"0"}),e("button",{type:"button",class:"w-8 h-8 rounded-full border border-gray-300 hover:bg-gray-100",onclick:"updatePassenger('infants', 1)",children:"+"})]})]}),e("hr",{class:"my-4"}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"座席クラス"}),e("select",{id:"cabinClass",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e("option",{value:"economy",children:"エコノミー"}),e("option",{value:"premium_economy",children:"プレミアムエコノミー"}),e("option",{value:"business",children:"ビジネス"}),e("option",{value:"first",children:"ファースト"})]})]}),e("button",{type:"button",class:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700",onclick:"closePassengerDropdown()",children:"完了"})]})})]}),e("div",{class:"relative",children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"航空会社"}),e("div",{class:"relative",children:[e("i",{class:"fas fa-plane absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e("input",{type:"text",id:"preferredAirline",placeholder:"すべて",class:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e("div",{class:"flex items-end",children:e("label",{class:"flex items-center space-x-2 cursor-pointer pb-3",children:[e("input",{type:"checkbox",id:"directFlights",class:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),e("span",{class:"text-gray-700",children:"直行便のみ"})]})}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2 opacity-0",children:"検索"}),e("button",{type:"button",onclick:"searchFlights()",class:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 px-6 rounded-lg font-semibold hover:from-blue-700 hover:to-indigo-700 transition shadow-lg hover:shadow-xl",children:[e("i",{class:"fas fa-search mr-2"}),"フライトを検索"]})]})]})]}),e("div",{id:"searchResults",class:"hidden",children:[e("div",{class:"bg-white rounded-lg shadow-md p-6 mb-6",children:e("div",{class:"flex flex-col md:flex-row justify-between items-start md:items-center space-y-4 md:space-y-0",children:[e("div",{children:[e("h3",{class:"text-2xl font-bold text-gray-800 mb-2",children:"検索結果"}),e("p",{class:"text-gray-600",id:"routeInfo",children:"東京 (TYO) → ニューヨーク (JFK)"})]}),e("div",{class:"flex items-center space-x-4",children:e("select",{id:"sortBy",class:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e("option",{value:"best",children:"おすすめ順"}),e("option",{value:"price",children:"最安値順"}),e("option",{value:"duration",children:"最短時間順"}),e("option",{value:"departure",children:"出発時間順"})]})})]})}),e("div",{class:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e("div",{class:"lg:col-span-1",children:e("div",{class:"bg-white rounded-lg shadow-md p-6 sticky top-4",children:[e("h4",{class:"text-lg font-bold text-gray-800 mb-4",children:"フィルター"}),e("div",{class:"mb-6",children:[e("h5",{class:"font-semibold text-gray-700 mb-3",children:"価格帯"}),e("div",{class:"space-y-2",children:[e("input",{type:"range",min:"0",max:"500000",step:"10000",class:"w-full",id:"priceRange"}),e("div",{class:"flex justify-between text-sm text-gray-600",children:[e("span",{children:"¥0"}),e("span",{id:"maxPrice",children:"¥500,000+"})]})]})]}),e("div",{class:"mb-6",children:[e("h5",{class:"font-semibold text-gray-700 mb-3",children:"経由回数"}),e("div",{class:"space-y-2",children:[e("label",{class:"flex items-center space-x-2",children:[e("input",{type:"checkbox",class:"w-4 h-4 text-blue-600 rounded",checked:!0}),e("span",{class:"text-gray-700",children:"直行便"})]}),e("label",{class:"flex items-center space-x-2",children:[e("input",{type:"checkbox",class:"w-4 h-4 text-blue-600 rounded",checked:!0}),e("span",{class:"text-gray-700",children:"1回経由"})]}),e("label",{class:"flex items-center space-x-2",children:[e("input",{type:"checkbox",class:"w-4 h-4 text-blue-600 rounded",checked:!0}),e("span",{class:"text-gray-700",children:"2回以上経由"})]})]})]}),e("div",{class:"mb-6",children:[e("h5",{class:"font-semibold text-gray-700 mb-3",children:"出発時間帯"}),e("div",{class:"grid grid-cols-2 gap-2",children:[e("button",{type:"button",class:"px-3 py-2 border border-gray-300 rounded-lg text-sm hover:bg-blue-50 hover:border-blue-500",children:[e("i",{class:"fas fa-sun text-yellow-500"})," 朝"]}),e("button",{type:"button",class:"px-3 py-2 border border-gray-300 rounded-lg text-sm hover:bg-blue-50 hover:border-blue-500",children:[e("i",{class:"fas fa-cloud-sun text-orange-500"})," 昼"]}),e("button",{type:"button",class:"px-3 py-2 border border-gray-300 rounded-lg text-sm hover:bg-blue-50 hover:border-blue-500",children:[e("i",{class:"fas fa-cloud-moon text-indigo-500"})," 夕"]}),e("button",{type:"button",class:"px-3 py-2 border border-gray-300 rounded-lg text-sm hover:bg-blue-50 hover:border-blue-500",children:[e("i",{class:"fas fa-moon text-blue-900"})," 夜"]})]})]}),e("div",{class:"mb-6",children:[e("h5",{class:"font-semibold text-gray-700 mb-3",children:"航空会社"}),e("div",{class:"space-y-2 max-h-48 overflow-y-auto",children:[e("label",{class:"flex items-center space-x-2",children:[e("input",{type:"checkbox",class:"w-4 h-4 text-blue-600 rounded",checked:!0}),e("span",{class:"text-gray-700 text-sm",children:"全日空 (ANA)"})]}),e("label",{class:"flex items-center space-x-2",children:[e("input",{type:"checkbox",class:"w-4 h-4 text-blue-600 rounded",checked:!0}),e("span",{class:"text-gray-700 text-sm",children:"日本航空 (JAL)"})]}),e("label",{class:"flex items-center space-x-2",children:[e("input",{type:"checkbox",class:"w-4 h-4 text-blue-600 rounded",checked:!0}),e("span",{class:"text-gray-700 text-sm",children:"ユナイテッド航空"})]}),e("label",{class:"flex items-center space-x-2",children:[e("input",{type:"checkbox",class:"w-4 h-4 text-blue-600 rounded",checked:!0}),e("span",{class:"text-gray-700 text-sm",children:"デルタ航空"})]}),e("label",{class:"flex items-center space-x-2",children:[e("input",{type:"checkbox",class:"w-4 h-4 text-blue-600 rounded",checked:!0}),e("span",{class:"text-gray-700 text-sm",children:"アメリカン航空"})]})]})]}),e("button",{type:"button",class:"w-full bg-gray-100 text-gray-700 py-2 rounded-lg hover:bg-gray-200",children:"フィルターをリセット"})]})}),e("div",{class:"lg:col-span-3",id:"flightList",children:e("div",{class:"space-y-4",id:"flightCards"})})]})]})]})}),e("footer",{id:"mainFooter",class:"bg-gray-800 text-white flex-shrink-0 mt-auto",children:e("div",{class:"container mx-auto px-4 py-8",children:[e("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e("div",{children:[e("h5",{class:"font-bold text-lg mb-4",children:"FlightSearch"}),e("p",{class:"text-gray-400",children:"お得な航空券を簡単検索"})]}),e("div",{children:[e("h5",{class:"font-bold text-lg mb-4",children:"リンク"}),e("ul",{class:"space-y-2 text-gray-400",children:[e("li",{children:e("a",{href:"#",class:"hover:text-white",children:"利用規約"})}),e("li",{children:e("a",{href:"#",class:"hover:text-white",children:"プライバシーポリシー"})}),e("li",{children:e("a",{href:"#",class:"hover:text-white",children:"お問い合わせ"})})]})]}),e("div",{children:[e("h5",{class:"font-bold text-lg mb-4",children:"フォロー"}),e("div",{class:"flex space-x-4",children:[e("a",{href:"#",class:"text-gray-400 hover:text-white",children:e("i",{class:"fab fa-facebook text-2xl"})}),e("a",{href:"#",class:"text-gray-400 hover:text-white",children:e("i",{class:"fab fa-twitter text-2xl"})}),e("a",{href:"#",class:"text-gray-400 hover:text-white",children:e("i",{class:"fab fa-instagram text-2xl"})})]})]})]}),e("div",{class:"border-t border-gray-700 mt-8 pt-8 text-center text-gray-400",children:e("p",{children:"© 2026 FlightSearch. All rights reserved."})})]})}),e("div",{id:"seatClassModal",class:"hidden fixed inset-0 bg-black bg-opacity-50 z-50 overflow-y-auto",role:"dialog","aria-modal":"true","aria-labelledby":"modalTitle",children:e("div",{class:"flex items-center justify-center min-h-screen p-4",children:e("div",{class:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl relative",children:[e("div",{class:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-2xl",children:[e("div",{class:"flex items-center justify-between",children:[e("h2",{id:"modalTitle",class:"text-2xl font-bold",children:e("span",{id:"modalRouteInfo",children:"東京 → ニューヨーク"})}),e("button",{onclick:"closeSeatClassModal()",class:"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-2 transition","aria-label":"モーダルを閉じる",children:e("i",{class:"fas fa-times text-2xl"})})]}),e("div",{id:"modalFlightInfo",class:"mt-2 text-sm opacity-90",children:"フライト情報を読み込み中..."})]}),e("div",{class:"p-6 max-h-[70vh] overflow-y-auto",children:[e("div",{class:"mb-8",children:[e("h3",{class:"text-xl font-bold text-gray-800 mb-4 flex items-center",children:[e("i",{class:"fas fa-plane-departure text-blue-600 mr-2"}),"往路便"]}),e("div",{id:"outboundSeatClasses",class:"space-y-3"})]}),e("div",{class:"mb-6",children:[e("h3",{class:"text-xl font-bold text-gray-800 mb-4 flex items-center",children:[e("i",{class:"fas fa-plane-arrival text-blue-600 mr-2"}),"復路便"]}),e("div",{id:"returnSeatClasses",class:"space-y-3"})]}),e("div",{class:"bg-blue-50 rounded-lg p-4 mt-6",children:e("div",{class:"flex justify-between items-center",children:[e("div",{children:[e("div",{class:"text-sm text-gray-600",children:"合計金額（1名あたり）"}),e("div",{class:"text-xs text-gray-500 mt-1",children:"往復 • 税・手数料込み"})]}),e("div",{class:"text-3xl font-bold text-blue-600",id:"modalTotalPrice",children:"¥0"})]})})]}),e("div",{class:"border-t border-gray-200 px-6 py-4 bg-gray-50 rounded-b-2xl",children:e("div",{class:"flex space-x-4",children:[e("button",{onclick:"closeSeatClassModal()",class:"flex-1 bg-gray-200 text-gray-700 py-3 px-6 rounded-lg font-semibold hover:bg-gray-300 transition",children:"キャンセル"}),e("button",{onclick:"confirmSeatClassSelection()",class:"flex-1 bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 px-6 rounded-lg font-semibold hover:from-blue-700 hover:to-indigo-700 transition shadow-lg hover:shadow-xl",disabled:!0,id:"confirmSelectionBtn",children:"予約を続ける"})]})})]})})}),e("div",{id:"authSelectionPage",class:"hidden fixed inset-0 bg-gradient-to-br from-blue-50 to-indigo-100 overflow-y-auto z-40",children:e("div",{class:"min-h-screen flex items-center justify-center p-4",children:e("div",{class:"max-w-2xl w-full bg-white rounded-2xl shadow-2xl p-8",children:[e("h2",{class:"text-3xl font-bold text-gray-800 mb-2 text-center",children:[e("i",{class:"fas fa-user-circle text-blue-600 mr-2"}),"予約を続ける"]}),e("p",{class:"text-gray-600 text-center mb-8",children:"予約を続けるには、会員登録またはログインが必要です"}),e("div",{class:"space-y-4",children:[e("button",{onclick:"showRegistrationPage()",class:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-4 px-6 rounded-xl hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-lg hover:shadow-xl flex items-center justify-center group",children:[e("i",{class:"fas fa-user-plus mr-3 text-xl group-hover:scale-110 transition-transform"}),e("span",{class:"text-lg font-semibold",children:"新規登録"})]}),e("button",{onclick:"showLoginPage()",class:"w-full bg-white border-2 border-blue-600 text-blue-600 py-4 px-6 rounded-xl hover:bg-blue-50 transition-all duration-200 flex items-center justify-center group",children:[e("i",{class:"fas fa-sign-in-alt mr-3 text-xl group-hover:scale-110 transition-transform"}),e("span",{class:"text-lg font-semibold",children:"ログイン"})]}),e("button",{onclick:"showBookingPageAsGuest()",class:"w-full bg-gray-100 border-2 border-gray-300 text-gray-700 py-4 px-6 rounded-xl hover:bg-gray-200 transition-all duration-200 flex items-center justify-center group",children:[e("i",{class:"fas fa-user mr-3 text-xl group-hover:scale-110 transition-transform"}),e("span",{class:"text-lg font-semibold",children:"ゲストとして予約"})]})]}),e("div",{class:"mt-6 text-center",children:e("button",{onclick:"backToFlightResults()",class:"text-gray-600 hover:text-gray-800 transition",children:[e("i",{class:"fas fa-arrow-left mr-2"}),"戻る"]})})]})})}),e("div",{id:"registrationPage",class:"hidden fixed inset-0 bg-gradient-to-br from-blue-50 to-indigo-100 overflow-y-auto z-40",children:e("div",{class:"min-h-screen flex items-center justify-center p-4",children:e("div",{class:"max-w-md w-full bg-white rounded-2xl shadow-2xl p-8",children:[e("h2",{class:"text-2xl font-bold text-gray-800 mb-6 text-center",children:[e("i",{class:"fas fa-user-plus text-blue-600 mr-2"}),"新規会員登録"]}),e("div",{id:"emailStep",children:[e("p",{class:"text-gray-600 mb-6 text-center",children:["メールアドレスを入力してください。",e("br",{}),"確認コードを送信します。"]}),e("div",{class:"space-y-4",children:[e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"メールアドレス"}),e("input",{type:"email",id:"registrationEmail",placeholder:"example@email.com",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e("button",{onclick:"sendVerificationCode()",class:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 px-6 rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:[e("i",{class:"fas fa-paper-plane mr-2"}),"確認コードを送信"]})]})]}),e("div",{id:"otpStep",class:"hidden",children:[e("p",{class:"text-gray-600 mb-2 text-center",children:"確認コードを送信しました"}),e("p",{class:"text-sm text-gray-500 mb-6 text-center",id:"sentToEmail",children:"example@email.com"}),e("div",{class:"space-y-4",children:[e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"6桁の確認コード"}),e("input",{type:"text",id:"verificationCode",placeholder:"000000",maxlength:"6",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-center text-2xl tracking-widest font-mono"})]}),e("button",{onclick:"verifyCode()",class:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 px-6 rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:[e("i",{class:"fas fa-check mr-2"}),"確認"]}),e("button",{onclick:"resendVerificationCode()",class:"w-full text-blue-600 hover:text-blue-800 py-2 text-sm",children:[e("i",{class:"fas fa-redo mr-2"}),"確認コードを再送信"]})]})]}),e("div",{class:"mt-6 text-center",children:e("button",{onclick:"backToAuthSelection()",class:"text-gray-600 hover:text-gray-800 transition",children:[e("i",{class:"fas fa-arrow-left mr-2"}),"戻る"]})})]})})}),e("div",{id:"loginPage",class:"hidden fixed inset-0 bg-gradient-to-br from-blue-50 to-indigo-100 overflow-y-auto z-40",children:e("div",{class:"min-h-screen flex items-center justify-center p-4",children:e("div",{class:"max-w-md w-full bg-white rounded-2xl shadow-2xl p-8",children:[e("h2",{class:"text-2xl font-bold text-gray-800 mb-6 text-center",children:[e("i",{class:"fas fa-sign-in-alt text-blue-600 mr-2"}),"ログイン"]}),e("p",{class:"text-gray-600 mb-6 text-center",children:["登録済みのメールアドレスを入力してください。",e("br",{}),"確認コードを送信します。"]}),e("div",{id:"loginEmailStep",children:e("div",{class:"space-y-4",children:[e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"メールアドレス"}),e("input",{type:"email",id:"loginEmail",placeholder:"example@email.com",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e("button",{onclick:"sendLoginCode()",class:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 px-6 rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:[e("i",{class:"fas fa-paper-plane mr-2"}),"確認コードを送信"]})]})}),e("div",{id:"loginOtpStep",class:"hidden",children:[e("p",{class:"text-gray-600 mb-2 text-center",children:"確認コードを送信しました"}),e("p",{class:"text-sm text-gray-500 mb-6 text-center",id:"loginSentToEmail",children:"example@email.com"}),e("div",{class:"space-y-4",children:[e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"6桁の確認コード"}),e("input",{type:"text",id:"loginVerificationCode",placeholder:"000000",maxlength:"6",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-center text-2xl tracking-widest font-mono"})]}),e("button",{onclick:"verifyLoginCode()",class:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 px-6 rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:[e("i",{class:"fas fa-check mr-2"}),"ログイン"]}),e("button",{onclick:"resendLoginCode()",class:"w-full text-blue-600 hover:text-blue-800 py-2 text-sm",children:[e("i",{class:"fas fa-redo mr-2"}),"確認コードを再送信"]})]})]}),e("div",{class:"mt-6 text-center",children:e("button",{onclick:"backToAuthSelection()",class:"text-gray-600 hover:text-gray-800 transition",children:[e("i",{class:"fas fa-arrow-left mr-2"}),"戻る"]})})]})})}),e("div",{id:"bookingPage",class:"hidden fixed inset-0 bg-gradient-to-br from-blue-50 to-indigo-100 overflow-y-auto z-40",children:e("div",{class:"min-h-screen flex flex-col",children:[e("div",{class:"container mx-auto px-4 py-8 flex-grow",children:[e("button",{onclick:"backToSearch()",class:"mb-6 flex items-center text-blue-600 hover:text-blue-800 transition",children:[e("i",{class:"fas fa-arrow-left mr-2"}),"検索結果に戻る"]}),e("div",{class:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[e("h2",{class:"text-3xl font-bold text-gray-800 mb-4 flex items-center",children:[e("i",{class:"fas fa-ticket-alt text-blue-600 mr-3"}),"予約内容の確認"]}),e("div",{class:"bg-blue-50 border-l-4 border-blue-600 p-4 rounded",children:e("p",{class:"text-sm text-gray-700",children:[e("i",{class:"fas fa-info-circle text-blue-600 mr-2"}),"フライトと座席クラスを選択しました。次に座席を選択し、お客様情報を入力してください。"]})})]}),e("div",{class:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[e("h3",{class:"text-2xl font-bold text-gray-800 mb-4 flex items-center",children:[e("i",{class:"fas fa-plane text-blue-600 mr-2"}),"選択済みフライト情報"]}),e("div",{id:"flightSummary",class:"space-y-4"})]}),e("div",{class:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[e("h3",{class:"text-2xl font-bold text-gray-800 mb-4 flex items-center",children:[e("i",{class:"fas fa-chair text-blue-600 mr-2"}),"座席選択",e("span",{class:"ml-auto text-sm font-normal text-gray-600",id:"seatSelectionStatus",children:["選択済み: ",e("span",{id:"selectedSeatsCount",children:"0"})," / ",e("span",{id:"requiredSeats",children:"1"})," 座席"]})]}),e("div",{class:"flex flex-wrap gap-4 mb-6 p-4 bg-gray-50 rounded-lg",children:[e("div",{class:"flex items-center space-x-2",children:[e("div",{class:"w-8 h-8 bg-green-500 rounded flex items-center justify-center text-white text-xs font-bold",children:"空"}),e("span",{class:"text-sm text-gray-700",children:"利用可能"})]}),e("div",{class:"flex items-center space-x-2",children:[e("div",{class:"w-8 h-8 bg-blue-600 rounded flex items-center justify-center text-white text-xs font-bold",children:"選"}),e("span",{class:"text-sm text-gray-700",children:"選択済み"})]}),e("div",{class:"flex items-center space-x-2",children:[e("div",{class:"w-8 h-8 bg-gray-400 rounded flex items-center justify-center text-white text-xs font-bold",children:"×"}),e("span",{class:"text-sm text-gray-700",children:"利用不可"})]}),e("div",{class:"flex items-center space-x-2",children:[e("div",{class:"w-8 h-8 bg-yellow-500 rounded flex items-center justify-center text-white text-xs font-bold",children:"特"}),e("span",{class:"text-sm text-gray-700",children:"特別席（追加料金）"})]})]}),e("div",{class:"aircraftmap_container mb-6",children:e("div",{class:"od-aircraftmap-map-wrapper",children:[e("div",{class:"mb-8",children:[e("h4",{class:"text-lg font-bold text-gray-800 mb-3 flex items-center",children:[e("i",{class:"fas fa-plane-departure text-blue-600 mr-2"}),"往路便 - 座席選択"]}),e("div",{id:"outboundSeatMap",class:"od-aircraftmap-cabins"})]}),e("div",{children:[e("h4",{class:"text-lg font-bold text-gray-800 mb-3 flex items-center",children:[e("i",{class:"fas fa-plane-arrival text-blue-600 mr-2"}),"復路便 - 座席選択"]}),e("div",{id:"returnSeatMap",class:"od-aircraftmap-cabins"})]})]})}),e("div",{class:"bg-blue-50 rounded-lg p-4",children:[e("h5",{class:"font-bold text-gray-800 mb-2",children:"選択済み座席"}),e("div",{id:"selectedSeatsSummary",class:"text-sm text-gray-700",children:"座席を選択してください"})]})]}),e("div",{class:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[e("h3",{class:"text-2xl font-bold text-gray-800 mb-6 flex items-center",children:[e("i",{class:"fas fa-user-edit text-blue-600 mr-2"}),"お客様情報"]}),e("form",{id:"customerInfoForm",children:[e("div",{id:"passengerFormsContainer"}),e("div",{class:"border-t border-gray-200 pt-6 mt-6",children:[e("h4",{class:"text-xl font-bold text-gray-800 mb-4",children:"連絡先情報"}),e("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:["メールアドレス ",e("span",{class:"text-red-500",children:"*"})]}),e("input",{type:"email",id:"contactEmail",required:!0,placeholder:"example@email.com",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:["電話番号 ",e("span",{class:"text-red-500",children:"*"})]}),e("input",{type:"tel",id:"contactPhone",required:!0,placeholder:"090-1234-5678",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),e("div",{class:"border-t border-gray-200 pt-6 mt-6",children:[e("h4",{class:"text-xl font-bold text-gray-800 mb-4",children:"緊急連絡先"}),e("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"氏名"}),e("input",{type:"text",id:"emergencyName",placeholder:"山田 太郎",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"電話番号"}),e("input",{type:"tel",id:"emergencyPhone",placeholder:"090-1234-5678",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),e("div",{class:"border-t border-gray-200 pt-6 mt-6",children:e("label",{class:"flex items-start space-x-3 cursor-pointer",children:[e("input",{type:"checkbox",id:"agreeTerms",required:!0,class:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500 mt-1"}),e("span",{class:"text-sm text-gray-700",children:[e("a",{href:"#",class:"text-blue-600 hover:underline",children:"利用規約"}),"および",e("a",{href:"#",class:"text-blue-600 hover:underline",children:"プライバシーポリシー"}),"に同意します",e("span",{class:"text-red-500",children:"*"})]})]})})]})]}),e("div",{class:"bg-white rounded-2xl shadow-xl p-6 sticky bottom-4",children:e("div",{class:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[e("div",{children:[e("div",{class:"text-sm text-gray-600 mb-1",children:"合計金額"}),e("div",{class:"text-4xl font-bold text-blue-600",id:"finalTotalPrice",children:"¥0"}),e("div",{class:"text-xs text-gray-500 mt-1",children:[e("span",{id:"totalPassengersCount",children:"1"}),"名分 • 往復 • 税・手数料込み"]})]}),e("div",{class:"flex space-x-4 w-full md:w-auto",children:[e("button",{type:"button",onclick:"backToSearch()",class:"flex-1 md:flex-none bg-gray-200 text-gray-700 py-4 px-8 rounded-lg font-semibold hover:bg-gray-300 transition",children:"キャンセル"}),e("button",{type:"button",onclick:"proceedToConfirmation()",class:"flex-1 md:flex-none bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-4 px-8 rounded-lg font-semibold hover:from-blue-700 hover:to-indigo-700 transition shadow-lg hover:shadow-xl",disabled:!0,id:"proceedConfirmationBtn",children:[e("i",{class:"fas fa-check-circle mr-2"}),"予約内容の確認"]})]})]})})]}),e("footer",{class:"bg-gray-800 text-white mt-auto",children:e("div",{class:"container mx-auto px-4 py-8",children:[e("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e("div",{children:[e("h5",{class:"font-bold text-lg mb-4",children:"FlightSearch"}),e("p",{class:"text-gray-400",children:"お得な航空券を簡単検索"})]}),e("div",{children:[e("h5",{class:"font-bold text-lg mb-4",children:"リンク"}),e("ul",{class:"space-y-2 text-gray-400",children:[e("li",{children:e("a",{href:"#",class:"hover:text-white",children:"利用規約"})}),e("li",{children:e("a",{href:"#",class:"hover:text-white",children:"プライバシーポリシー"})}),e("li",{children:e("a",{href:"#",class:"hover:text-white",children:"お問い合わせ"})})]})]}),e("div",{children:[e("h5",{class:"font-bold text-lg mb-4",children:"フォロー"}),e("div",{class:"flex space-x-4",children:[e("a",{href:"#",class:"text-gray-400 hover:text-white",children:e("i",{class:"fab fa-facebook text-2xl"})}),e("a",{href:"#",class:"text-gray-400 hover:text-white",children:e("i",{class:"fab fa-twitter text-2xl"})}),e("a",{href:"#",class:"text-gray-400 hover:text-white",children:e("i",{class:"fab fa-instagram text-2xl"})})]})]})]}),e("div",{class:"border-t border-gray-700 mt-8 pt-8 text-center text-gray-400",children:[e("p",{children:"© 2026 FlightSearch. All rights reserved."}),e("p",{class:"mt-2 text-sm",children:e("a",{href:"https://3001-ixum760vzlh6kn5x9qt8b-dfc00ec5.sandbox.novita.ai",target:"_blank",class:"text-blue-400 hover:text-blue-300",children:[e("i",{class:"fas fa-user-shield mr-1"}),"管理画面（モック）"]})})]})]})})]})}),e("div",{id:"confirmationPage",class:"hidden fixed inset-0 bg-gradient-to-br from-blue-50 to-indigo-100 overflow-y-auto z-40",children:e("div",{class:"min-h-screen flex flex-col",children:[e("div",{class:"container mx-auto px-4 py-8 flex-grow",children:[e("button",{onclick:"backToBooking()",class:"mb-6 flex items-center text-blue-600 hover:text-blue-800 transition",children:[e("i",{class:"fas fa-arrow-left mr-2"}),"座席選択に戻る"]}),e("div",{class:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[e("h2",{class:"text-3xl font-bold text-gray-800 mb-4 flex items-center",children:[e("i",{class:"fas fa-clipboard-check text-blue-600 mr-3"}),"予約内容の最終確認"]}),e("div",{class:"bg-blue-50 border-l-4 border-blue-600 p-4 rounded",children:e("p",{class:"text-sm text-gray-700",children:[e("i",{class:"fas fa-info-circle text-blue-600 mr-2"}),"ご予約内容をご確認の上、お間違いがなければ「支払いへ進む」ボタンをクリックしてください。"]})})]}),e("div",{class:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[e("h3",{class:"text-2xl font-bold text-gray-800 mb-4 flex items-center",children:[e("i",{class:"fas fa-plane text-blue-600 mr-2"}),"フライト情報"]}),e("div",{id:"confirmationFlightSummary",class:"space-y-4"})]}),e("div",{class:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[e("h3",{class:"text-2xl font-bold text-gray-800 mb-4 flex items-center",children:[e("i",{class:"fas fa-users text-blue-600 mr-2"}),"お客様情報"]}),e("div",{id:"confirmationPassengerSummary",class:"space-y-4"})]}),e("div",{class:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[e("h3",{class:"text-2xl font-bold text-gray-800 mb-4 flex items-center",children:[e("i",{class:"fas fa-envelope text-blue-600 mr-2"}),"連絡先情報"]}),e("div",{id:"confirmationContactSummary",class:"space-y-2"})]}),e("div",{class:"bg-white rounded-2xl shadow-xl p-6 sticky bottom-4",children:e("div",{class:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[e("div",{children:[e("div",{class:"text-sm text-gray-600 mb-1",children:"お支払い合計金額"}),e("div",{class:"text-4xl font-bold text-blue-600",id:"confirmationTotalPrice",children:"¥0"}),e("div",{class:"text-xs text-gray-500 mt-1",children:[e("span",{id:"confirmationPassengersCount",children:"1"}),"名分 • 往復 • 税・手数料込み"]})]}),e("div",{class:"flex space-x-4 w-full md:w-auto",children:[e("button",{type:"button",onclick:"backToBooking()",class:"flex-1 md:flex-none bg-gray-200 text-gray-700 py-4 px-8 rounded-lg font-semibold hover:bg-gray-300 transition",children:"戻る"}),e("button",{type:"button",onclick:"proceedToPayment()",class:"flex-1 md:flex-none bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-4 px-8 rounded-lg font-semibold hover:from-blue-700 hover:to-indigo-700 transition shadow-lg hover:shadow-xl",id:"proceedPaymentBtn",children:[e("i",{class:"fas fa-credit-card mr-2"}),"支払いへ進む"]})]})]})})]}),e("footer",{class:"bg-gray-800 text-white mt-auto",children:e("div",{class:"container mx-auto px-4 py-8",children:[e("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e("div",{children:[e("h5",{class:"font-bold text-lg mb-4",children:"FlightSearch"}),e("p",{class:"text-gray-400",children:"お得な航空券を簡単検索"})]}),e("div",{children:[e("h5",{class:"font-bold text-lg mb-4",children:"リンク"}),e("ul",{class:"space-y-2 text-gray-400",children:[e("li",{children:e("a",{href:"#",class:"hover:text-white",children:"利用規約"})}),e("li",{children:e("a",{href:"#",class:"hover:text-white",children:"プライバシーポリシー"})}),e("li",{children:e("a",{href:"#",class:"hover:text-white",children:"お問い合わせ"})})]})]}),e("div",{children:[e("h5",{class:"font-bold text-lg mb-4",children:"フォロー"}),e("div",{class:"flex space-x-4",children:[e("a",{href:"#",class:"text-gray-400 hover:text-white",children:e("i",{class:"fab fa-facebook text-2xl"})}),e("a",{href:"#",class:"text-gray-400 hover:text-white",children:e("i",{class:"fab fa-twitter text-2xl"})}),e("a",{href:"#",class:"text-gray-400 hover:text-white",children:e("i",{class:"fab fa-instagram text-2xl"})})]})]})]}),e("div",{class:"border-t border-gray-700 mt-8 pt-8 text-center text-gray-400",children:[e("p",{children:"© 2026 FlightSearch. All rights reserved."}),e("p",{class:"mt-2 text-sm",children:e("a",{href:"https://3001-ixum760vzlh6kn5x9qt8b-dfc00ec5.sandbox.novita.ai",target:"_blank",class:"text-blue-400 hover:text-blue-300",children:[e("i",{class:"fas fa-user-shield mr-1"}),"管理画面（モック）"]})})]})]})})]})}),e("div",{id:"paymentPage",class:"hidden fixed inset-0 bg-gradient-to-br from-blue-50 to-indigo-100 overflow-y-auto z-40",children:e("div",{class:"min-h-screen flex flex-col",children:[e("div",{class:"container mx-auto px-4 py-8 flex-grow max-w-4xl",children:[e("button",{onclick:"backToConfirmation()",class:"mb-6 flex items-center text-blue-600 hover:text-blue-800 transition",children:[e("i",{class:"fas fa-arrow-left mr-2"}),"予約内容の確認に戻る"]}),e("div",{class:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[e("div",{class:"flex items-center justify-between mb-4",children:[e("h2",{class:"text-3xl font-bold text-gray-800 flex items-center",children:[e("i",{class:"fas fa-lock text-blue-600 mr-3"}),"安全な決済"]}),e("div",{class:"flex items-center space-x-2",children:[e("i",{class:"fab fa-cc-visa text-3xl text-blue-600"}),e("i",{class:"fab fa-cc-mastercard text-3xl text-orange-600"}),e("i",{class:"fab fa-cc-amex text-3xl text-blue-500"}),e("i",{class:"fab fa-cc-jcb text-3xl text-red-600"})]})]}),e("div",{class:"bg-green-50 border-l-4 border-green-600 p-4 rounded",children:e("p",{class:"text-sm text-gray-700",children:[e("i",{class:"fas fa-shield-alt text-green-600 mr-2"}),"このページの情報は、SSL/TLS暗号化技術により保護されています。"]})})]}),e("div",{class:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[e("h3",{class:"text-xl font-bold text-gray-800 mb-4",children:"ご注文内容"}),e("div",{class:"space-y-3",children:[e("div",{class:"flex justify-between text-gray-700",children:[e("span",{children:"フライト料金"}),e("span",{id:"paymentFlightPrice",children:"¥0"})]}),e("div",{class:"flex justify-between text-gray-700",children:[e("span",{children:"座席アップグレード"}),e("span",{id:"paymentSeatUpgrade",children:"¥0"})]}),e("div",{class:"flex justify-between text-gray-700",children:[e("span",{children:"税金・手数料"}),e("span",{id:"paymentTaxes",children:"¥0"})]}),e("div",{class:"border-t border-gray-300 pt-3 flex justify-between items-center",children:[e("span",{class:"text-xl font-bold text-gray-800",children:"合計"}),e("span",{class:"text-2xl font-bold text-blue-600",id:"paymentTotalPrice",children:"¥0"})]})]})]}),e("div",{class:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[e("h3",{class:"text-xl font-bold text-gray-800 mb-6",children:"お支払い情報"}),e("form",{id:"paymentForm",class:"space-y-6",children:[e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"カード番号"}),e("div",{class:"relative",children:[e("input",{type:"text",placeholder:"1234 5678 9012 3456",pattern:"[0-9\\s]{13,19}",maxlength:"19",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),e("i",{class:"fas fa-credit-card absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]})]}),e("div",{class:"grid grid-cols-2 gap-4",children:[e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"有効期限"}),e("input",{type:"text",placeholder:"MM/YY",pattern:"(0[1-9]|1[0-2])\\/[0-9]{2}",maxlength:"5",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"セキュリティコード"}),e("input",{type:"text",placeholder:"CVV",pattern:"[0-9]{3,4}",maxlength:"4",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"カード名義人"}),e("input",{type:"text",placeholder:"TARO YAMADA",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"請求先住所"}),e("input",{type:"text",placeholder:"東京都渋谷区...",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]})]}),e("div",{class:"bg-white rounded-2xl shadow-xl p-6 sticky bottom-4",children:[e("div",{class:"flex space-x-4",children:[e("button",{type:"button",onclick:"backToConfirmation()",class:"flex-1 bg-gray-200 text-gray-700 py-4 px-8 rounded-lg font-semibold hover:bg-gray-300 transition",children:"キャンセル"}),e("button",{type:"button",onclick:"completeBooking()",class:"flex-1 bg-gradient-to-r from-green-600 to-blue-600 text-white py-4 px-8 rounded-lg font-semibold hover:from-green-700 hover:to-blue-700 transition shadow-lg hover:shadow-xl",children:[e("i",{class:"fas fa-lock mr-2"}),e("span",{id:"paymentButtonText",children:"¥0 を支払う"})]})]}),e("p",{class:"text-xs text-gray-500 text-center mt-4",children:[e("i",{class:"fas fa-shield-alt mr-1"}),"お客様の決済情報は暗号化され、安全に処理されます。"]})]})]}),e("footer",{class:"bg-gray-800 text-white mt-auto",children:e("div",{class:"container mx-auto px-4 py-8",children:[e("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e("div",{children:[e("h5",{class:"font-bold text-lg mb-4",children:"FlightSearch"}),e("p",{class:"text-gray-400",children:"お得な航空券を簡単検索"})]}),e("div",{children:[e("h5",{class:"font-bold text-lg mb-4",children:"リンク"}),e("ul",{class:"space-y-2 text-gray-400",children:[e("li",{children:e("a",{href:"#",class:"hover:text-white",children:"利用規約"})}),e("li",{children:e("a",{href:"#",class:"hover:text-white",children:"プライバシーポリシー"})}),e("li",{children:e("a",{href:"#",class:"hover:text-white",children:"お問い合わせ"})})]})]}),e("div",{children:[e("h5",{class:"font-bold text-lg mb-4",children:"フォロー"}),e("div",{class:"flex space-x-4",children:[e("a",{href:"#",class:"text-gray-400 hover:text-white",children:e("i",{class:"fab fa-facebook text-2xl"})}),e("a",{href:"#",class:"text-gray-400 hover:text-white",children:e("i",{class:"fab fa-twitter text-2xl"})}),e("a",{href:"#",class:"text-gray-400 hover:text-white",children:e("i",{class:"fab fa-instagram text-2xl"})})]})]})]}),e("div",{class:"border-t border-gray-700 mt-8 pt-8 text-center text-gray-400",children:[e("p",{children:"© 2026 FlightSearch. All rights reserved."}),e("p",{class:"mt-2 text-sm",children:e("a",{href:"https://3001-ixum760vzlh6kn5x9qt8b-dfc00ec5.sandbox.novita.ai",target:"_blank",class:"text-blue-400 hover:text-blue-300",children:[e("i",{class:"fas fa-user-shield mr-1"}),"管理画面（モック）"]})})]})]})})]})}),e("div",{id:"completePage",class:"hidden fixed inset-0 bg-gradient-to-br from-green-50 to-blue-100 overflow-y-auto z-40",children:e("div",{class:"min-h-screen flex flex-col",children:[e("div",{class:"container mx-auto px-4 py-8 flex-grow max-w-4xl",children:[e("div",{class:"bg-white rounded-2xl shadow-xl p-8 mb-6 text-center",children:[e("div",{class:"mb-6",children:[e("div",{class:"inline-flex items-center justify-center w-24 h-24 bg-green-100 rounded-full mb-4",children:e("i",{class:"fas fa-check-circle text-green-600 text-6xl"})}),e("h2",{class:"text-4xl font-bold text-gray-800 mb-2",children:"予約が完了しました！"}),e("p",{class:"text-gray-600",children:"ご予約ありがとうございます。予約確認メールをお送りしました。"})]}),e("div",{class:"bg-blue-50 border-2 border-blue-200 rounded-lg p-6 mb-6",children:[e("div",{class:"text-sm text-gray-600 mb-2",children:"予約番号"}),e("div",{class:"text-3xl font-bold text-blue-600",id:"bookingReference",children:"ABC123456"}),e("p",{class:"text-xs text-gray-500 mt-2",children:"この予約番号は、予約の確認や変更に必要です。大切に保管してください。"})]})]}),e("div",{class:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[e("h3",{class:"text-2xl font-bold text-gray-800 mb-4 flex items-center",children:[e("i",{class:"fas fa-plane text-blue-600 mr-2"}),"フライト情報"]}),e("div",{id:"completeFlightSummary",class:"space-y-4"})]}),e("div",{class:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[e("h3",{class:"text-xl font-bold text-gray-800 mb-4",children:"次のステップ"}),e("div",{class:"space-y-4",children:[e("div",{class:"flex items-start space-x-3",children:[e("div",{class:"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:e("span",{class:"text-blue-600 font-bold",children:"1"})}),e("div",{children:[e("h4",{class:"font-semibold text-gray-800",children:"予約確認メールを確認"}),e("p",{class:"text-sm text-gray-600",children:"ご登録のメールアドレスに予約詳細を送信しました。"})]})]}),e("div",{class:"flex items-start space-x-3",children:[e("div",{class:"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:e("span",{class:"text-blue-600 font-bold",children:"2"})}),e("div",{children:[e("h4",{class:"font-semibold text-gray-800",children:"オンラインチェックイン"}),e("p",{class:"text-sm text-gray-600",children:"出発24時間前からオンラインチェックインが可能です。"})]})]}),e("div",{class:"flex items-start space-x-3",children:[e("div",{class:"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:e("span",{class:"text-blue-600 font-bold",children:"3"})}),e("div",{children:[e("h4",{class:"font-semibold text-gray-800",children:"空港へ出発"}),e("p",{class:"text-sm text-gray-600",children:"出発の2時間前までに空港へお越しください。"})]})]})]})]}),e("div",{class:"bg-white rounded-2xl shadow-xl p-6",children:e("div",{class:"flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4",children:[e("button",{type:"button",onclick:"downloadTicket()",class:"flex-1 bg-blue-600 text-white py-4 px-8 rounded-lg font-semibold hover:bg-blue-700 transition shadow-lg hover:shadow-xl",children:[e("i",{class:"fas fa-download mr-2"}),"予約確認書をダウンロード"]}),e("button",{type:"button",onclick:"returnToSearch()",class:"flex-1 bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-4 px-8 rounded-lg font-semibold hover:from-blue-700 hover:to-indigo-700 transition shadow-lg hover:shadow-xl",children:[e("i",{class:"fas fa-home mr-2"}),"検索トップに戻る"]})]})})]}),e("footer",{class:"bg-gray-800 text-white mt-auto",children:e("div",{class:"container mx-auto px-4 py-8",children:[e("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e("div",{children:[e("h5",{class:"font-bold text-lg mb-4",children:"FlightSearch"}),e("p",{class:"text-gray-400",children:"お得な航空券を簡単検索"})]}),e("div",{children:[e("h5",{class:"font-bold text-lg mb-4",children:"リンク"}),e("ul",{class:"space-y-2 text-gray-400",children:[e("li",{children:e("a",{href:"#",class:"hover:text-white",children:"利用規約"})}),e("li",{children:e("a",{href:"#",class:"hover:text-white",children:"プライバシーポリシー"})}),e("li",{children:e("a",{href:"#",class:"hover:text-white",children:"お問い合わせ"})})]})]}),e("div",{children:[e("h5",{class:"font-bold text-lg mb-4",children:"フォロー"}),e("div",{class:"flex space-x-4",children:[e("a",{href:"#",class:"text-gray-400 hover:text-white",children:e("i",{class:"fab fa-facebook text-2xl"})}),e("a",{href:"#",class:"text-gray-400 hover:text-white",children:e("i",{class:"fab fa-twitter text-2xl"})}),e("a",{href:"#",class:"text-gray-400 hover:text-white",children:e("i",{class:"fab fa-instagram text-2xl"})})]})]})]}),e("div",{class:"border-t border-gray-700 mt-8 pt-8 text-center text-gray-400",children:[e("p",{children:"© 2026 FlightSearch. All rights reserved."}),e("p",{class:"mt-2 text-sm",children:e("a",{href:"https://3001-ixum760vzlh6kn5x9qt8b-dfc00ec5.sandbox.novita.ai",target:"_blank",class:"text-blue-400 hover:text-blue-300",children:[e("i",{class:"fas fa-user-shield mr-1"}),"管理画面（モック）"]})})]})]})})]})}),e("div",{id:"myPage",class:"hidden fixed inset-0 bg-gradient-to-br from-blue-50 to-indigo-100 overflow-y-auto z-40",children:e("div",{class:"min-h-screen flex flex-col",children:[e("div",{class:"container mx-auto px-4 py-8 flex-grow",children:[e("button",{onclick:"backToHome()",class:"mb-6 flex items-center text-blue-600 hover:text-blue-800 transition",children:[e("i",{class:"fas fa-arrow-left mr-2"}),"ホームに戻る"]}),e("div",{class:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[e("h2",{class:"text-3xl font-bold text-gray-800 mb-2 flex items-center",children:[e("i",{class:"fas fa-user-circle text-blue-600 mr-3"}),"マイページ"]}),e("p",{class:"text-gray-600",id:"myPageUserEmail",children:"ログイン中: user@example.com"})]}),e("div",{class:"bg-white rounded-2xl shadow-xl mb-6 overflow-hidden",children:e("div",{class:"flex border-b",children:[e("button",{onclick:"switchMyPageTab('bookings')",id:"tabBookings",class:"flex-1 py-4 px-6 font-semibold text-center transition mypage-tab active",children:[e("i",{class:"fas fa-list mr-2"}),"予約履歴"]}),e("button",{onclick:"switchMyPageTab('profile')",id:"tabProfile",class:"flex-1 py-4 px-6 font-semibold text-center transition mypage-tab",children:[e("i",{class:"fas fa-user-edit mr-2"}),"会員情報"]})]})}),e("div",{id:"bookingsTab",class:"mypage-tab-content",children:e("div",{class:"bg-white rounded-2xl shadow-xl p-6",children:[e("h3",{class:"text-2xl font-bold text-gray-800 mb-6 flex items-center",children:[e("i",{class:"fas fa-history text-blue-600 mr-2"}),"予約履歴"]}),e("div",{id:"bookingsList",class:"space-y-4"})]})}),e("div",{id:"profileTab",class:"mypage-tab-content hidden",children:e("div",{class:"bg-white rounded-2xl shadow-xl p-6",children:[e("h3",{class:"text-2xl font-bold text-gray-800 mb-6 flex items-center",children:[e("i",{class:"fas fa-id-card text-blue-600 mr-2"}),"会員情報"]}),e("form",{id:"profileForm",class:"space-y-6",children:[e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"メールアドレス"}),e("input",{type:"email",id:"profileEmail",disabled:!0,class:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-100"})]}),e("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:["姓 ",e("span",{class:"text-red-500",children:"*"})]}),e("input",{type:"text",id:"profileLastName",placeholder:"山田",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:["名 ",e("span",{class:"text-red-500",children:"*"})]}),e("input",{type:"text",id:"profileFirstName",placeholder:"太郎",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:["電話番号 ",e("span",{class:"text-red-500",children:"*"})]}),e("input",{type:"tel",id:"profilePhone",placeholder:"090-1234-5678",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:["生年月日 ",e("span",{class:"text-red-500",children:"*"})]}),e("input",{type:"date",id:"profileDob",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:["性別 ",e("span",{class:"text-red-500",children:"*"})]}),e("select",{id:"profileGender",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e("option",{value:"",children:"選択してください"}),e("option",{value:"male",children:"男性"}),e("option",{value:"female",children:"女性"}),e("option",{value:"other",children:"その他"})]})]}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"パスポート番号"}),e("input",{type:"text",id:"profilePassport",placeholder:"AB1234567",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"国籍"}),e("input",{type:"text",id:"profileNationality",placeholder:"日本",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e("div",{class:"flex justify-end space-x-4",children:[e("button",{type:"button",onclick:"cancelProfileEdit()",class:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition",children:"キャンセル"}),e("button",{type:"submit",class:"px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 transition shadow-lg hover:shadow-xl",children:[e("i",{class:"fas fa-save mr-2"}),"保存する"]})]})]})]})})]}),e("footer",{class:"bg-gray-800 text-white mt-auto",children:e("div",{class:"container mx-auto px-4 py-8",children:[e("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e("div",{children:[e("h5",{class:"font-bold text-lg mb-4",children:"FlightSearch"}),e("p",{class:"text-gray-400",children:"お得な航空券を簡単検索"})]}),e("div",{children:[e("h5",{class:"font-bold text-lg mb-4",children:"リンク"}),e("ul",{class:"space-y-2 text-gray-400",children:[e("li",{children:e("a",{href:"#",class:"hover:text-white",children:"利用規約"})}),e("li",{children:e("a",{href:"#",class:"hover:text-white",children:"プライバシーポリシー"})}),e("li",{children:e("a",{href:"#",class:"hover:text-white",children:"お問い合わせ"})})]})]}),e("div",{children:[e("h5",{class:"font-bold text-lg mb-4",children:"フォロー"}),e("div",{class:"flex space-x-4",children:[e("a",{href:"#",class:"text-gray-400 hover:text-white",children:e("i",{class:"fab fa-facebook text-2xl"})}),e("a",{href:"#",class:"text-gray-400 hover:text-white",children:e("i",{class:"fab fa-twitter text-2xl"})}),e("a",{href:"#",class:"text-gray-400 hover:text-white",children:e("i",{class:"fab fa-instagram text-2xl"})})]})]})]}),e("div",{class:"border-t border-gray-700 mt-8 pt-8 text-center text-gray-400",children:[e("p",{children:"© 2026 FlightSearch. All rights reserved."}),e("p",{class:"mt-2 text-sm",children:e("a",{href:"https://3001-ixum760vzlh6kn5x9qt8b-dfc00ec5.sandbox.novita.ai",target:"_blank",class:"text-blue-400 hover:text-blue-300",children:[e("i",{class:"fas fa-user-shield mr-1"}),"管理画面（モック）"]})})]})]})})]})}),e("div",{id:"bookingDetailModal",class:"hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e("div",{class:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:e("div",{class:"p-6",children:[e("div",{class:"flex justify-between items-center mb-6",children:[e("h3",{class:"text-2xl font-bold text-gray-800 flex items-center",children:[e("i",{class:"fas fa-ticket-alt text-blue-600 mr-2"}),"予約詳細"]}),e("button",{onclick:"closeBookingDetailModal()",class:"text-gray-400 hover:text-gray-600 text-2xl",children:e("i",{class:"fas fa-times"})})]}),e("div",{id:"bookingDetailContent"}),e("div",{class:"mt-6 flex justify-end space-x-4",children:[e("button",{onclick:"closeBookingDetailModal()",class:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition",children:"閉じる"}),e("button",{id:"cancelBookingBtn",onclick:"showCancelConfirmation()",class:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:[e("i",{class:"fas fa-times-circle mr-2"}),"この予約をキャンセル"]})]})]})})}),e("div",{id:"cancelConfirmModal",class:"hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e("div",{class:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6",children:[e("h3",{class:"text-xl font-bold text-gray-800 mb-4 flex items-center",children:[e("i",{class:"fas fa-exclamation-triangle text-yellow-500 mr-2"}),"キャンセル確認"]}),e("p",{class:"text-gray-600 mb-6",children:["この予約をキャンセルしてもよろしいですか？",e("br",{}),"この操作は取り消すことができません。"]}),e("div",{class:"flex justify-end space-x-4",children:[e("button",{onclick:"closeCancelConfirmation()",class:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition",children:"戻る"}),e("button",{onclick:"confirmCancelBooking()",class:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:"キャンセルする"})]})]})}),e("script",{src:"/static/app.js"})]})));it.post("/api/search",async t=>{const r=await t.req.json();return t.json({success:!0,message:"Search received",data:r})});const Vt=new Pr,ns=Object.assign({"/src/index.tsx":it});let Fr=!1;for(const[,t]of Object.entries(ns))t&&(Vt.all("*",r=>{let l;try{l=r.executionCtx}catch{}return t.fetch(r.req.raw,r.env,l)}),Vt.notFound(r=>{let l;try{l=r.executionCtx}catch{}return t.fetch(r.req.raw,r.env,l)}),Fr=!0);if(!Fr)throw new Error("Can't import modules from ['/src/index.ts','/src/index.tsx','/app/server.ts']");export{Vt as default};
