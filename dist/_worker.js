var Fr=Object.defineProperty;var jt=e=>{throw TypeError(e)};var Dr=(e,t,s)=>t in e?Fr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var p=(e,t,s)=>Dr(e,typeof t!="symbol"?t+"":t,s),at=(e,t,s)=>t.has(e)||jt("Cannot "+s);var h=(e,t,s)=>(at(e,t,"read from private field"),s?s.call(e):t.get(e)),k=(e,t,s)=>t.has(e)?jt("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),y=(e,t,s,l)=>(at(e,t,"write to private field"),l?l.call(e,s):t.set(e,s),s),S=(e,t,s)=>(at(e,t,"access private method"),s);var Ot=(e,t,s,l)=>({set _(i){y(e,t,i,s)},get _(){return h(e,t,l)}});var er={Stringify:1},N=(e,t)=>{const s=new String(e);return s.isEscaped=!0,s.callbacks=t,s},Hr=/[&<>'"]/,tr=async(e,t)=>{let s="";t||(t=[]);const l=await Promise.all(e);for(let i=l.length-1;s+=l[i],i--,!(i<0);i--){let n=l[i];typeof n=="object"&&t.push(...n.callbacks||[]);const a=n.isEscaped;if(n=await(typeof n=="object"?n.toString():n),typeof n=="object"&&t.push(...n.callbacks||[]),n.isEscaped??a)s+=n;else{const c=[s];ee(n,c),s=c[0]}}return N(s,t)},ee=(e,t)=>{const s=e.search(Hr);if(s===-1){t[0]+=e;return}let l,i,n=0;for(i=s;i<e.length;i++){switch(e.charCodeAt(i)){case 34:l="&quot;";break;case 39:l="&#39;";break;case 38:l="&amp;";break;case 60:l="&lt;";break;case 62:l="&gt;";break;default:continue}t[0]+=e.substring(n,i)+l,n=i+1}t[0]+=e.substring(n,i)},rr=e=>{const t=e.callbacks;if(!(t!=null&&t.length))return e;const s=[e],l={};return t.forEach(i=>i({phase:er.Stringify,buffer:s,context:l})),s[0]},sr=async(e,t,s,l,i)=>{typeof e=="object"&&!(e instanceof String)&&(e instanceof Promise||(e=e.toString()),e instanceof Promise&&(e=await e));const n=e.callbacks;return n!=null&&n.length?(i?i[0]+=e:i=[e],Promise.all(n.map(c=>c({phase:t,buffer:i,context:l}))).then(c=>Promise.all(c.filter(Boolean).map(o=>sr(o,t,!1,l,i))).then(()=>i[0]))):Promise.resolve(e)},Ir=(e,...t)=>{const s=[""];for(let l=0,i=e.length-1;l<i;l++){s[0]+=e[l];const n=Array.isArray(t[l])?t[l].flat(1/0):[t[l]];for(let a=0,c=n.length;a<c;a++){const o=n[a];if(typeof o=="string")ee(o,s);else if(typeof o=="number")s[0]+=o;else{if(typeof o=="boolean"||o===null||o===void 0)continue;if(typeof o=="object"&&o.isEscaped)if(o.callbacks)s.unshift("",o);else{const d=o.toString();d instanceof Promise?s.unshift("",d):s[0]+=d}else o instanceof Promise?s.unshift("",o):ee(o.toString(),s)}}}return s[0]+=e.at(-1),s.length===1?"callbacks"in s?N(rr(N(s[0],s.callbacks))):N(s[0]):tr(s,s.callbacks)},kt=Symbol("RENDERER"),pt=Symbol("ERROR_HANDLER"),A=Symbol("STASH"),lr=Symbol("INTERNAL"),_r=Symbol("MEMO"),et=Symbol("PERMALINK"),Tt=e=>(e[lr]=!0,e),ir=e=>({value:t,children:s})=>{if(!s)return;const l={children:[{tag:Tt(()=>{e.push(t)}),props:{}}]};Array.isArray(s)?l.children.push(...s.flat()):l.children.push(s),l.children.push({tag:Tt(()=>{e.pop()}),props:{}});const i={tag:"",props:l,type:""};return i[pt]=n=>{throw e.pop(),n},i},nr=e=>{const t=[e],s=ir(t);return s.values=t,s.Provider=s,we.push(s),s},we=[],Et=e=>{const t=[e],s=(l=>{t.push(l.value);let i;try{i=l.children?(Array.isArray(l.children)?new dr("",{},l.children):l.children).toString():""}catch(n){throw t.pop(),n}return i instanceof Promise?i.finally(()=>t.pop()).then(n=>N(n,n.callbacks)):(t.pop(),N(i))});return s.values=t,s.Provider=s,s[kt]=ir(t),we.push(s),s},Ee=e=>e.values.at(-1),Ke={title:[],script:["src"],style:["data-href"],link:["href"],meta:["name","httpEquiv","charset","itemProp"]},mt={},Ve="data-precedence",Ie=e=>Array.isArray(e)?e:[e],$t=new WeakMap,Lt=(e,t,s,l)=>({buffer:i,context:n})=>{if(!i)return;const a=$t.get(n)||{};$t.set(n,a);const c=a[e]||(a[e]=[]);let o=!1;const d=Ke[e];if(d.length>0){e:for(const[,f]of c)for(const u of d)if(((f==null?void 0:f[u])??null)===(s==null?void 0:s[u])){o=!0;break e}}if(o?i[0]=i[0].replaceAll(t,""):d.length>0?c.push([t,s,l]):c.unshift([t,s,l]),i[0].indexOf("</head>")!==-1){let f;if(l===void 0)f=c.map(([u])=>u);else{const u=[];f=c.map(([x,,g])=>{let m=u.indexOf(g);return m===-1&&(u.push(g),m=u.length-1),[x,m]}).sort((x,g)=>x[1]-g[1]).map(([x])=>x)}f.forEach(u=>{i[0]=i[0].replaceAll(u,"")}),i[0]=i[0].replace(/(?=<\/head>)/,f.join(""))}},_e=(e,t,s)=>N(new I(e,s,Ie(t??[])).toString()),Be=(e,t,s,l)=>{if("itemProp"in s)return _e(e,t,s);let{precedence:i,blocking:n,...a}=s;i=l?i??"":void 0,l&&(a[Ve]=i);const c=new I(e,a,Ie(t||[])).toString();return c instanceof Promise?c.then(o=>N(c,[...o.callbacks||[],Lt(e,o,a,i)])):N(c,[Lt(e,c,a,i)])},Br=({children:e,...t})=>{const s=St();if(s){const l=Ee(s);if(l==="svg"||l==="head")return new I("title",t,Ie(e??[]))}return Be("title",e,t,!1)},qr=({children:e,...t})=>{const s=St();return["src","async"].some(l=>!t[l])||s&&Ee(s)==="head"?_e("script",e,t):Be("script",e,t,!1)},Ur=({children:e,...t})=>["href","precedence"].every(s=>s in t)?(t["data-href"]=t.href,delete t.href,Be("style",e,t,!0)):_e("style",e,t),Wr=({children:e,...t})=>["onLoad","onError"].some(s=>s in t)||t.rel==="stylesheet"&&(!("precedence"in t)||"disabled"in t)?_e("link",e,t):Be("link",e,t,"precedence"in t),zr=({children:e,...t})=>{const s=St();return s&&Ee(s)==="head"?_e("meta",e,t):Be("meta",e,t,!1)},ar=(e,{children:t,...s})=>new I(e,s,Ie(t??[])),Kr=e=>(typeof e.action=="function"&&(e.action=et in e.action?e.action[et]:void 0),ar("form",e)),cr=(e,t)=>(typeof t.formAction=="function"&&(t.formAction=et in t.formAction?t.formAction[et]:void 0),ar(e,t)),Vr=e=>cr("input",e),Gr=e=>cr("button",e);const ct=Object.freeze(Object.defineProperty({__proto__:null,button:Gr,form:Kr,input:Vr,link:Wr,meta:zr,script:qr,style:Ur,title:Br},Symbol.toStringTag,{value:"Module"}));var Jr=new Map([["className","class"],["htmlFor","for"],["crossOrigin","crossorigin"],["httpEquiv","http-equiv"],["itemProp","itemprop"],["fetchPriority","fetchpriority"],["noModule","nomodule"],["formAction","formaction"]]),tt=e=>Jr.get(e)||e,or=(e,t)=>{for(const[s,l]of Object.entries(e)){const i=s[0]==="-"||!/[A-Z]/.test(s)?s:s.replace(/[A-Z]/g,n=>`-${n.toLowerCase()}`);t(i,l==null?null:typeof l=="number"?i.match(/^(?:a|border-im|column(?:-c|s)|flex(?:$|-[^b])|grid-(?:ar|[^a])|font-w|li|or|sca|st|ta|wido|z)|ty$/)?`${l}`:`${l}px`:l)}},Oe=void 0,St=()=>Oe,Xr=e=>/[A-Z]/.test(e)&&e.match(/^(?:al|basel|clip(?:Path|Rule)$|co|do|fill|fl|fo|gl|let|lig|i|marker[EMS]|o|pai|pointe|sh|st[or]|text[^L]|tr|u|ve|w)/)?e.replace(/([A-Z])/g,"-$1").toLowerCase():e,Yr=["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],Zr=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","download","formnovalidate","hidden","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"],Pt=(e,t)=>{for(let s=0,l=e.length;s<l;s++){const i=e[s];if(typeof i=="string")ee(i,t);else{if(typeof i=="boolean"||i===null||i===void 0)continue;i instanceof I?i.toStringToBuffer(t):typeof i=="number"||i.isEscaped?t[0]+=i:i instanceof Promise?t.unshift("",i):Pt(i,t)}}},I=class{constructor(e,t,s){p(this,"tag");p(this,"props");p(this,"key");p(this,"children");p(this,"isEscaped",!0);p(this,"localContexts");this.tag=e,this.props=t,this.children=s}get type(){return this.tag}get ref(){return this.props.ref||null}toString(){var t,s;const e=[""];(t=this.localContexts)==null||t.forEach(([l,i])=>{l.values.push(i)});try{this.toStringToBuffer(e)}finally{(s=this.localContexts)==null||s.forEach(([l])=>{l.values.pop()})}return e.length===1?"callbacks"in e?rr(N(e[0],e.callbacks)).toString():e[0]:tr(e,e.callbacks)}toStringToBuffer(e){const t=this.tag,s=this.props;let{children:l}=this;e[0]+=`<${t}`;const i=Oe&&Ee(Oe)==="svg"?n=>Xr(tt(n)):n=>tt(n);for(let[n,a]of Object.entries(s))if(n=i(n),n!=="children"){if(n==="style"&&typeof a=="object"){let c="";or(a,(o,d)=>{d!=null&&(c+=`${c?";":""}${o}:${d}`)}),e[0]+=' style="',ee(c,e),e[0]+='"'}else if(typeof a=="string")e[0]+=` ${n}="`,ee(a,e),e[0]+='"';else if(a!=null)if(typeof a=="number"||a.isEscaped)e[0]+=` ${n}="${a}"`;else if(typeof a=="boolean"&&Zr.includes(n))a&&(e[0]+=` ${n}=""`);else if(n==="dangerouslySetInnerHTML"){if(l.length>0)throw new Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");l=[N(a.__html)]}else if(a instanceof Promise)e[0]+=` ${n}="`,e.unshift('"',a);else if(typeof a=="function"){if(!n.startsWith("on")&&n!=="ref")throw new Error(`Invalid prop '${n}' of type 'function' supplied to '${t}'.`)}else e[0]+=` ${n}="`,ee(a.toString(),e),e[0]+='"'}if(Yr.includes(t)&&l.length===0){e[0]+="/>";return}e[0]+=">",Pt(l,e),e[0]+=`</${t}>`}},ot=class extends I{toStringToBuffer(e){const{children:t}=this,s={...this.props};t.length&&(s.children=t.length===1?t[0]:t);const l=this.tag.call(null,s);if(!(typeof l=="boolean"||l==null))if(l instanceof Promise)if(we.length===0)e.unshift("",l);else{const i=we.map(n=>[n,n.values.at(-1)]);e.unshift("",l.then(n=>(n instanceof I&&(n.localContexts=i),n)))}else l instanceof I?l.toStringToBuffer(e):typeof l=="number"||l.isEscaped?(e[0]+=l,l.callbacks&&(e.callbacks||(e.callbacks=[]),e.callbacks.push(...l.callbacks))):ee(l,e)}},dr=class extends I{toStringToBuffer(e){Pt(this.children,e)}},Mt=(e,t,...s)=>{t??(t={}),s.length&&(t.children=s.length===1?s[0]:s);const l=t.key;delete t.key;const i=Ge(e,t,s);return i.key=l,i},Nt=!1,Ge=(e,t,s)=>{if(!Nt){for(const l in mt)ct[l][kt]=mt[l];Nt=!0}return typeof e=="function"?new ot(e,t,s):ct[e]?new ot(ct[e],t,s):e==="svg"||e==="head"?(Oe||(Oe=Et("")),new I(e,t,[new ot(Oe,{value:e},s)])):new I(e,t,s)},Qr=({children:e})=>new dr("",{children:e},Array.isArray(e)?e:e?[e]:[]);function r(e,t,s){let l;if(!t||!("children"in t))l=Ge(e,t,[]);else{const i=t.children;l=Array.isArray(i)?Ge(e,t,i):Ge(e,t,[i])}return l.key=s,l}var Ft=(e,t,s)=>(l,i)=>{let n=-1;return a(0);async function a(c){if(c<=n)throw new Error("next() called multiple times");n=c;let o,d=!1,f;if(e[c]?(f=e[c][0][0],l.req.routeIndex=c):f=c===e.length&&i||void 0,f)try{o=await f(l,()=>a(c+1))}catch(u){if(u instanceof Error&&t)l.error=u,o=await t(u,l),d=!0;else throw u}else l.finalized===!1&&s&&(o=await s(l));return o&&(l.finalized===!1||d)&&(l.res=o),l}},es=Symbol(),ts=async(e,t=Object.create(null))=>{const{all:s=!1,dot:l=!1}=t,n=(e instanceof br?e.raw.headers:e.headers).get("Content-Type");return n!=null&&n.startsWith("multipart/form-data")||n!=null&&n.startsWith("application/x-www-form-urlencoded")?rs(e,{all:s,dot:l}):{}};async function rs(e,t){const s=await e.formData();return s?ss(s,t):{}}function ss(e,t){const s=Object.create(null);return e.forEach((l,i)=>{t.all||i.endsWith("[]")?ls(s,i,l):s[i]=l}),t.dot&&Object.entries(s).forEach(([l,i])=>{l.includes(".")&&(is(s,l,i),delete s[l])}),s}var ls=(e,t,s)=>{e[t]!==void 0?Array.isArray(e[t])?e[t].push(s):e[t]=[e[t],s]:t.endsWith("[]")?e[t]=[s]:e[t]=s},is=(e,t,s)=>{let l=e;const i=t.split(".");i.forEach((n,a)=>{a===i.length-1?l[n]=s:((!l[n]||typeof l[n]!="object"||Array.isArray(l[n])||l[n]instanceof File)&&(l[n]=Object.create(null)),l=l[n])})},hr=e=>{const t=e.split("/");return t[0]===""&&t.shift(),t},ns=e=>{const{groups:t,path:s}=as(e),l=hr(s);return cs(l,t)},as=e=>{const t=[];return e=e.replace(/\{[^}]+\}/g,(s,l)=>{const i=`@${l}`;return t.push([i,s]),i}),{groups:t,path:e}},cs=(e,t)=>{for(let s=t.length-1;s>=0;s--){const[l]=t[s];for(let i=e.length-1;i>=0;i--)if(e[i].includes(l)){e[i]=e[i].replace(l,t[s][1]);break}}return e},We={},os=(e,t)=>{if(e==="*")return"*";const s=e.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);if(s){const l=`${e}#${t}`;return We[l]||(s[2]?We[l]=t&&t[0]!==":"&&t[0]!=="*"?[l,s[1],new RegExp(`^${s[2]}(?=/${t})`)]:[e,s[1],new RegExp(`^${s[2]}$`)]:We[l]=[e,s[1],!0]),We[l]}return null},Rt=(e,t)=>{try{return t(e)}catch{return e.replace(/(?:%[0-9A-Fa-f]{2})+/g,s=>{try{return t(s)}catch{return s}})}},ds=e=>Rt(e,decodeURI),fr=e=>{const t=e.url,s=t.indexOf("/",t.indexOf(":")+4);let l=s;for(;l<t.length;l++){const i=t.charCodeAt(l);if(i===37){const n=t.indexOf("?",l),a=t.indexOf("#",l),c=n===-1?a===-1?void 0:a:a===-1?n:Math.min(n,a),o=t.slice(s,c);return ds(o.includes("%25")?o.replace(/%25/g,"%2525"):o)}else if(i===63||i===35)break}return t.slice(s,l)},hs=e=>{const t=fr(e);return t.length>1&&t.at(-1)==="/"?t.slice(0,-1):t},he=(e,t,...s)=>(s.length&&(t=he(t,...s)),`${(e==null?void 0:e[0])==="/"?"":"/"}${e}${t==="/"?"":`${(e==null?void 0:e.at(-1))==="/"?"":"/"}${(t==null?void 0:t[0])==="/"?t.slice(1):t}`}`),ur=e=>{if(e.charCodeAt(e.length-1)!==63||!e.includes(":"))return null;const t=e.split("/"),s=[];let l="";return t.forEach(i=>{if(i!==""&&!/\:/.test(i))l+="/"+i;else if(/\:/.test(i))if(/\?/.test(i)){s.length===0&&l===""?s.push("/"):s.push(l);const n=i.replace("?","");l+="/"+n,s.push(l)}else l+="/"+i}),s.filter((i,n,a)=>a.indexOf(i)===n)},dt=e=>/[%+]/.test(e)?(e.indexOf("+")!==-1&&(e=e.replace(/\+/g," ")),e.indexOf("%")!==-1?Rt(e,gr):e):e,xr=(e,t,s)=>{let l;if(!s&&t&&!/[%+]/.test(t)){let a=e.indexOf("?",8);if(a===-1)return;for(e.startsWith(t,a+1)||(a=e.indexOf(`&${t}`,a+1));a!==-1;){const c=e.charCodeAt(a+t.length+1);if(c===61){const o=a+t.length+2,d=e.indexOf("&",o);return dt(e.slice(o,d===-1?void 0:d))}else if(c==38||isNaN(c))return"";a=e.indexOf(`&${t}`,a+1)}if(l=/[%+]/.test(e),!l)return}const i={};l??(l=/[%+]/.test(e));let n=e.indexOf("?",8);for(;n!==-1;){const a=e.indexOf("&",n+1);let c=e.indexOf("=",n);c>a&&a!==-1&&(c=-1);let o=e.slice(n+1,c===-1?a===-1?void 0:a:c);if(l&&(o=dt(o)),n=a,o==="")continue;let d;c===-1?d="":(d=e.slice(c+1,a===-1?void 0:a),l&&(d=dt(d))),s?(i[o]&&Array.isArray(i[o])||(i[o]=[]),i[o].push(d)):i[o]??(i[o]=d)}return t?i[t]:i},fs=xr,us=(e,t)=>xr(e,t,!0),gr=decodeURIComponent,Dt=e=>Rt(e,gr),xe,M,K,pr,mr,vt,G,Gt,br=(Gt=class{constructor(e,t="/",s=[[]]){k(this,K);p(this,"raw");k(this,xe);k(this,M);p(this,"routeIndex",0);p(this,"path");p(this,"bodyCache",{});k(this,G,e=>{const{bodyCache:t,raw:s}=this,l=t[e];if(l)return l;const i=Object.keys(t)[0];return i?t[i].then(n=>(i==="json"&&(n=JSON.stringify(n)),new Response(n)[e]())):t[e]=s[e]()});this.raw=e,this.path=t,y(this,M,s),y(this,xe,{})}param(e){return e?S(this,K,pr).call(this,e):S(this,K,mr).call(this)}query(e){return fs(this.url,e)}queries(e){return us(this.url,e)}header(e){if(e)return this.raw.headers.get(e)??void 0;const t={};return this.raw.headers.forEach((s,l)=>{t[l]=s}),t}async parseBody(e){var t;return(t=this.bodyCache).parsedBody??(t.parsedBody=await ts(this,e))}json(){return h(this,G).call(this,"text").then(e=>JSON.parse(e))}text(){return h(this,G).call(this,"text")}arrayBuffer(){return h(this,G).call(this,"arrayBuffer")}blob(){return h(this,G).call(this,"blob")}formData(){return h(this,G).call(this,"formData")}addValidatedData(e,t){h(this,xe)[e]=t}valid(e){return h(this,xe)[e]}get url(){return this.raw.url}get method(){return this.raw.method}get[es](){return h(this,M)}get matchedRoutes(){return h(this,M)[0].map(([[,e]])=>e)}get routePath(){return h(this,M)[0].map(([[,e]])=>e)[this.routeIndex].path}},xe=new WeakMap,M=new WeakMap,K=new WeakSet,pr=function(e){const t=h(this,M)[0][this.routeIndex][1][e],s=S(this,K,vt).call(this,t);return s&&/\%/.test(s)?Dt(s):s},mr=function(){const e={},t=Object.keys(h(this,M)[0][this.routeIndex][1]);for(const s of t){const l=S(this,K,vt).call(this,h(this,M)[0][this.routeIndex][1][s]);l!==void 0&&(e[s]=/\%/.test(l)?Dt(l):l)}return e},vt=function(e){return h(this,M)[1]?h(this,M)[1][e]:e},G=new WeakMap,Gt),xs="text/plain; charset=UTF-8",ht=(e,t)=>({"Content-Type":e,...t}),Le,Me,q,ge,U,L,Ne,be,pe,se,Fe,De,J,fe,Jt,gs=(Jt=class{constructor(e,t){k(this,J);k(this,Le);k(this,Me);p(this,"env",{});k(this,q);p(this,"finalized",!1);p(this,"error");k(this,ge);k(this,U);k(this,L);k(this,Ne);k(this,be);k(this,pe);k(this,se);k(this,Fe);k(this,De);p(this,"render",(...e)=>(h(this,be)??y(this,be,t=>this.html(t)),h(this,be).call(this,...e)));p(this,"setLayout",e=>y(this,Ne,e));p(this,"getLayout",()=>h(this,Ne));p(this,"setRenderer",e=>{y(this,be,e)});p(this,"header",(e,t,s)=>{this.finalized&&y(this,L,new Response(h(this,L).body,h(this,L)));const l=h(this,L)?h(this,L).headers:h(this,se)??y(this,se,new Headers);t===void 0?l.delete(e):s!=null&&s.append?l.append(e,t):l.set(e,t)});p(this,"status",e=>{y(this,ge,e)});p(this,"set",(e,t)=>{h(this,q)??y(this,q,new Map),h(this,q).set(e,t)});p(this,"get",e=>h(this,q)?h(this,q).get(e):void 0);p(this,"newResponse",(...e)=>S(this,J,fe).call(this,...e));p(this,"body",(e,t,s)=>S(this,J,fe).call(this,e,t,s));p(this,"text",(e,t,s)=>!h(this,se)&&!h(this,ge)&&!t&&!s&&!this.finalized?new Response(e):S(this,J,fe).call(this,e,t,ht(xs,s)));p(this,"json",(e,t,s)=>S(this,J,fe).call(this,JSON.stringify(e),t,ht("application/json",s)));p(this,"html",(e,t,s)=>{const l=i=>S(this,J,fe).call(this,i,t,ht("text/html; charset=UTF-8",s));return typeof e=="object"?sr(e,er.Stringify,!1,{}).then(l):l(e)});p(this,"redirect",(e,t)=>{const s=String(e);return this.header("Location",/[^\x00-\xFF]/.test(s)?encodeURI(s):s),this.newResponse(null,t??302)});p(this,"notFound",()=>(h(this,pe)??y(this,pe,()=>new Response),h(this,pe).call(this,this)));y(this,Le,e),t&&(y(this,U,t.executionCtx),this.env=t.env,y(this,pe,t.notFoundHandler),y(this,De,t.path),y(this,Fe,t.matchResult))}get req(){return h(this,Me)??y(this,Me,new br(h(this,Le),h(this,De),h(this,Fe))),h(this,Me)}get event(){if(h(this,U)&&"respondWith"in h(this,U))return h(this,U);throw Error("This context has no FetchEvent")}get executionCtx(){if(h(this,U))return h(this,U);throw Error("This context has no ExecutionContext")}get res(){return h(this,L)||y(this,L,new Response(null,{headers:h(this,se)??y(this,se,new Headers)}))}set res(e){if(h(this,L)&&e){e=new Response(e.body,e);for(const[t,s]of h(this,L).headers.entries())if(t!=="content-type")if(t==="set-cookie"){const l=h(this,L).headers.getSetCookie();e.headers.delete("set-cookie");for(const i of l)e.headers.append("set-cookie",i)}else e.headers.set(t,s)}y(this,L,e),this.finalized=!0}get var(){return h(this,q)?Object.fromEntries(h(this,q)):{}}},Le=new WeakMap,Me=new WeakMap,q=new WeakMap,ge=new WeakMap,U=new WeakMap,L=new WeakMap,Ne=new WeakMap,be=new WeakMap,pe=new WeakMap,se=new WeakMap,Fe=new WeakMap,De=new WeakMap,J=new WeakSet,fe=function(e,t,s){const l=h(this,L)?new Headers(h(this,L).headers):h(this,se)??new Headers;if(typeof t=="object"&&"headers"in t){const n=t.headers instanceof Headers?t.headers:new Headers(t.headers);for(const[a,c]of n)a.toLowerCase()==="set-cookie"?l.append(a,c):l.set(a,c)}if(s)for(const[n,a]of Object.entries(s))if(typeof a=="string")l.set(n,a);else{l.delete(n);for(const c of a)l.append(n,c)}const i=typeof t=="number"?t:(t==null?void 0:t.status)??h(this,ge);return new Response(e,{status:i,headers:l})},Jt),j="ALL",bs="all",ps=["get","post","put","delete","options","patch"],vr="Can not add a route since the matcher is already built.",yr=class extends Error{},ms="__COMPOSED_HANDLER",vs=e=>e.text("404 Not Found",404),Ht=(e,t)=>{if("getResponse"in e){const s=e.getResponse();return t.newResponse(s.body,s)}return console.error(e),t.text("Internal Server Error",500)},F,O,wr,D,te,Je,Xe,me,ys=(me=class{constructor(t={}){k(this,O);p(this,"get");p(this,"post");p(this,"put");p(this,"delete");p(this,"options");p(this,"patch");p(this,"all");p(this,"on");p(this,"use");p(this,"router");p(this,"getPath");p(this,"_basePath","/");k(this,F,"/");p(this,"routes",[]);k(this,D,vs);p(this,"errorHandler",Ht);p(this,"onError",t=>(this.errorHandler=t,this));p(this,"notFound",t=>(y(this,D,t),this));p(this,"fetch",(t,...s)=>S(this,O,Xe).call(this,t,s[1],s[0],t.method));p(this,"request",(t,s,l,i)=>t instanceof Request?this.fetch(s?new Request(t,s):t,l,i):(t=t.toString(),this.fetch(new Request(/^https?:\/\//.test(t)?t:`http://localhost${he("/",t)}`,s),l,i)));p(this,"fire",()=>{addEventListener("fetch",t=>{t.respondWith(S(this,O,Xe).call(this,t.request,t,void 0,t.request.method))})});[...ps,bs].forEach(n=>{this[n]=(a,...c)=>(typeof a=="string"?y(this,F,a):S(this,O,te).call(this,n,h(this,F),a),c.forEach(o=>{S(this,O,te).call(this,n,h(this,F),o)}),this)}),this.on=(n,a,...c)=>{for(const o of[a].flat()){y(this,F,o);for(const d of[n].flat())c.map(f=>{S(this,O,te).call(this,d.toUpperCase(),h(this,F),f)})}return this},this.use=(n,...a)=>(typeof n=="string"?y(this,F,n):(y(this,F,"*"),a.unshift(n)),a.forEach(c=>{S(this,O,te).call(this,j,h(this,F),c)}),this);const{strict:l,...i}=t;Object.assign(this,i),this.getPath=l??!0?t.getPath??fr:hs}route(t,s){const l=this.basePath(t);return s.routes.map(i=>{var a;let n;s.errorHandler===Ht?n=i.handler:(n=async(c,o)=>(await Ft([],s.errorHandler)(c,()=>i.handler(c,o))).res,n[ms]=i.handler),S(a=l,O,te).call(a,i.method,i.path,n)}),this}basePath(t){const s=S(this,O,wr).call(this);return s._basePath=he(this._basePath,t),s}mount(t,s,l){let i,n;l&&(typeof l=="function"?n=l:(n=l.optionHandler,l.replaceRequest===!1?i=o=>o:i=l.replaceRequest));const a=n?o=>{const d=n(o);return Array.isArray(d)?d:[d]}:o=>{let d;try{d=o.executionCtx}catch{}return[o.env,d]};i||(i=(()=>{const o=he(this._basePath,t),d=o==="/"?0:o.length;return f=>{const u=new URL(f.url);return u.pathname=u.pathname.slice(d)||"/",new Request(u,f)}})());const c=async(o,d)=>{const f=await s(i(o.req.raw),...a(o));if(f)return f;await d()};return S(this,O,te).call(this,j,he(t,"*"),c),this}},F=new WeakMap,O=new WeakSet,wr=function(){const t=new me({router:this.router,getPath:this.getPath});return t.errorHandler=this.errorHandler,y(t,D,h(this,D)),t.routes=this.routes,t},D=new WeakMap,te=function(t,s,l){t=t.toUpperCase(),s=he(this._basePath,s);const i={basePath:this._basePath,path:s,method:t,handler:l};this.router.add(t,s,[l,i]),this.routes.push(i)},Je=function(t,s){if(t instanceof Error)return this.errorHandler(t,s);throw t},Xe=function(t,s,l,i){if(i==="HEAD")return(async()=>new Response(null,await S(this,O,Xe).call(this,t,s,l,"GET")))();const n=this.getPath(t,{env:l}),a=this.router.match(i,n),c=new gs(t,{path:n,matchResult:a,env:l,executionCtx:s,notFoundHandler:h(this,D)});if(a[0].length===1){let d;try{d=a[0][0][0][0](c,async()=>{c.res=await h(this,D).call(this,c)})}catch(f){return S(this,O,Je).call(this,f,c)}return d instanceof Promise?d.then(f=>f||(c.finalized?c.res:h(this,D).call(this,c))).catch(f=>S(this,O,Je).call(this,f,c)):d??h(this,D).call(this,c)}const o=Ft(a[0],this.errorHandler,h(this,D));return(async()=>{try{const d=await o(c);if(!d.finalized)throw new Error("Context is not finalized. Did you forget to return a Response object or `await next()`?");return d.res}catch(d){return S(this,O,Je).call(this,d,c)}})()},me),kr=[];function ws(e,t){const s=this.buildAllMatchers(),l=((i,n)=>{const a=s[i]||s[j],c=a[2][n];if(c)return c;const o=n.match(a[0]);if(!o)return[[],kr];const d=o.indexOf("",1);return[a[1][d],o]});return this.match=l,l(e,t)}var rt="[^/]+",Ae=".*",je="(?:|/.*)",ue=Symbol(),ks=new Set(".\\+*[^]$()");function Es(e,t){return e.length===1?t.length===1?e<t?-1:1:-1:t.length===1||e===Ae||e===je?1:t===Ae||t===je?-1:e===rt?1:t===rt?-1:e.length===t.length?e<t?-1:1:t.length-e.length}var le,ie,H,ce,Ss=(ce=class{constructor(){k(this,le);k(this,ie);k(this,H,Object.create(null))}insert(t,s,l,i,n){if(t.length===0){if(h(this,le)!==void 0)throw ue;if(n)return;y(this,le,s);return}const[a,...c]=t,o=a==="*"?c.length===0?["","",Ae]:["","",rt]:a==="/*"?["","",je]:a.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);let d;if(o){const f=o[1];let u=o[2]||rt;if(f&&o[2]&&(u===".*"||(u=u.replace(/^\((?!\?:)(?=[^)]+\)$)/,"(?:"),/\((?!\?:)/.test(u))))throw ue;if(d=h(this,H)[u],!d){if(Object.keys(h(this,H)).some(x=>x!==Ae&&x!==je))throw ue;if(n)return;d=h(this,H)[u]=new ce,f!==""&&y(d,ie,i.varIndex++)}!n&&f!==""&&l.push([f,h(d,ie)])}else if(d=h(this,H)[a],!d){if(Object.keys(h(this,H)).some(f=>f.length>1&&f!==Ae&&f!==je))throw ue;if(n)return;d=h(this,H)[a]=new ce}d.insert(c,s,l,i,n)}buildRegExpStr(){const s=Object.keys(h(this,H)).sort(Es).map(l=>{const i=h(this,H)[l];return(typeof h(i,ie)=="number"?`(${l})@${h(i,ie)}`:ks.has(l)?`\\${l}`:l)+i.buildRegExpStr()});return typeof h(this,le)=="number"&&s.unshift(`#${h(this,le)}`),s.length===0?"":s.length===1?s[0]:"(?:"+s.join("|")+")"}},le=new WeakMap,ie=new WeakMap,H=new WeakMap,ce),st,He,Xt,Ps=(Xt=class{constructor(){k(this,st,{varIndex:0});k(this,He,new Ss)}insert(e,t,s){const l=[],i=[];for(let a=0;;){let c=!1;if(e=e.replace(/\{[^}]+\}/g,o=>{const d=`@\\${a}`;return i[a]=[d,o],a++,c=!0,d}),!c)break}const n=e.match(/(?::[^\/]+)|(?:\/\*$)|./g)||[];for(let a=i.length-1;a>=0;a--){const[c]=i[a];for(let o=n.length-1;o>=0;o--)if(n[o].indexOf(c)!==-1){n[o]=n[o].replace(c,i[a][1]);break}}return h(this,He).insert(n,t,l,h(this,st),s),l}buildRegExp(){let e=h(this,He).buildRegExpStr();if(e==="")return[/^$/,[],[]];let t=0;const s=[],l=[];return e=e.replace(/#(\d+)|@(\d+)|\.\*\$/g,(i,n,a)=>n!==void 0?(s[++t]=Number(n),"$()"):(a!==void 0&&(l[Number(a)]=++t),"")),[new RegExp(`^${e}`),s,l]}},st=new WeakMap,He=new WeakMap,Xt),Rs=[/^$/,[],Object.create(null)],Ye=Object.create(null);function Er(e){return Ye[e]??(Ye[e]=new RegExp(e==="*"?"":`^${e.replace(/\/\*$|([.\\+*[^\]$()])/g,(t,s)=>s?`\\${s}`:"(?:|/.*)")}$`))}function Cs(){Ye=Object.create(null)}function As(e){var d;const t=new Ps,s=[];if(e.length===0)return Rs;const l=e.map(f=>[!/\*|\/:/.test(f[0]),...f]).sort(([f,u],[x,g])=>f?1:x?-1:u.length-g.length),i=Object.create(null);for(let f=0,u=-1,x=l.length;f<x;f++){const[g,m,v]=l[f];g?i[m]=[v.map(([w])=>[w,Object.create(null)]),kr]:u++;let b;try{b=t.insert(m,u,g)}catch(w){throw w===ue?new yr(m):w}g||(s[u]=v.map(([w,E])=>{const R=Object.create(null);for(E-=1;E>=0;E--){const[P,C]=b[E];R[P]=C}return[w,R]}))}const[n,a,c]=t.buildRegExp();for(let f=0,u=s.length;f<u;f++)for(let x=0,g=s[f].length;x<g;x++){const m=(d=s[f][x])==null?void 0:d[1];if(!m)continue;const v=Object.keys(m);for(let b=0,w=v.length;b<w;b++)m[v[b]]=c[m[v[b]]]}const o=[];for(const f in a)o[f]=s[a[f]];return[n,o,i]}function oe(e,t){if(e){for(const s of Object.keys(e).sort((l,i)=>i.length-l.length))if(Er(s).test(t))return[...e[s]]}}var X,Y,lt,Sr,Yt,js=(Yt=class{constructor(){k(this,lt);p(this,"name","RegExpRouter");k(this,X);k(this,Y);p(this,"match",ws);y(this,X,{[j]:Object.create(null)}),y(this,Y,{[j]:Object.create(null)})}add(e,t,s){var c;const l=h(this,X),i=h(this,Y);if(!l||!i)throw new Error(vr);l[e]||[l,i].forEach(o=>{o[e]=Object.create(null),Object.keys(o[j]).forEach(d=>{o[e][d]=[...o[j][d]]})}),t==="/*"&&(t="*");const n=(t.match(/\/:/g)||[]).length;if(/\*$/.test(t)){const o=Er(t);e===j?Object.keys(l).forEach(d=>{var f;(f=l[d])[t]||(f[t]=oe(l[d],t)||oe(l[j],t)||[])}):(c=l[e])[t]||(c[t]=oe(l[e],t)||oe(l[j],t)||[]),Object.keys(l).forEach(d=>{(e===j||e===d)&&Object.keys(l[d]).forEach(f=>{o.test(f)&&l[d][f].push([s,n])})}),Object.keys(i).forEach(d=>{(e===j||e===d)&&Object.keys(i[d]).forEach(f=>o.test(f)&&i[d][f].push([s,n]))});return}const a=ur(t)||[t];for(let o=0,d=a.length;o<d;o++){const f=a[o];Object.keys(i).forEach(u=>{var x;(e===j||e===u)&&((x=i[u])[f]||(x[f]=[...oe(l[u],f)||oe(l[j],f)||[]]),i[u][f].push([s,n-d+o+1]))})}}buildAllMatchers(){const e=Object.create(null);return Object.keys(h(this,Y)).concat(Object.keys(h(this,X))).forEach(t=>{e[t]||(e[t]=S(this,lt,Sr).call(this,t))}),y(this,X,y(this,Y,void 0)),Cs(),e}},X=new WeakMap,Y=new WeakMap,lt=new WeakSet,Sr=function(e){const t=[];let s=e===j;return[h(this,X),h(this,Y)].forEach(l=>{const i=l[e]?Object.keys(l[e]).map(n=>[n,l[e][n]]):[];i.length!==0?(s||(s=!0),t.push(...i)):e!==j&&t.push(...Object.keys(l[j]).map(n=>[n,l[j][n]]))}),s?As(t):null},Yt),Z,W,Zt,Os=(Zt=class{constructor(e){p(this,"name","SmartRouter");k(this,Z,[]);k(this,W,[]);y(this,Z,e.routers)}add(e,t,s){if(!h(this,W))throw new Error(vr);h(this,W).push([e,t,s])}match(e,t){if(!h(this,W))throw new Error("Fatal error");const s=h(this,Z),l=h(this,W),i=s.length;let n=0,a;for(;n<i;n++){const c=s[n];try{for(let o=0,d=l.length;o<d;o++)c.add(...l[o]);a=c.match(e,t)}catch(o){if(o instanceof yr)continue;throw o}this.match=c.match.bind(c),y(this,Z,[c]),y(this,W,void 0);break}if(n===i)throw new Error("Fatal error");return this.name=`SmartRouter + ${this.activeRouter.name}`,a}get activeRouter(){if(h(this,W)||h(this,Z).length!==1)throw new Error("No active router has been determined yet.");return h(this,Z)[0]}},Z=new WeakMap,W=new WeakMap,Zt),Re=Object.create(null),Q,$,ne,ve,T,z,re,ye,Ts=(ye=class{constructor(t,s,l){k(this,z);k(this,Q);k(this,$);k(this,ne);k(this,ve,0);k(this,T,Re);if(y(this,$,l||Object.create(null)),y(this,Q,[]),t&&s){const i=Object.create(null);i[t]={handler:s,possibleKeys:[],score:0},y(this,Q,[i])}y(this,ne,[])}insert(t,s,l){y(this,ve,++Ot(this,ve)._);let i=this;const n=ns(s),a=[];for(let c=0,o=n.length;c<o;c++){const d=n[c],f=n[c+1],u=os(d,f),x=Array.isArray(u)?u[0]:d;if(x in h(i,$)){i=h(i,$)[x],u&&a.push(u[1]);continue}h(i,$)[x]=new ye,u&&(h(i,ne).push(u),a.push(u[1])),i=h(i,$)[x]}return h(i,Q).push({[t]:{handler:l,possibleKeys:a.filter((c,o,d)=>d.indexOf(c)===o),score:h(this,ve)}}),i}search(t,s){var o;const l=[];y(this,T,Re);let n=[this];const a=hr(s),c=[];for(let d=0,f=a.length;d<f;d++){const u=a[d],x=d===f-1,g=[];for(let m=0,v=n.length;m<v;m++){const b=n[m],w=h(b,$)[u];w&&(y(w,T,h(b,T)),x?(h(w,$)["*"]&&l.push(...S(this,z,re).call(this,h(w,$)["*"],t,h(b,T))),l.push(...S(this,z,re).call(this,w,t,h(b,T)))):g.push(w));for(let E=0,R=h(b,ne).length;E<R;E++){const P=h(b,ne)[E],C=h(b,T)===Re?{}:{...h(b,T)};if(P==="*"){const V=h(b,$)["*"];V&&(l.push(...S(this,z,re).call(this,V,t,h(b,T))),y(V,T,C),g.push(V));continue}const[Se,Ue,Pe]=P;if(!u&&!(Pe instanceof RegExp))continue;const _=h(b,$)[Se],Nr=a.slice(d).join("/");if(Pe instanceof RegExp){const V=Pe.exec(Nr);if(V){if(C[Ue]=V[0],l.push(...S(this,z,re).call(this,_,t,h(b,T),C)),Object.keys(h(_,$)).length){y(_,T,C);const nt=((o=V[0].match(/\//))==null?void 0:o.length)??0;(c[nt]||(c[nt]=[])).push(_)}continue}}(Pe===!0||Pe.test(u))&&(C[Ue]=u,x?(l.push(...S(this,z,re).call(this,_,t,C,h(b,T))),h(_,$)["*"]&&l.push(...S(this,z,re).call(this,h(_,$)["*"],t,C,h(b,T)))):(y(_,T,C),g.push(_)))}}n=g.concat(c.shift()??[])}return l.length>1&&l.sort((d,f)=>d.score-f.score),[l.map(({handler:d,params:f})=>[d,f])]}},Q=new WeakMap,$=new WeakMap,ne=new WeakMap,ve=new WeakMap,T=new WeakMap,z=new WeakSet,re=function(t,s,l,i){const n=[];for(let a=0,c=h(t,Q).length;a<c;a++){const o=h(t,Q)[a],d=o[s]||o[j],f={};if(d!==void 0&&(d.params=Object.create(null),n.push(d),l!==Re||i&&i!==Re))for(let u=0,x=d.possibleKeys.length;u<x;u++){const g=d.possibleKeys[u],m=f[d.score];d.params[g]=i!=null&&i[g]&&!m?i[g]:l[g]??(i==null?void 0:i[g]),f[d.score]=!0}}return n},ye),ae,Qt,$s=(Qt=class{constructor(){p(this,"name","TrieRouter");k(this,ae);y(this,ae,new Ts)}add(e,t,s){const l=ur(t);if(l){for(let i=0,n=l.length;i<n;i++)h(this,ae).insert(e,l[i],s);return}h(this,ae).insert(e,t,s)}match(e,t){return h(this,ae).search(e,t)}},ae=new WeakMap,Qt),Pr=class extends ys{constructor(e={}){super(e),this.router=e.router??new Os({routers:[new js,new $s]})}},Te="_hp",Ls={Change:"Input",DoubleClick:"DblClick"},Ms={svg:"2000/svg",math:"1998/Math/MathML"},$e=[],yt=new WeakMap,ke=void 0,Ns=()=>ke,B=e=>"t"in e,ft={onClick:["click",!1]},It=e=>{if(!e.startsWith("on"))return;if(ft[e])return ft[e];const t=e.match(/^on([A-Z][a-zA-Z]+?(?:PointerCapture)?)(Capture)?$/);if(t){const[,s,l]=t;return ft[e]=[(Ls[s]||s).toLowerCase(),!!l]}},_t=(e,t)=>ke&&e instanceof SVGElement&&/[A-Z]/.test(t)&&(t in e.style||t.match(/^(?:o|pai|str|u|ve)/))?t.replace(/([A-Z])/g,"-$1").toLowerCase():t,Fs=(e,t,s)=>{var l;t||(t={});for(let i in t){const n=t[i];if(i!=="children"&&(!s||s[i]!==n)){i=tt(i);const a=It(i);if(a){if((s==null?void 0:s[i])!==n&&(s&&e.removeEventListener(a[0],s[i],a[1]),n!=null)){if(typeof n!="function")throw new Error(`Event handler for "${i}" is not a function`);e.addEventListener(a[0],n,a[1])}}else if(i==="dangerouslySetInnerHTML"&&n)e.innerHTML=n.__html;else if(i==="ref"){let c;typeof n=="function"?c=n(e)||(()=>n(null)):n&&"current"in n&&(n.current=e,c=()=>n.current=null),yt.set(e,c)}else if(i==="style"){const c=e.style;typeof n=="string"?c.cssText=n:(c.cssText="",n!=null&&or(n,c.setProperty.bind(c)))}else{if(i==="value"){const o=e.nodeName;if(o==="INPUT"||o==="TEXTAREA"||o==="SELECT"){if(e.value=n==null||n===!1?null:n,o==="TEXTAREA"){e.textContent=n;continue}else if(o==="SELECT"){e.selectedIndex===-1&&(e.selectedIndex=0);continue}}}else(i==="checked"&&e.nodeName==="INPUT"||i==="selected"&&e.nodeName==="OPTION")&&(e[i]=n);const c=_t(e,i);n==null||n===!1?e.removeAttribute(c):n===!0?e.setAttribute(c,""):typeof n=="string"||typeof n=="number"?e.setAttribute(c,n):e.setAttribute(c,n.toString())}}}if(s)for(let i in s){const n=s[i];if(i!=="children"&&!(i in t)){i=tt(i);const a=It(i);a?e.removeEventListener(a[0],n,a[1]):i==="ref"?(l=yt.get(e))==null||l():e.removeAttribute(_t(e,i))}}},Ds=(e,t)=>{t[A][0]=0,$e.push([e,t]);const s=t.tag[kt]||t.tag,l=s.defaultProps?{...s.defaultProps,...t.props}:t.props;try{return[s.call(null,l)]}finally{$e.pop()}},Rr=(e,t,s,l,i)=>{var n,a;(n=e.vR)!=null&&n.length&&(l.push(...e.vR),delete e.vR),typeof e.tag=="function"&&((a=e[A][1][Or])==null||a.forEach(c=>i.push(c))),e.vC.forEach(c=>{var o;if(B(c))s.push(c);else if(typeof c.tag=="function"||c.tag===""){c.c=t;const d=s.length;if(Rr(c,t,s,l,i),c.s){for(let f=d;f<s.length;f++)s[f].s=!0;c.s=!1}}else s.push(c),(o=c.vR)!=null&&o.length&&(l.push(...c.vR),delete c.vR)})},Hs=e=>{var t;for(;e&&(e.tag===Te||!e.e);)e=e.tag===Te||!((t=e.vC)!=null&&t[0])?e.nN:e.vC[0];return e==null?void 0:e.e},Cr=e=>{var t,s,l,i,n,a;B(e)||((s=(t=e[A])==null?void 0:t[1][Or])==null||s.forEach(c=>{var o;return(o=c[2])==null?void 0:o.call(c)}),(l=yt.get(e.e))==null||l(),e.p===2&&((i=e.vC)==null||i.forEach(c=>c.p=2)),(n=e.vC)==null||n.forEach(Cr)),e.p||((a=e.e)==null||a.remove(),delete e.e),typeof e.tag=="function"&&(Ce.delete(e),Ze.delete(e),delete e[A][3],e.a=!0)},Ar=(e,t,s)=>{e.c=t,jr(e,t,s)},Bt=(e,t)=>{if(t){for(let s=0,l=e.length;s<l;s++)if(e[s]===t)return s}},qt=Symbol(),jr=(e,t,s)=>{var d;const l=[],i=[],n=[];Rr(e,t,l,i,n),i.forEach(Cr);const a=s?void 0:t.childNodes;let c,o=null;if(s)c=-1;else if(!a.length)c=0;else{const f=Bt(a,Hs(e.nN));f!==void 0?(o=a[f],c=f):c=Bt(a,(d=l.find(u=>u.tag!==Te&&u.e))==null?void 0:d.e)??-1,c===-1&&(s=!0)}for(let f=0,u=l.length;f<u;f++,c++){const x=l[f];let g;if(x.s&&x.e)g=x.e,x.s=!1;else{const m=s||!x.e;B(x)?(x.e&&x.d&&(x.e.textContent=x.t),x.d=!1,g=x.e||(x.e=document.createTextNode(x.t))):(g=x.e||(x.e=x.n?document.createElementNS(x.n,x.tag):document.createElement(x.tag)),Fs(g,x.props,x.pP),jr(x,g,m))}x.tag===Te?c--:s?g.parentNode||t.appendChild(g):a[c]!==g&&a[c-1]!==g&&(a[c+1]===g?t.appendChild(a[c]):t.insertBefore(g,o||a[c]||null))}if(e.pP&&(e.pP=void 0),n.length){const f=[],u=[];n.forEach(([,x,,g,m])=>{x&&f.push(x),g&&u.push(g),m==null||m()}),f.forEach(x=>x()),u.length&&requestAnimationFrame(()=>{u.forEach(x=>x())})}},Is=(e,t)=>!!(e&&e.length===t.length&&e.every((s,l)=>s[1]===t[l][1])),Ze=new WeakMap,wt=(e,t,s)=>{var n,a,c,o,d,f;const l=!s&&t.pC;s&&(t.pC||(t.pC=t.vC));let i;try{s||(s=typeof t.tag=="function"?Ds(e,t):Ie(t.props.children)),((n=s[0])==null?void 0:n.tag)===""&&s[0][pt]&&(i=s[0][pt],e[5].push([e,i,t]));const u=l?[...t.pC]:t.vC?[...t.vC]:void 0,x=[];let g;for(let m=0;m<s.length;m++){Array.isArray(s[m])&&s.splice(m,1,...s[m].flat());let v=_s(s[m]);if(v){typeof v.tag=="function"&&!v.tag[lr]&&(we.length>0&&(v[A][2]=we.map(w=>[w,w.values.at(-1)])),(a=e[5])!=null&&a.length&&(v[A][3]=e[5].at(-1)));let b;if(u&&u.length){const w=u.findIndex(B(v)?E=>B(E):v.key!==void 0?E=>E.key===v.key&&E.tag===v.tag:E=>E.tag===v.tag);w!==-1&&(b=u[w],u.splice(w,1))}if(b)if(B(v))b.t!==v.t&&(b.t=v.t,b.d=!0),v=b;else{const w=b.pP=b.props;if(b.props=v.props,b.f||(b.f=v.f||t.f),typeof v.tag=="function"){const E=b[A][2];b[A][2]=v[A][2]||[],b[A][3]=v[A][3],!b.f&&((b.o||b)===v.o||(o=(c=b.tag)[_r])!=null&&o.call(c,w,b.props))&&Is(E,b[A][2])&&(b.s=!0)}v=b}else if(!B(v)&&ke){const w=Ee(ke);w&&(v.n=w)}if(!B(v)&&!v.s&&(wt(e,v),delete v.f),x.push(v),g&&!g.s&&!v.s)for(let w=g;w&&!B(w);w=(d=w.vC)==null?void 0:d.at(-1))w.nN=v;g=v}}t.vR=l?[...t.vC,...u||[]]:u||[],t.vC=x,l&&delete t.pC}catch(u){if(t.f=!0,u===qt){if(i)return;throw u}const[x,g,m]=((f=t[A])==null?void 0:f[3])||[];if(g){const v=()=>Qe([0,!1,e[2]],m),b=Ze.get(m)||[];b.push(v),Ze.set(m,b);const w=g(u,()=>{const E=Ze.get(m);if(E){const R=E.indexOf(v);if(R!==-1)return E.splice(R,1),v()}});if(w){if(e[0]===1)e[1]=!0;else if(wt(e,m,[w]),(g.length===1||e!==x)&&m.c){Ar(m,m.c,!1);return}throw qt}}throw u}finally{i&&e[5].pop()}},_s=e=>{if(!(e==null||typeof e=="boolean")){if(typeof e=="string"||typeof e=="number")return{t:e.toString(),d:!0};if("vR"in e&&(e={tag:e.tag,props:e.props,key:e.key,f:e.f,type:e.tag,ref:e.props.ref,o:e.o||e}),typeof e.tag=="function")e[A]=[0,[]];else{const t=Ms[e.tag];t&&(ke||(ke=nr("")),e.props.children=[{tag:ke,props:{value:e.n=`http://www.w3.org/${t}`,children:e.props.children}}])}return e}},Ut=(e,t)=>{var s,l;(s=t[A][2])==null||s.forEach(([i,n])=>{i.values.push(n)});try{wt(e,t,void 0)}catch{return}if(t.a){delete t.a;return}(l=t[A][2])==null||l.forEach(([i])=>{i.values.pop()}),(e[0]!==1||!e[1])&&Ar(t,t.c,!1)},Ce=new WeakMap,Wt=[],Qe=async(e,t)=>{e[5]||(e[5]=[]);const s=Ce.get(t);s&&s[0](void 0);let l;const i=new Promise(n=>l=n);if(Ce.set(t,[l,()=>{e[2]?e[2](e,t,n=>{Ut(n,t)}).then(()=>l(t)):(Ut(e,t),l(t))}]),Wt.length)Wt.at(-1).add(t);else{await Promise.resolve();const n=Ce.get(t);n&&(Ce.delete(t),n[1]())}return i},Bs=(e,t,s)=>({tag:Te,props:{children:e},key:s,e:t,p:1}),ut=0,Or=1,xt=2,gt=3,bt=new WeakMap,Tr=(e,t)=>!e||!t||e.length!==t.length||t.some((s,l)=>s!==e[l]),qs=void 0,zt=[],Us=e=>{var a;const t=()=>typeof e=="function"?e():e,s=$e.at(-1);if(!s)return[t(),()=>{}];const[,l]=s,i=(a=l[A][1])[ut]||(a[ut]=[]),n=l[A][0]++;return i[n]||(i[n]=[t(),c=>{const o=qs,d=i[n];if(typeof c=="function"&&(c=c(d[0])),!Object.is(c,d[0]))if(d[0]=c,zt.length){const[f,u]=zt.at(-1);Promise.all([f===3?l:Qe([f,!1,o],l),u]).then(([x])=>{if(!x||!(f===2||f===3))return;const g=x.vC;requestAnimationFrame(()=>{setTimeout(()=>{g===x.vC&&Qe([f===3?1:0,!1,o],x)})})})}else Qe([0,!1,o],l)}])},Ct=(e,t)=>{var c;const s=$e.at(-1);if(!s)return e;const[,l]=s,i=(c=l[A][1])[xt]||(c[xt]=[]),n=l[A][0]++,a=i[n];return Tr(a==null?void 0:a[1],t)?i[n]=[e,t]:e=i[n][0],e},Ws=e=>{const t=bt.get(e);if(t){if(t.length===2)throw t[1];return t[0]}throw e.then(s=>bt.set(e,[s]),s=>bt.set(e,[void 0,s])),e},zs=(e,t)=>{var c;const s=$e.at(-1);if(!s)return e();const[,l]=s,i=(c=l[A][1])[gt]||(c[gt]=[]),n=l[A][0]++,a=i[n];return Tr(a==null?void 0:a[1],t)&&(i[n]=[e(),t]),i[n][0]},Ks=nr({pending:!1,data:null,method:null,action:null}),Kt=new Set,Vs=e=>{Kt.add(e),e.finally(()=>Kt.delete(e))},At=(e,t)=>zs(()=>s=>{let l;e&&(typeof e=="function"?l=e(s)||(()=>{e(null)}):e&&"current"in e&&(e.current=s,l=()=>{e.current=null}));const i=t(s);return()=>{i==null||i(),l==null||l()}},[e]),de=Object.create(null),ze=Object.create(null),qe=(e,t,s,l,i)=>{if(t!=null&&t.itemProp)return{tag:e,props:t,type:e,ref:t.ref};const n=document.head;let{onLoad:a,onError:c,precedence:o,blocking:d,...f}=t,u=null,x=!1;const g=Ke[e];let m;if(g.length>0){const E=n.querySelectorAll(e);e:for(const R of E)for(const P of Ke[e])if(R.getAttribute(P)===t[P]){u=R;break e}if(!u){const R=g.reduce((P,C)=>t[C]===void 0?P:`${P}-${C}-${t[C]}`,e);x=!ze[R],u=ze[R]||(ze[R]=(()=>{const P=document.createElement(e);for(const C of g)t[C]!==void 0&&P.setAttribute(C,t[C]),t.rel&&P.setAttribute("rel",t.rel);return P})())}}else m=n.querySelectorAll(e);o=l?o??"":void 0,l&&(f[Ve]=o);const v=Ct(E=>{if(g.length>0){let R=!1;for(const P of n.querySelectorAll(e)){if(R&&P.getAttribute(Ve)!==o){n.insertBefore(E,P);return}P.getAttribute(Ve)===o&&(R=!0)}n.appendChild(E)}else if(m){let R=!1;for(const P of m)if(P===E){R=!0;break}R||n.insertBefore(E,n.contains(m[0])?m[0]:n.querySelector(e)),m=void 0}},[o]),b=At(t.ref,E=>{var C;const R=g[0];if(s===2&&(E.innerHTML=""),(x||m)&&v(E),!c&&!a)return;let P=de[C=E.getAttribute(R)]||(de[C]=new Promise((Se,Ue)=>{E.addEventListener("load",Se),E.addEventListener("error",Ue)}));a&&(P=P.then(a)),c&&(P=P.catch(c)),P.catch(()=>{})});if(i&&d==="render"){const E=Ke[e][0];if(t[E]){const R=t[E],P=de[R]||(de[R]=new Promise((C,Se)=>{v(u),u.addEventListener("load",C),u.addEventListener("error",Se)}));Ws(P)}}const w={tag:e,type:e,props:{...f,ref:b},ref:b};return w.p=s,u&&(w.e=u),Bs(w,n)},Gs=e=>{const t=Ns(),s=t&&Ee(t);return s!=null&&s.endsWith("svg")?{tag:"title",props:e,type:"title",ref:e.ref}:qe("title",e,void 0,!1,!1)},Js=e=>!e||["src","async"].some(t=>!e[t])?{tag:"script",props:e,type:"script",ref:e.ref}:qe("script",e,1,!1,!0),Xs=e=>!e||!["href","precedence"].every(t=>t in e)?{tag:"style",props:e,type:"style",ref:e.ref}:(e["data-href"]=e.href,delete e.href,qe("style",e,2,!0,!0)),Ys=e=>!e||["onLoad","onError"].some(t=>t in e)||e.rel==="stylesheet"&&(!("precedence"in e)||"disabled"in e)?{tag:"link",props:e,type:"link",ref:e.ref}:qe("link",e,1,"precedence"in e,!0),Zs=e=>qe("meta",e,void 0,!1,!1),$r=Symbol(),Qs=e=>{const{action:t,...s}=e;typeof t!="function"&&(s.action=t);const[l,i]=Us([null,!1]),n=Ct(async d=>{const f=d.isTrusted?t:d.detail[$r];if(typeof f!="function")return;d.preventDefault();const u=new FormData(d.target);i([u,!0]);const x=f(u);x instanceof Promise&&(Vs(x),await x),i([null,!0])},[]),a=At(e.ref,d=>(d.addEventListener("submit",n),()=>{d.removeEventListener("submit",n)})),[c,o]=l;return l[1]=!1,{tag:Ks,props:{value:{pending:c!==null,data:c,method:c?"post":null,action:c?t:null},children:{tag:"form",props:{...s,ref:a},type:"form",ref:a}},f:o}},Lr=(e,{formAction:t,...s})=>{if(typeof t=="function"){const l=Ct(i=>{i.preventDefault(),i.currentTarget.form.dispatchEvent(new CustomEvent("submit",{detail:{[$r]:t}}))},[]);s.ref=At(s.ref,i=>(i.addEventListener("click",l),()=>{i.removeEventListener("click",l)}))}return{tag:e,props:s,type:e,ref:s.ref}},el=e=>Lr("input",e),tl=e=>Lr("button",e);Object.assign(mt,{title:Gs,script:Js,style:Xs,link:Ys,meta:Zs,form:Qs,input:el,button:tl});Et(null);new TextEncoder;var rl=Et(null),sl=(e,t,s,l)=>(i,n)=>{const a="<!DOCTYPE html>",c=s?Mt(d=>s(d,e),{Layout:t,...n},i):i,o=Ir`${N(a)}${Mt(rl.Provider,{value:e},c)}`;return e.html(o)},ll=(e,t)=>function(l,i){const n=l.getLayout()??Qr;return e&&l.setLayout(a=>e({...a,Layout:n},l)),l.setRenderer(sl(l,n,e)),i()};const il=ll(({children:e})=>r("html",{lang:"ja",children:[r("head",{children:[r("meta",{charset:"UTF-8"}),r("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),r("title",{children:"航空券予約システム - Flight Booking"}),r("script",{src:"https://cdn.tailwindcss.com"}),r("link",{href:"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css",rel:"stylesheet"}),r("link",{href:"/static/style.css",rel:"stylesheet"})]}),r("body",{children:e})]})),it=new Pr;it.use(il);it.get("/",e=>e.render(r("div",{class:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex flex-col",children:[r("header",{class:"bg-blue-600 text-white shadow-lg flex-shrink-0",children:r("div",{class:"container mx-auto px-4 py-4",children:r("div",{class:"flex items-center justify-between",children:[r("div",{class:"flex items-center space-x-2",children:[r("i",{class:"fas fa-plane text-3xl"}),r("h1",{class:"text-2xl font-bold",children:"FlightSearch"})]}),r("nav",{class:"hidden md:flex space-x-6",children:[r("a",{href:"/",class:"hover:text-blue-200 transition",children:"ホーム"}),r("a",{href:"#",class:"hover:text-blue-200 transition",children:"予約確認"}),r("a",{href:"#",class:"hover:text-blue-200 transition",children:"お問い合わせ"})]})]})})}),r("main",{id:"mainContent",class:"flex-grow",children:r("div",{class:"container mx-auto px-4 py-8",children:[r("div",{class:"text-center mb-8",children:[r("h2",{class:"text-4xl font-bold text-gray-800 mb-2",children:"お得な航空券を検索"}),r("p",{class:"text-gray-600",children:"世界中のフライトを比較して、最安値を見つけましょう"})]}),r("div",{class:"bg-white rounded-2xl shadow-2xl p-6 md:p-8 mb-8",children:[r("div",{class:"flex flex-wrap gap-4 mb-6",children:[r("label",{class:"flex items-center space-x-2 cursor-pointer",children:[r("input",{type:"radio",name:"tripType",value:"roundtrip",checked:!0,class:"w-4 h-4 text-blue-600"}),r("span",{class:"text-gray-700 font-medium",children:"往復"})]}),r("label",{class:"flex items-center space-x-2 cursor-pointer",children:[r("input",{type:"radio",name:"tripType",value:"oneway",class:"w-4 h-4 text-blue-600"}),r("span",{class:"text-gray-700 font-medium",children:"片道"})]}),r("label",{class:"flex items-center space-x-2 cursor-pointer",children:[r("input",{type:"radio",name:"tripType",value:"multicity",class:"w-4 h-4 text-blue-600"}),r("span",{class:"text-gray-700 font-medium",children:"複数都市"})]})]}),r("div",{class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[r("div",{class:"relative",children:[r("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"出発地"}),r("div",{class:"relative",children:[r("i",{class:"fas fa-plane-departure absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r("input",{type:"text",id:"fromLocation",placeholder:"東京 (TYO)",class:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r("div",{class:"relative",children:[r("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"目的地"}),r("div",{class:"relative",children:[r("i",{class:"fas fa-plane-arrival absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r("input",{type:"text",id:"toLocation",placeholder:"ニューヨーク (JFK)",class:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r("div",{class:"relative",children:[r("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"出発日"}),r("div",{class:"relative",children:[r("i",{class:"fas fa-calendar-alt absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r("input",{type:"date",id:"departureDate",class:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r("div",{class:"relative",id:"returnDateField",children:[r("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"帰国日"}),r("div",{class:"relative",children:[r("i",{class:"fas fa-calendar-alt absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),r("input",{type:"date",id:"returnDate",class:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),r("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[r("div",{class:"relative",children:[r("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"乗客"}),r("button",{type:"button",id:"passengerButton",class:"w-full px-4 py-3 border border-gray-300 rounded-lg text-left flex items-center justify-between hover:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r("span",{class:"flex items-center",children:[r("i",{class:"fas fa-user mr-2 text-gray-400"}),r("span",{id:"passengerDisplay",children:"1 名, エコノミー"})]}),r("i",{class:"fas fa-chevron-down text-gray-400"})]}),r("div",{id:"passengerDropdown",class:"hidden absolute z-10 mt-2 w-full md:w-96 bg-white border border-gray-200 rounded-lg shadow-xl p-4",children:r("div",{class:"space-y-4",children:[r("div",{class:"flex items-center justify-between",children:[r("div",{children:[r("div",{class:"font-medium text-gray-700",children:"大人"}),r("div",{class:"text-sm text-gray-500",children:"12歳以上"})]}),r("div",{class:"flex items-center space-x-3",children:[r("button",{type:"button",class:"w-8 h-8 rounded-full border border-gray-300 hover:bg-gray-100",onclick:"updatePassenger('adults', -1)",children:"-"}),r("span",{id:"adultsCount",class:"w-8 text-center font-medium",children:"1"}),r("button",{type:"button",class:"w-8 h-8 rounded-full border border-gray-300 hover:bg-gray-100",onclick:"updatePassenger('adults', 1)",children:"+"})]})]}),r("div",{class:"flex items-center justify-between",children:[r("div",{children:[r("div",{class:"font-medium text-gray-700",children:"子供"}),r("div",{class:"text-sm text-gray-500",children:"2-11歳"})]}),r("div",{class:"flex items-center space-x-3",children:[r("button",{type:"button",class:"w-8 h-8 rounded-full border border-gray-300 hover:bg-gray-100",onclick:"updatePassenger('children', -1)",children:"-"}),r("span",{id:"childrenCount",class:"w-8 text-center font-medium",children:"0"}),r("button",{type:"button",class:"w-8 h-8 rounded-full border border-gray-300 hover:bg-gray-100",onclick:"updatePassenger('children', 1)",children:"+"})]})]}),r("div",{class:"flex items-center justify-between",children:[r("div",{children:[r("div",{class:"font-medium text-gray-700",children:"幼児"}),r("div",{class:"text-sm text-gray-500",children:"2歳未満"})]}),r("div",{class:"flex items-center space-x-3",children:[r("button",{type:"button",class:"w-8 h-8 rounded-full border border-gray-300 hover:bg-gray-100",onclick:"updatePassenger('infants', -1)",children:"-"}),r("span",{id:"infantsCount",class:"w-8 text-center font-medium",children:"0"}),r("button",{type:"button",class:"w-8 h-8 rounded-full border border-gray-300 hover:bg-gray-100",onclick:"updatePassenger('infants', 1)",children:"+"})]})]}),r("hr",{class:"my-4"}),r("div",{children:[r("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"座席クラス"}),r("select",{id:"cabinClass",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[r("option",{value:"economy",children:"エコノミー"}),r("option",{value:"premium_economy",children:"プレミアムエコノミー"}),r("option",{value:"business",children:"ビジネス"}),r("option",{value:"first",children:"ファースト"})]})]}),r("button",{type:"button",class:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700",onclick:"closePassengerDropdown()",children:"完了"})]})})]}),r("div",{class:"flex items-end",children:r("label",{class:"flex items-center space-x-2 cursor-pointer pb-3",children:[r("input",{type:"checkbox",id:"directFlights",class:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),r("span",{class:"text-gray-700",children:"直行便のみ"})]})}),r("div",{children:[r("label",{class:"block text-sm font-medium text-gray-700 mb-2 opacity-0",children:"検索"}),r("button",{type:"button",onclick:"searchFlights()",class:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 px-6 rounded-lg font-semibold hover:from-blue-700 hover:to-indigo-700 transition shadow-lg hover:shadow-xl",children:[r("i",{class:"fas fa-search mr-2"}),"フライトを検索"]})]})]})]}),r("div",{id:"searchResults",class:"hidden",children:[r("div",{class:"bg-white rounded-lg shadow-md p-6 mb-6",children:r("div",{class:"flex flex-col md:flex-row justify-between items-start md:items-center space-y-4 md:space-y-0",children:[r("div",{children:[r("h3",{class:"text-2xl font-bold text-gray-800 mb-2",children:"検索結果"}),r("p",{class:"text-gray-600",id:"routeInfo",children:"東京 (TYO) → ニューヨーク (JFK)"})]}),r("div",{class:"flex items-center space-x-4",children:r("select",{id:"sortBy",class:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[r("option",{value:"best",children:"おすすめ順"}),r("option",{value:"price",children:"最安値順"}),r("option",{value:"duration",children:"最短時間順"}),r("option",{value:"departure",children:"出発時間順"})]})})]})}),r("div",{class:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[r("div",{class:"lg:col-span-1",children:r("div",{class:"bg-white rounded-lg shadow-md p-6 sticky top-4",children:[r("h4",{class:"text-lg font-bold text-gray-800 mb-4",children:"フィルター"}),r("div",{class:"mb-6",children:[r("h5",{class:"font-semibold text-gray-700 mb-3",children:"価格帯"}),r("div",{class:"space-y-2",children:[r("input",{type:"range",min:"0",max:"500000",step:"10000",class:"w-full",id:"priceRange"}),r("div",{class:"flex justify-between text-sm text-gray-600",children:[r("span",{children:"¥0"}),r("span",{id:"maxPrice",children:"¥500,000+"})]})]})]}),r("div",{class:"mb-6",children:[r("h5",{class:"font-semibold text-gray-700 mb-3",children:"経由回数"}),r("div",{class:"space-y-2",children:[r("label",{class:"flex items-center space-x-2",children:[r("input",{type:"checkbox",class:"w-4 h-4 text-blue-600 rounded",checked:!0}),r("span",{class:"text-gray-700",children:"直行便"})]}),r("label",{class:"flex items-center space-x-2",children:[r("input",{type:"checkbox",class:"w-4 h-4 text-blue-600 rounded",checked:!0}),r("span",{class:"text-gray-700",children:"1回経由"})]}),r("label",{class:"flex items-center space-x-2",children:[r("input",{type:"checkbox",class:"w-4 h-4 text-blue-600 rounded",checked:!0}),r("span",{class:"text-gray-700",children:"2回以上経由"})]})]})]}),r("div",{class:"mb-6",children:[r("h5",{class:"font-semibold text-gray-700 mb-3",children:"出発時間帯"}),r("div",{class:"grid grid-cols-2 gap-2",children:[r("button",{type:"button",class:"px-3 py-2 border border-gray-300 rounded-lg text-sm hover:bg-blue-50 hover:border-blue-500",children:[r("i",{class:"fas fa-sun text-yellow-500"})," 朝"]}),r("button",{type:"button",class:"px-3 py-2 border border-gray-300 rounded-lg text-sm hover:bg-blue-50 hover:border-blue-500",children:[r("i",{class:"fas fa-cloud-sun text-orange-500"})," 昼"]}),r("button",{type:"button",class:"px-3 py-2 border border-gray-300 rounded-lg text-sm hover:bg-blue-50 hover:border-blue-500",children:[r("i",{class:"fas fa-cloud-moon text-indigo-500"})," 夕"]}),r("button",{type:"button",class:"px-3 py-2 border border-gray-300 rounded-lg text-sm hover:bg-blue-50 hover:border-blue-500",children:[r("i",{class:"fas fa-moon text-blue-900"})," 夜"]})]})]}),r("div",{class:"mb-6",children:[r("h5",{class:"font-semibold text-gray-700 mb-3",children:"航空会社"}),r("div",{class:"space-y-2 max-h-48 overflow-y-auto",children:[r("label",{class:"flex items-center space-x-2",children:[r("input",{type:"checkbox",class:"w-4 h-4 text-blue-600 rounded",checked:!0}),r("span",{class:"text-gray-700 text-sm",children:"全日空 (ANA)"})]}),r("label",{class:"flex items-center space-x-2",children:[r("input",{type:"checkbox",class:"w-4 h-4 text-blue-600 rounded",checked:!0}),r("span",{class:"text-gray-700 text-sm",children:"日本航空 (JAL)"})]}),r("label",{class:"flex items-center space-x-2",children:[r("input",{type:"checkbox",class:"w-4 h-4 text-blue-600 rounded",checked:!0}),r("span",{class:"text-gray-700 text-sm",children:"ユナイテッド航空"})]}),r("label",{class:"flex items-center space-x-2",children:[r("input",{type:"checkbox",class:"w-4 h-4 text-blue-600 rounded",checked:!0}),r("span",{class:"text-gray-700 text-sm",children:"デルタ航空"})]}),r("label",{class:"flex items-center space-x-2",children:[r("input",{type:"checkbox",class:"w-4 h-4 text-blue-600 rounded",checked:!0}),r("span",{class:"text-gray-700 text-sm",children:"アメリカン航空"})]})]})]}),r("button",{type:"button",class:"w-full bg-gray-100 text-gray-700 py-2 rounded-lg hover:bg-gray-200",children:"フィルターをリセット"})]})}),r("div",{class:"lg:col-span-3",id:"flightList",children:r("div",{class:"space-y-4",id:"flightCards"})})]})]})]})}),r("footer",{id:"mainFooter",class:"bg-gray-800 text-white flex-shrink-0 mt-auto",children:r("div",{class:"container mx-auto px-4 py-8",children:[r("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[r("div",{children:[r("h5",{class:"font-bold text-lg mb-4",children:"FlightSearch"}),r("p",{class:"text-gray-400",children:"お得な航空券を簡単検索"})]}),r("div",{children:[r("h5",{class:"font-bold text-lg mb-4",children:"リンク"}),r("ul",{class:"space-y-2 text-gray-400",children:[r("li",{children:r("a",{href:"#",class:"hover:text-white",children:"利用規約"})}),r("li",{children:r("a",{href:"#",class:"hover:text-white",children:"プライバシーポリシー"})}),r("li",{children:r("a",{href:"#",class:"hover:text-white",children:"お問い合わせ"})})]})]}),r("div",{children:[r("h5",{class:"font-bold text-lg mb-4",children:"フォロー"}),r("div",{class:"flex space-x-4",children:[r("a",{href:"#",class:"text-gray-400 hover:text-white",children:r("i",{class:"fab fa-facebook text-2xl"})}),r("a",{href:"#",class:"text-gray-400 hover:text-white",children:r("i",{class:"fab fa-twitter text-2xl"})}),r("a",{href:"#",class:"text-gray-400 hover:text-white",children:r("i",{class:"fab fa-instagram text-2xl"})})]})]})]}),r("div",{class:"border-t border-gray-700 mt-8 pt-8 text-center text-gray-400",children:r("p",{children:"© 2026 FlightSearch. All rights reserved."})})]})}),r("div",{id:"seatClassModal",class:"hidden fixed inset-0 bg-black bg-opacity-50 z-50 overflow-y-auto",role:"dialog","aria-modal":"true","aria-labelledby":"modalTitle",children:r("div",{class:"flex items-center justify-center min-h-screen p-4",children:r("div",{class:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl relative",children:[r("div",{class:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-2xl",children:[r("div",{class:"flex items-center justify-between",children:[r("h2",{id:"modalTitle",class:"text-2xl font-bold",children:r("span",{id:"modalRouteInfo",children:"東京 → ニューヨーク"})}),r("button",{onclick:"closeSeatClassModal()",class:"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-2 transition","aria-label":"モーダルを閉じる",children:r("i",{class:"fas fa-times text-2xl"})})]}),r("div",{id:"modalFlightInfo",class:"mt-2 text-sm opacity-90",children:"フライト情報を読み込み中..."})]}),r("div",{class:"p-6 max-h-[70vh] overflow-y-auto",children:[r("div",{class:"mb-8",children:[r("h3",{class:"text-xl font-bold text-gray-800 mb-4 flex items-center",children:[r("i",{class:"fas fa-plane-departure text-blue-600 mr-2"}),"往路便"]}),r("div",{id:"outboundSeatClasses",class:"space-y-3"})]}),r("div",{class:"mb-6",children:[r("h3",{class:"text-xl font-bold text-gray-800 mb-4 flex items-center",children:[r("i",{class:"fas fa-plane-arrival text-blue-600 mr-2"}),"復路便"]}),r("div",{id:"returnSeatClasses",class:"space-y-3"})]}),r("div",{class:"bg-blue-50 rounded-lg p-4 mt-6",children:r("div",{class:"flex justify-between items-center",children:[r("div",{children:[r("div",{class:"text-sm text-gray-600",children:"合計金額（1名あたり）"}),r("div",{class:"text-xs text-gray-500 mt-1",children:"往復 • 税・手数料込み"})]}),r("div",{class:"text-3xl font-bold text-blue-600",id:"modalTotalPrice",children:"¥0"})]})})]}),r("div",{class:"border-t border-gray-200 px-6 py-4 bg-gray-50 rounded-b-2xl",children:r("div",{class:"flex space-x-4",children:[r("button",{onclick:"closeSeatClassModal()",class:"flex-1 bg-gray-200 text-gray-700 py-3 px-6 rounded-lg font-semibold hover:bg-gray-300 transition",children:"キャンセル"}),r("button",{onclick:"confirmSeatClassSelection()",class:"flex-1 bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 px-6 rounded-lg font-semibold hover:from-blue-700 hover:to-indigo-700 transition shadow-lg hover:shadow-xl",disabled:!0,id:"confirmSelectionBtn",children:"予約を続ける"})]})})]})})}),r("div",{id:"bookingPage",class:"hidden fixed inset-0 bg-gradient-to-br from-blue-50 to-indigo-100 overflow-y-auto z-40",children:r("div",{class:"min-h-screen flex flex-col",children:[r("div",{class:"container mx-auto px-4 py-8 flex-grow",children:[r("button",{onclick:"backToSearch()",class:"mb-6 flex items-center text-blue-600 hover:text-blue-800 transition",children:[r("i",{class:"fas fa-arrow-left mr-2"}),"検索結果に戻る"]}),r("div",{class:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[r("h2",{class:"text-3xl font-bold text-gray-800 mb-4 flex items-center",children:[r("i",{class:"fas fa-ticket-alt text-blue-600 mr-3"}),"予約内容の確認"]}),r("div",{class:"bg-blue-50 border-l-4 border-blue-600 p-4 rounded",children:r("p",{class:"text-sm text-gray-700",children:[r("i",{class:"fas fa-info-circle text-blue-600 mr-2"}),"フライトと座席クラスを選択しました。次に座席を選択し、お客様情報を入力してください。"]})})]}),r("div",{class:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[r("h3",{class:"text-2xl font-bold text-gray-800 mb-4 flex items-center",children:[r("i",{class:"fas fa-plane text-blue-600 mr-2"}),"選択済みフライト情報"]}),r("div",{id:"flightSummary",class:"space-y-4"})]}),r("div",{class:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[r("h3",{class:"text-2xl font-bold text-gray-800 mb-4 flex items-center",children:[r("i",{class:"fas fa-chair text-blue-600 mr-2"}),"座席選択",r("span",{class:"ml-auto text-sm font-normal text-gray-600",id:"seatSelectionStatus",children:["選択済み: ",r("span",{id:"selectedSeatsCount",children:"0"})," / ",r("span",{id:"requiredSeats",children:"1"})," 座席"]})]}),r("div",{class:"flex flex-wrap gap-4 mb-6 p-4 bg-gray-50 rounded-lg",children:[r("div",{class:"flex items-center space-x-2",children:[r("div",{class:"w-8 h-8 bg-green-500 rounded flex items-center justify-center text-white text-xs font-bold",children:"空"}),r("span",{class:"text-sm text-gray-700",children:"利用可能"})]}),r("div",{class:"flex items-center space-x-2",children:[r("div",{class:"w-8 h-8 bg-blue-600 rounded flex items-center justify-center text-white text-xs font-bold",children:"選"}),r("span",{class:"text-sm text-gray-700",children:"選択済み"})]}),r("div",{class:"flex items-center space-x-2",children:[r("div",{class:"w-8 h-8 bg-gray-400 rounded flex items-center justify-center text-white text-xs font-bold",children:"×"}),r("span",{class:"text-sm text-gray-700",children:"利用不可"})]}),r("div",{class:"flex items-center space-x-2",children:[r("div",{class:"w-8 h-8 bg-yellow-500 rounded flex items-center justify-center text-white text-xs font-bold",children:"特"}),r("span",{class:"text-sm text-gray-700",children:"特別席（追加料金）"})]})]}),r("div",{class:"aircraftmap_container mb-6",children:r("div",{class:"od-aircraftmap-map-wrapper",children:[r("div",{class:"mb-8",children:[r("h4",{class:"text-lg font-bold text-gray-800 mb-3 flex items-center",children:[r("i",{class:"fas fa-plane-departure text-blue-600 mr-2"}),"往路便 - 座席選択"]}),r("div",{id:"outboundSeatMap",class:"od-aircraftmap-cabins"})]}),r("div",{children:[r("h4",{class:"text-lg font-bold text-gray-800 mb-3 flex items-center",children:[r("i",{class:"fas fa-plane-arrival text-blue-600 mr-2"}),"復路便 - 座席選択"]}),r("div",{id:"returnSeatMap",class:"od-aircraftmap-cabins"})]})]})}),r("div",{class:"bg-blue-50 rounded-lg p-4",children:[r("h5",{class:"font-bold text-gray-800 mb-2",children:"選択済み座席"}),r("div",{id:"selectedSeatsSummary",class:"text-sm text-gray-700",children:"座席を選択してください"})]})]}),r("div",{class:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[r("h3",{class:"text-2xl font-bold text-gray-800 mb-6 flex items-center",children:[r("i",{class:"fas fa-user-edit text-blue-600 mr-2"}),"お客様情報"]}),r("form",{id:"customerInfoForm",children:[r("div",{id:"passengerFormsContainer"}),r("div",{class:"border-t border-gray-200 pt-6 mt-6",children:[r("h4",{class:"text-xl font-bold text-gray-800 mb-4",children:"連絡先情報"}),r("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r("div",{children:[r("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:["メールアドレス ",r("span",{class:"text-red-500",children:"*"})]}),r("input",{type:"email",id:"contactEmail",required:!0,placeholder:"example@email.com",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r("div",{children:[r("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:["電話番号 ",r("span",{class:"text-red-500",children:"*"})]}),r("input",{type:"tel",id:"contactPhone",required:!0,placeholder:"090-1234-5678",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),r("div",{class:"border-t border-gray-200 pt-6 mt-6",children:[r("h4",{class:"text-xl font-bold text-gray-800 mb-4",children:"緊急連絡先"}),r("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r("div",{children:[r("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"氏名"}),r("input",{type:"text",id:"emergencyName",placeholder:"山田 太郎",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r("div",{children:[r("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"電話番号"}),r("input",{type:"tel",id:"emergencyPhone",placeholder:"090-1234-5678",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),r("div",{class:"border-t border-gray-200 pt-6 mt-6",children:r("label",{class:"flex items-start space-x-3 cursor-pointer",children:[r("input",{type:"checkbox",id:"agreeTerms",required:!0,class:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500 mt-1"}),r("span",{class:"text-sm text-gray-700",children:[r("a",{href:"#",class:"text-blue-600 hover:underline",children:"利用規約"}),"および",r("a",{href:"#",class:"text-blue-600 hover:underline",children:"プライバシーポリシー"}),"に同意します",r("span",{class:"text-red-500",children:"*"})]})]})})]})]}),r("div",{class:"bg-white rounded-2xl shadow-xl p-6 sticky bottom-4",children:r("div",{class:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[r("div",{children:[r("div",{class:"text-sm text-gray-600 mb-1",children:"合計金額"}),r("div",{class:"text-4xl font-bold text-blue-600",id:"finalTotalPrice",children:"¥0"}),r("div",{class:"text-xs text-gray-500 mt-1",children:[r("span",{id:"totalPassengersCount",children:"1"}),"名分 • 往復 • 税・手数料込み"]})]}),r("div",{class:"flex space-x-4 w-full md:w-auto",children:[r("button",{type:"button",onclick:"backToSearch()",class:"flex-1 md:flex-none bg-gray-200 text-gray-700 py-4 px-8 rounded-lg font-semibold hover:bg-gray-300 transition",children:"キャンセル"}),r("button",{type:"button",onclick:"proceedToConfirmation()",class:"flex-1 md:flex-none bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-4 px-8 rounded-lg font-semibold hover:from-blue-700 hover:to-indigo-700 transition shadow-lg hover:shadow-xl",disabled:!0,id:"proceedConfirmationBtn",children:[r("i",{class:"fas fa-check-circle mr-2"}),"予約内容の確認"]})]})]})})]}),r("footer",{class:"bg-gray-800 text-white mt-auto",children:r("div",{class:"container mx-auto px-4 py-8",children:[r("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[r("div",{children:[r("h5",{class:"font-bold text-lg mb-4",children:"FlightSearch"}),r("p",{class:"text-gray-400",children:"お得な航空券を簡単検索"})]}),r("div",{children:[r("h5",{class:"font-bold text-lg mb-4",children:"リンク"}),r("ul",{class:"space-y-2 text-gray-400",children:[r("li",{children:r("a",{href:"#",class:"hover:text-white",children:"利用規約"})}),r("li",{children:r("a",{href:"#",class:"hover:text-white",children:"プライバシーポリシー"})}),r("li",{children:r("a",{href:"#",class:"hover:text-white",children:"お問い合わせ"})})]})]}),r("div",{children:[r("h5",{class:"font-bold text-lg mb-4",children:"フォロー"}),r("div",{class:"flex space-x-4",children:[r("a",{href:"#",class:"text-gray-400 hover:text-white",children:r("i",{class:"fab fa-facebook text-2xl"})}),r("a",{href:"#",class:"text-gray-400 hover:text-white",children:r("i",{class:"fab fa-twitter text-2xl"})}),r("a",{href:"#",class:"text-gray-400 hover:text-white",children:r("i",{class:"fab fa-instagram text-2xl"})})]})]})]}),r("div",{class:"border-t border-gray-700 mt-8 pt-8 text-center text-gray-400",children:r("p",{children:"© 2026 FlightSearch. All rights reserved."})})]})})]})}),r("div",{id:"confirmationPage",class:"hidden fixed inset-0 bg-gradient-to-br from-blue-50 to-indigo-100 overflow-y-auto z-40",children:r("div",{class:"min-h-screen flex flex-col",children:[r("div",{class:"container mx-auto px-4 py-8 flex-grow",children:[r("button",{onclick:"backToBooking()",class:"mb-6 flex items-center text-blue-600 hover:text-blue-800 transition",children:[r("i",{class:"fas fa-arrow-left mr-2"}),"座席選択に戻る"]}),r("div",{class:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[r("h2",{class:"text-3xl font-bold text-gray-800 mb-4 flex items-center",children:[r("i",{class:"fas fa-clipboard-check text-blue-600 mr-3"}),"予約内容の最終確認"]}),r("div",{class:"bg-blue-50 border-l-4 border-blue-600 p-4 rounded",children:r("p",{class:"text-sm text-gray-700",children:[r("i",{class:"fas fa-info-circle text-blue-600 mr-2"}),"ご予約内容をご確認の上、お間違いがなければ「支払いへ進む」ボタンをクリックしてください。"]})})]}),r("div",{class:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[r("h3",{class:"text-2xl font-bold text-gray-800 mb-4 flex items-center",children:[r("i",{class:"fas fa-plane text-blue-600 mr-2"}),"フライト情報"]}),r("div",{id:"confirmationFlightSummary",class:"space-y-4"})]}),r("div",{class:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[r("h3",{class:"text-2xl font-bold text-gray-800 mb-4 flex items-center",children:[r("i",{class:"fas fa-users text-blue-600 mr-2"}),"お客様情報"]}),r("div",{id:"confirmationPassengerSummary",class:"space-y-4"})]}),r("div",{class:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[r("h3",{class:"text-2xl font-bold text-gray-800 mb-4 flex items-center",children:[r("i",{class:"fas fa-envelope text-blue-600 mr-2"}),"連絡先情報"]}),r("div",{id:"confirmationContactSummary",class:"space-y-2"})]}),r("div",{class:"bg-white rounded-2xl shadow-xl p-6 sticky bottom-4",children:r("div",{class:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[r("div",{children:[r("div",{class:"text-sm text-gray-600 mb-1",children:"お支払い合計金額"}),r("div",{class:"text-4xl font-bold text-blue-600",id:"confirmationTotalPrice",children:"¥0"}),r("div",{class:"text-xs text-gray-500 mt-1",children:[r("span",{id:"confirmationPassengersCount",children:"1"}),"名分 • 往復 • 税・手数料込み"]})]}),r("div",{class:"flex space-x-4 w-full md:w-auto",children:[r("button",{type:"button",onclick:"backToBooking()",class:"flex-1 md:flex-none bg-gray-200 text-gray-700 py-4 px-8 rounded-lg font-semibold hover:bg-gray-300 transition",children:"戻る"}),r("button",{type:"button",onclick:"proceedToPayment()",class:"flex-1 md:flex-none bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-4 px-8 rounded-lg font-semibold hover:from-blue-700 hover:to-indigo-700 transition shadow-lg hover:shadow-xl",id:"proceedPaymentBtn",children:[r("i",{class:"fas fa-credit-card mr-2"}),"支払いへ進む"]})]})]})})]}),r("footer",{class:"bg-gray-800 text-white mt-auto",children:r("div",{class:"container mx-auto px-4 py-8",children:[r("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[r("div",{children:[r("h5",{class:"font-bold text-lg mb-4",children:"FlightSearch"}),r("p",{class:"text-gray-400",children:"お得な航空券を簡単検索"})]}),r("div",{children:[r("h5",{class:"font-bold text-lg mb-4",children:"リンク"}),r("ul",{class:"space-y-2 text-gray-400",children:[r("li",{children:r("a",{href:"#",class:"hover:text-white",children:"利用規約"})}),r("li",{children:r("a",{href:"#",class:"hover:text-white",children:"プライバシーポリシー"})}),r("li",{children:r("a",{href:"#",class:"hover:text-white",children:"お問い合わせ"})})]})]}),r("div",{children:[r("h5",{class:"font-bold text-lg mb-4",children:"フォロー"}),r("div",{class:"flex space-x-4",children:[r("a",{href:"#",class:"text-gray-400 hover:text-white",children:r("i",{class:"fab fa-facebook text-2xl"})}),r("a",{href:"#",class:"text-gray-400 hover:text-white",children:r("i",{class:"fab fa-twitter text-2xl"})}),r("a",{href:"#",class:"text-gray-400 hover:text-white",children:r("i",{class:"fab fa-instagram text-2xl"})})]})]})]}),r("div",{class:"border-t border-gray-700 mt-8 pt-8 text-center text-gray-400",children:r("p",{children:"© 2026 FlightSearch. All rights reserved."})})]})})]})}),r("div",{id:"paymentPage",class:"hidden fixed inset-0 bg-gradient-to-br from-blue-50 to-indigo-100 overflow-y-auto z-40",children:r("div",{class:"min-h-screen flex flex-col",children:[r("div",{class:"container mx-auto px-4 py-8 flex-grow max-w-4xl",children:[r("button",{onclick:"backToConfirmation()",class:"mb-6 flex items-center text-blue-600 hover:text-blue-800 transition",children:[r("i",{class:"fas fa-arrow-left mr-2"}),"予約内容の確認に戻る"]}),r("div",{class:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[r("div",{class:"flex items-center justify-between mb-4",children:[r("h2",{class:"text-3xl font-bold text-gray-800 flex items-center",children:[r("i",{class:"fas fa-lock text-blue-600 mr-3"}),"安全な決済"]}),r("div",{class:"flex items-center space-x-2",children:[r("i",{class:"fab fa-cc-visa text-3xl text-blue-600"}),r("i",{class:"fab fa-cc-mastercard text-3xl text-orange-600"}),r("i",{class:"fab fa-cc-amex text-3xl text-blue-500"}),r("i",{class:"fab fa-cc-jcb text-3xl text-red-600"})]})]}),r("div",{class:"bg-green-50 border-l-4 border-green-600 p-4 rounded",children:r("p",{class:"text-sm text-gray-700",children:[r("i",{class:"fas fa-shield-alt text-green-600 mr-2"}),"このページの情報は、SSL/TLS暗号化技術により保護されています。"]})})]}),r("div",{class:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[r("h3",{class:"text-xl font-bold text-gray-800 mb-4",children:"ご注文内容"}),r("div",{class:"space-y-3",children:[r("div",{class:"flex justify-between text-gray-700",children:[r("span",{children:"フライト料金"}),r("span",{id:"paymentFlightPrice",children:"¥0"})]}),r("div",{class:"flex justify-between text-gray-700",children:[r("span",{children:"座席アップグレード"}),r("span",{id:"paymentSeatUpgrade",children:"¥0"})]}),r("div",{class:"flex justify-between text-gray-700",children:[r("span",{children:"税金・手数料"}),r("span",{id:"paymentTaxes",children:"¥0"})]}),r("div",{class:"border-t border-gray-300 pt-3 flex justify-between items-center",children:[r("span",{class:"text-xl font-bold text-gray-800",children:"合計"}),r("span",{class:"text-2xl font-bold text-blue-600",id:"paymentTotalPrice",children:"¥0"})]})]})]}),r("div",{class:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[r("h3",{class:"text-xl font-bold text-gray-800 mb-6",children:"お支払い情報"}),r("form",{id:"paymentForm",class:"space-y-6",children:[r("div",{children:[r("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"カード番号"}),r("div",{class:"relative",children:[r("input",{type:"text",placeholder:"1234 5678 9012 3456",pattern:"[0-9\\s]{13,19}",maxlength:"19",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),r("i",{class:"fas fa-credit-card absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]})]}),r("div",{class:"grid grid-cols-2 gap-4",children:[r("div",{children:[r("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"有効期限"}),r("input",{type:"text",placeholder:"MM/YY",pattern:"(0[1-9]|1[0-2])\\/[0-9]{2}",maxlength:"5",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r("div",{children:[r("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"セキュリティコード"}),r("input",{type:"text",placeholder:"CVV",pattern:"[0-9]{3,4}",maxlength:"4",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),r("div",{children:[r("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"カード名義人"}),r("input",{type:"text",placeholder:"TARO YAMADA",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r("div",{children:[r("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"請求先住所"}),r("input",{type:"text",placeholder:"東京都渋谷区...",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]})]}),r("div",{class:"bg-white rounded-2xl shadow-xl p-6 sticky bottom-4",children:[r("div",{class:"flex space-x-4",children:[r("button",{type:"button",onclick:"backToConfirmation()",class:"flex-1 bg-gray-200 text-gray-700 py-4 px-8 rounded-lg font-semibold hover:bg-gray-300 transition",children:"キャンセル"}),r("button",{type:"button",onclick:"completeBooking()",class:"flex-1 bg-gradient-to-r from-green-600 to-blue-600 text-white py-4 px-8 rounded-lg font-semibold hover:from-green-700 hover:to-blue-700 transition shadow-lg hover:shadow-xl",children:[r("i",{class:"fas fa-lock mr-2"}),r("span",{id:"paymentButtonText",children:"¥0 を支払う"})]})]}),r("p",{class:"text-xs text-gray-500 text-center mt-4",children:[r("i",{class:"fas fa-shield-alt mr-1"}),"お客様の決済情報は暗号化され、安全に処理されます。"]})]})]}),r("footer",{class:"bg-gray-800 text-white mt-auto",children:r("div",{class:"container mx-auto px-4 py-8",children:[r("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[r("div",{children:[r("h5",{class:"font-bold text-lg mb-4",children:"FlightSearch"}),r("p",{class:"text-gray-400",children:"お得な航空券を簡単検索"})]}),r("div",{children:[r("h5",{class:"font-bold text-lg mb-4",children:"リンク"}),r("ul",{class:"space-y-2 text-gray-400",children:[r("li",{children:r("a",{href:"#",class:"hover:text-white",children:"利用規約"})}),r("li",{children:r("a",{href:"#",class:"hover:text-white",children:"プライバシーポリシー"})}),r("li",{children:r("a",{href:"#",class:"hover:text-white",children:"お問い合わせ"})})]})]}),r("div",{children:[r("h5",{class:"font-bold text-lg mb-4",children:"フォロー"}),r("div",{class:"flex space-x-4",children:[r("a",{href:"#",class:"text-gray-400 hover:text-white",children:r("i",{class:"fab fa-facebook text-2xl"})}),r("a",{href:"#",class:"text-gray-400 hover:text-white",children:r("i",{class:"fab fa-twitter text-2xl"})}),r("a",{href:"#",class:"text-gray-400 hover:text-white",children:r("i",{class:"fab fa-instagram text-2xl"})})]})]})]}),r("div",{class:"border-t border-gray-700 mt-8 pt-8 text-center text-gray-400",children:r("p",{children:"© 2026 FlightSearch. All rights reserved."})})]})})]})}),r("div",{id:"completePage",class:"hidden fixed inset-0 bg-gradient-to-br from-green-50 to-blue-100 overflow-y-auto z-40",children:r("div",{class:"min-h-screen flex flex-col",children:[r("div",{class:"container mx-auto px-4 py-8 flex-grow max-w-4xl",children:[r("div",{class:"bg-white rounded-2xl shadow-xl p-8 mb-6 text-center",children:[r("div",{class:"mb-6",children:[r("div",{class:"inline-flex items-center justify-center w-24 h-24 bg-green-100 rounded-full mb-4",children:r("i",{class:"fas fa-check-circle text-green-600 text-6xl"})}),r("h2",{class:"text-4xl font-bold text-gray-800 mb-2",children:"予約が完了しました！"}),r("p",{class:"text-gray-600",children:"ご予約ありがとうございます。予約確認メールをお送りしました。"})]}),r("div",{class:"bg-blue-50 border-2 border-blue-200 rounded-lg p-6 mb-6",children:[r("div",{class:"text-sm text-gray-600 mb-2",children:"予約番号"}),r("div",{class:"text-3xl font-bold text-blue-600",id:"bookingReference",children:"ABC123456"}),r("p",{class:"text-xs text-gray-500 mt-2",children:"この予約番号は、予約の確認や変更に必要です。大切に保管してください。"})]})]}),r("div",{class:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[r("h3",{class:"text-2xl font-bold text-gray-800 mb-4 flex items-center",children:[r("i",{class:"fas fa-plane text-blue-600 mr-2"}),"フライト情報"]}),r("div",{id:"completeFlightSummary",class:"space-y-4"})]}),r("div",{class:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[r("h3",{class:"text-xl font-bold text-gray-800 mb-4",children:"次のステップ"}),r("div",{class:"space-y-4",children:[r("div",{class:"flex items-start space-x-3",children:[r("div",{class:"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:r("span",{class:"text-blue-600 font-bold",children:"1"})}),r("div",{children:[r("h4",{class:"font-semibold text-gray-800",children:"予約確認メールを確認"}),r("p",{class:"text-sm text-gray-600",children:"ご登録のメールアドレスに予約詳細を送信しました。"})]})]}),r("div",{class:"flex items-start space-x-3",children:[r("div",{class:"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:r("span",{class:"text-blue-600 font-bold",children:"2"})}),r("div",{children:[r("h4",{class:"font-semibold text-gray-800",children:"オンラインチェックイン"}),r("p",{class:"text-sm text-gray-600",children:"出発24時間前からオンラインチェックインが可能です。"})]})]}),r("div",{class:"flex items-start space-x-3",children:[r("div",{class:"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:r("span",{class:"text-blue-600 font-bold",children:"3"})}),r("div",{children:[r("h4",{class:"font-semibold text-gray-800",children:"空港へ出発"}),r("p",{class:"text-sm text-gray-600",children:"出発の2時間前までに空港へお越しください。"})]})]})]})]}),r("div",{class:"bg-white rounded-2xl shadow-xl p-6",children:r("div",{class:"flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4",children:[r("button",{type:"button",onclick:"downloadTicket()",class:"flex-1 bg-blue-600 text-white py-4 px-8 rounded-lg font-semibold hover:bg-blue-700 transition shadow-lg hover:shadow-xl",children:[r("i",{class:"fas fa-download mr-2"}),"予約確認書をダウンロード"]}),r("button",{type:"button",onclick:"returnToSearch()",class:"flex-1 bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-4 px-8 rounded-lg font-semibold hover:from-blue-700 hover:to-indigo-700 transition shadow-lg hover:shadow-xl",children:[r("i",{class:"fas fa-home mr-2"}),"検索トップに戻る"]})]})})]}),r("footer",{class:"bg-gray-800 text-white mt-auto",children:r("div",{class:"container mx-auto px-4 py-8",children:[r("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[r("div",{children:[r("h5",{class:"font-bold text-lg mb-4",children:"FlightSearch"}),r("p",{class:"text-gray-400",children:"お得な航空券を簡単検索"})]}),r("div",{children:[r("h5",{class:"font-bold text-lg mb-4",children:"リンク"}),r("ul",{class:"space-y-2 text-gray-400",children:[r("li",{children:r("a",{href:"#",class:"hover:text-white",children:"利用規約"})}),r("li",{children:r("a",{href:"#",class:"hover:text-white",children:"プライバシーポリシー"})}),r("li",{children:r("a",{href:"#",class:"hover:text-white",children:"お問い合わせ"})})]})]}),r("div",{children:[r("h5",{class:"font-bold text-lg mb-4",children:"フォロー"}),r("div",{class:"flex space-x-4",children:[r("a",{href:"#",class:"text-gray-400 hover:text-white",children:r("i",{class:"fab fa-facebook text-2xl"})}),r("a",{href:"#",class:"text-gray-400 hover:text-white",children:r("i",{class:"fab fa-twitter text-2xl"})}),r("a",{href:"#",class:"text-gray-400 hover:text-white",children:r("i",{class:"fab fa-instagram text-2xl"})})]})]})]}),r("div",{class:"border-t border-gray-700 mt-8 pt-8 text-center text-gray-400",children:r("p",{children:"© 2026 FlightSearch. All rights reserved."})})]})})]})}),r("script",{src:"/static/app.js"})]})));it.post("/api/search",async e=>{const t=await e.req.json();return e.json({success:!0,message:"Search received",data:t})});const Vt=new Pr,nl=Object.assign({"/src/index.tsx":it});let Mr=!1;for(const[,e]of Object.entries(nl))e&&(Vt.all("*",t=>{let s;try{s=t.executionCtx}catch{}return e.fetch(t.req.raw,t.env,s)}),Vt.notFound(t=>{let s;try{s=t.executionCtx}catch{}return e.fetch(t.req.raw,t.env,s)}),Mr=!0);if(!Mr)throw new Error("Can't import modules from ['/src/index.ts','/src/index.tsx','/app/server.ts']");export{Vt as default};
