var Nr=Object.defineProperty;var jt=e=>{throw TypeError(e)};var Dr=(e,r,s)=>r in e?Nr(e,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[r]=s;var p=(e,r,s)=>Dr(e,typeof r!="symbol"?r+"":r,s),at=(e,r,s)=>r.has(e)||jt("Cannot "+s);var h=(e,r,s)=>(at(e,r,"read from private field"),s?s.call(e):r.get(e)),k=(e,r,s)=>r.has(e)?jt("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(e):r.set(e,s),v=(e,r,s,l)=>(at(e,r,"write to private field"),l?l.call(e,s):r.set(e,s),s),S=(e,r,s)=>(at(e,r,"access private method"),s);var Tt=(e,r,s,l)=>({set _(i){v(e,r,i,s)},get _(){return h(e,r,l)}});var er={Stringify:1},M=(e,r)=>{const s=new String(e);return s.isEscaped=!0,s.callbacks=r,s},Hr=/[&<>'"]/,tr=async(e,r)=>{let s="";r||(r=[]);const l=await Promise.all(e);for(let i=l.length-1;s+=l[i],i--,!(i<0);i--){let n=l[i];typeof n=="object"&&r.push(...n.callbacks||[]);const a=n.isEscaped;if(n=await(typeof n=="object"?n.toString():n),typeof n=="object"&&r.push(...n.callbacks||[]),n.isEscaped??a)s+=n;else{const c=[s];ee(n,c),s=c[0]}}return M(s,r)},ee=(e,r)=>{const s=e.search(Hr);if(s===-1){r[0]+=e;return}let l,i,n=0;for(i=s;i<e.length;i++){switch(e.charCodeAt(i)){case 34:l="&quot;";break;case 39:l="&#39;";break;case 38:l="&amp;";break;case 60:l="&lt;";break;case 62:l="&gt;";break;default:continue}r[0]+=e.substring(n,i)+l,n=i+1}r[0]+=e.substring(n,i)},rr=e=>{const r=e.callbacks;if(!(r!=null&&r.length))return e;const s=[e],l={};return r.forEach(i=>i({phase:er.Stringify,buffer:s,context:l})),s[0]},sr=async(e,r,s,l,i)=>{typeof e=="object"&&!(e instanceof String)&&(e instanceof Promise||(e=e.toString()),e instanceof Promise&&(e=await e));const n=e.callbacks;return n!=null&&n.length?(i?i[0]+=e:i=[e],Promise.all(n.map(c=>c({phase:r,buffer:i,context:l}))).then(c=>Promise.all(c.filter(Boolean).map(o=>sr(o,r,!1,l,i))).then(()=>i[0]))):Promise.resolve(e)},Ir=(e,...r)=>{const s=[""];for(let l=0,i=e.length-1;l<i;l++){s[0]+=e[l];const n=Array.isArray(r[l])?r[l].flat(1/0):[r[l]];for(let a=0,c=n.length;a<c;a++){const o=n[a];if(typeof o=="string")ee(o,s);else if(typeof o=="number")s[0]+=o;else{if(typeof o=="boolean"||o===null||o===void 0)continue;if(typeof o=="object"&&o.isEscaped)if(o.callbacks)s.unshift("",o);else{const d=o.toString();d instanceof Promise?s.unshift("",d):s[0]+=d}else o instanceof Promise?s.unshift("",o):ee(o.toString(),s)}}}return s[0]+=e.at(-1),s.length===1?"callbacks"in s?M(rr(M(s[0],s.callbacks))):M(s[0]):tr(s,s.callbacks)},kt=Symbol("RENDERER"),pt=Symbol("ERROR_HANDLER"),A=Symbol("STASH"),lr=Symbol("INTERNAL"),_r=Symbol("MEMO"),et=Symbol("PERMALINK"),Ot=e=>(e[lr]=!0,e),ir=e=>({value:r,children:s})=>{if(!s)return;const l={children:[{tag:Ot(()=>{e.push(r)}),props:{}}]};Array.isArray(s)?l.children.push(...s.flat()):l.children.push(s),l.children.push({tag:Ot(()=>{e.pop()}),props:{}});const i={tag:"",props:l,type:""};return i[pt]=n=>{throw e.pop(),n},i},nr=e=>{const r=[e],s=ir(r);return s.values=r,s.Provider=s,we.push(s),s},we=[],Et=e=>{const r=[e],s=(l=>{r.push(l.value);let i;try{i=l.children?(Array.isArray(l.children)?new dr("",{},l.children):l.children).toString():""}catch(n){throw r.pop(),n}return i instanceof Promise?i.finally(()=>r.pop()).then(n=>M(n,n.callbacks)):(r.pop(),M(i))});return s.values=r,s.Provider=s,s[kt]=ir(r),we.push(s),s},Ee=e=>e.values.at(-1),Ke={title:[],script:["src"],style:["data-href"],link:["href"],meta:["name","httpEquiv","charset","itemProp"]},mt={},Ve="data-precedence",Ie=e=>Array.isArray(e)?e:[e],$t=new WeakMap,Lt=(e,r,s,l)=>({buffer:i,context:n})=>{if(!i)return;const a=$t.get(n)||{};$t.set(n,a);const c=a[e]||(a[e]=[]);let o=!1;const d=Ke[e];if(d.length>0){e:for(const[,f]of c)for(const u of d)if(((f==null?void 0:f[u])??null)===(s==null?void 0:s[u])){o=!0;break e}}if(o?i[0]=i[0].replaceAll(r,""):d.length>0?c.push([r,s,l]):c.unshift([r,s,l]),i[0].indexOf("</head>")!==-1){let f;if(l===void 0)f=c.map(([u])=>u);else{const u=[];f=c.map(([x,,g])=>{let m=u.indexOf(g);return m===-1&&(u.push(g),m=u.length-1),[x,m]}).sort((x,g)=>x[1]-g[1]).map(([x])=>x)}f.forEach(u=>{i[0]=i[0].replaceAll(u,"")}),i[0]=i[0].replace(/(?=<\/head>)/,f.join(""))}},_e=(e,r,s)=>M(new I(e,s,Ie(r??[])).toString()),Be=(e,r,s,l)=>{if("itemProp"in s)return _e(e,r,s);let{precedence:i,blocking:n,...a}=s;i=l?i??"":void 0,l&&(a[Ve]=i);const c=new I(e,a,Ie(r||[])).toString();return c instanceof Promise?c.then(o=>M(c,[...o.callbacks||[],Lt(e,o,a,i)])):M(c,[Lt(e,c,a,i)])},Br=({children:e,...r})=>{const s=St();if(s){const l=Ee(s);if(l==="svg"||l==="head")return new I("title",r,Ie(e??[]))}return Be("title",e,r,!1)},qr=({children:e,...r})=>{const s=St();return["src","async"].some(l=>!r[l])||s&&Ee(s)==="head"?_e("script",e,r):Be("script",e,r,!1)},Ur=({children:e,...r})=>["href","precedence"].every(s=>s in r)?(r["data-href"]=r.href,delete r.href,Be("style",e,r,!0)):_e("style",e,r),zr=({children:e,...r})=>["onLoad","onError"].some(s=>s in r)||r.rel==="stylesheet"&&(!("precedence"in r)||"disabled"in r)?_e("link",e,r):Be("link",e,r,"precedence"in r),Wr=({children:e,...r})=>{const s=St();return s&&Ee(s)==="head"?_e("meta",e,r):Be("meta",e,r,!1)},ar=(e,{children:r,...s})=>new I(e,s,Ie(r??[])),Kr=e=>(typeof e.action=="function"&&(e.action=et in e.action?e.action[et]:void 0),ar("form",e)),cr=(e,r)=>(typeof r.formAction=="function"&&(r.formAction=et in r.formAction?r.formAction[et]:void 0),ar(e,r)),Vr=e=>cr("input",e),Gr=e=>cr("button",e);const ct=Object.freeze(Object.defineProperty({__proto__:null,button:Gr,form:Kr,input:Vr,link:zr,meta:Wr,script:qr,style:Ur,title:Br},Symbol.toStringTag,{value:"Module"}));var Jr=new Map([["className","class"],["htmlFor","for"],["crossOrigin","crossorigin"],["httpEquiv","http-equiv"],["itemProp","itemprop"],["fetchPriority","fetchpriority"],["noModule","nomodule"],["formAction","formaction"]]),tt=e=>Jr.get(e)||e,or=(e,r)=>{for(const[s,l]of Object.entries(e)){const i=s[0]==="-"||!/[A-Z]/.test(s)?s:s.replace(/[A-Z]/g,n=>`-${n.toLowerCase()}`);r(i,l==null?null:typeof l=="number"?i.match(/^(?:a|border-im|column(?:-c|s)|flex(?:$|-[^b])|grid-(?:ar|[^a])|font-w|li|or|sca|st|ta|wido|z)|ty$/)?`${l}`:`${l}px`:l)}},Te=void 0,St=()=>Te,Xr=e=>/[A-Z]/.test(e)&&e.match(/^(?:al|basel|clip(?:Path|Rule)$|co|do|fill|fl|fo|gl|let|lig|i|marker[EMS]|o|pai|pointe|sh|st[or]|text[^L]|tr|u|ve|w)/)?e.replace(/([A-Z])/g,"-$1").toLowerCase():e,Yr=["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],Zr=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","download","formnovalidate","hidden","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"],Ct=(e,r)=>{for(let s=0,l=e.length;s<l;s++){const i=e[s];if(typeof i=="string")ee(i,r);else{if(typeof i=="boolean"||i===null||i===void 0)continue;i instanceof I?i.toStringToBuffer(r):typeof i=="number"||i.isEscaped?r[0]+=i:i instanceof Promise?r.unshift("",i):Ct(i,r)}}},I=class{constructor(e,r,s){p(this,"tag");p(this,"props");p(this,"key");p(this,"children");p(this,"isEscaped",!0);p(this,"localContexts");this.tag=e,this.props=r,this.children=s}get type(){return this.tag}get ref(){return this.props.ref||null}toString(){var r,s;const e=[""];(r=this.localContexts)==null||r.forEach(([l,i])=>{l.values.push(i)});try{this.toStringToBuffer(e)}finally{(s=this.localContexts)==null||s.forEach(([l])=>{l.values.pop()})}return e.length===1?"callbacks"in e?rr(M(e[0],e.callbacks)).toString():e[0]:tr(e,e.callbacks)}toStringToBuffer(e){const r=this.tag,s=this.props;let{children:l}=this;e[0]+=`<${r}`;const i=Te&&Ee(Te)==="svg"?n=>Xr(tt(n)):n=>tt(n);for(let[n,a]of Object.entries(s))if(n=i(n),n!=="children"){if(n==="style"&&typeof a=="object"){let c="";or(a,(o,d)=>{d!=null&&(c+=`${c?";":""}${o}:${d}`)}),e[0]+=' style="',ee(c,e),e[0]+='"'}else if(typeof a=="string")e[0]+=` ${n}="`,ee(a,e),e[0]+='"';else if(a!=null)if(typeof a=="number"||a.isEscaped)e[0]+=` ${n}="${a}"`;else if(typeof a=="boolean"&&Zr.includes(n))a&&(e[0]+=` ${n}=""`);else if(n==="dangerouslySetInnerHTML"){if(l.length>0)throw new Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");l=[M(a.__html)]}else if(a instanceof Promise)e[0]+=` ${n}="`,e.unshift('"',a);else if(typeof a=="function"){if(!n.startsWith("on")&&n!=="ref")throw new Error(`Invalid prop '${n}' of type 'function' supplied to '${r}'.`)}else e[0]+=` ${n}="`,ee(a.toString(),e),e[0]+='"'}if(Yr.includes(r)&&l.length===0){e[0]+="/>";return}e[0]+=">",Ct(l,e),e[0]+=`</${r}>`}},ot=class extends I{toStringToBuffer(e){const{children:r}=this,s={...this.props};r.length&&(s.children=r.length===1?r[0]:r);const l=this.tag.call(null,s);if(!(typeof l=="boolean"||l==null))if(l instanceof Promise)if(we.length===0)e.unshift("",l);else{const i=we.map(n=>[n,n.values.at(-1)]);e.unshift("",l.then(n=>(n instanceof I&&(n.localContexts=i),n)))}else l instanceof I?l.toStringToBuffer(e):typeof l=="number"||l.isEscaped?(e[0]+=l,l.callbacks&&(e.callbacks||(e.callbacks=[]),e.callbacks.push(...l.callbacks))):ee(l,e)}},dr=class extends I{toStringToBuffer(e){Ct(this.children,e)}},Ft=(e,r,...s)=>{r??(r={}),s.length&&(r.children=s.length===1?s[0]:s);const l=r.key;delete r.key;const i=Ge(e,r,s);return i.key=l,i},Mt=!1,Ge=(e,r,s)=>{if(!Mt){for(const l in mt)ct[l][kt]=mt[l];Mt=!0}return typeof e=="function"?new ot(e,r,s):ct[e]?new ot(ct[e],r,s):e==="svg"||e==="head"?(Te||(Te=Et("")),new I(e,r,[new ot(Te,{value:e},s)])):new I(e,r,s)},Qr=({children:e})=>new dr("",{children:e},Array.isArray(e)?e:e?[e]:[]);function t(e,r,s){let l;if(!r||!("children"in r))l=Ge(e,r,[]);else{const i=r.children;l=Array.isArray(i)?Ge(e,r,i):Ge(e,r,[i])}return l.key=s,l}var Nt=(e,r,s)=>(l,i)=>{let n=-1;return a(0);async function a(c){if(c<=n)throw new Error("next() called multiple times");n=c;let o,d=!1,f;if(e[c]?(f=e[c][0][0],l.req.routeIndex=c):f=c===e.length&&i||void 0,f)try{o=await f(l,()=>a(c+1))}catch(u){if(u instanceof Error&&r)l.error=u,o=await r(u,l),d=!0;else throw u}else l.finalized===!1&&s&&(o=await s(l));return o&&(l.finalized===!1||d)&&(l.res=o),l}},es=Symbol(),ts=async(e,r=Object.create(null))=>{const{all:s=!1,dot:l=!1}=r,n=(e instanceof br?e.raw.headers:e.headers).get("Content-Type");return n!=null&&n.startsWith("multipart/form-data")||n!=null&&n.startsWith("application/x-www-form-urlencoded")?rs(e,{all:s,dot:l}):{}};async function rs(e,r){const s=await e.formData();return s?ss(s,r):{}}function ss(e,r){const s=Object.create(null);return e.forEach((l,i)=>{r.all||i.endsWith("[]")?ls(s,i,l):s[i]=l}),r.dot&&Object.entries(s).forEach(([l,i])=>{l.includes(".")&&(is(s,l,i),delete s[l])}),s}var ls=(e,r,s)=>{e[r]!==void 0?Array.isArray(e[r])?e[r].push(s):e[r]=[e[r],s]:r.endsWith("[]")?e[r]=[s]:e[r]=s},is=(e,r,s)=>{let l=e;const i=r.split(".");i.forEach((n,a)=>{a===i.length-1?l[n]=s:((!l[n]||typeof l[n]!="object"||Array.isArray(l[n])||l[n]instanceof File)&&(l[n]=Object.create(null)),l=l[n])})},hr=e=>{const r=e.split("/");return r[0]===""&&r.shift(),r},ns=e=>{const{groups:r,path:s}=as(e),l=hr(s);return cs(l,r)},as=e=>{const r=[];return e=e.replace(/\{[^}]+\}/g,(s,l)=>{const i=`@${l}`;return r.push([i,s]),i}),{groups:r,path:e}},cs=(e,r)=>{for(let s=r.length-1;s>=0;s--){const[l]=r[s];for(let i=e.length-1;i>=0;i--)if(e[i].includes(l)){e[i]=e[i].replace(l,r[s][1]);break}}return e},ze={},os=(e,r)=>{if(e==="*")return"*";const s=e.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);if(s){const l=`${e}#${r}`;return ze[l]||(s[2]?ze[l]=r&&r[0]!==":"&&r[0]!=="*"?[l,s[1],new RegExp(`^${s[2]}(?=/${r})`)]:[e,s[1],new RegExp(`^${s[2]}$`)]:ze[l]=[e,s[1],!0]),ze[l]}return null},Pt=(e,r)=>{try{return r(e)}catch{return e.replace(/(?:%[0-9A-Fa-f]{2})+/g,s=>{try{return r(s)}catch{return s}})}},ds=e=>Pt(e,decodeURI),fr=e=>{const r=e.url,s=r.indexOf("/",r.indexOf(":")+4);let l=s;for(;l<r.length;l++){const i=r.charCodeAt(l);if(i===37){const n=r.indexOf("?",l),a=r.indexOf("#",l),c=n===-1?a===-1?void 0:a:a===-1?n:Math.min(n,a),o=r.slice(s,c);return ds(o.includes("%25")?o.replace(/%25/g,"%2525"):o)}else if(i===63||i===35)break}return r.slice(s,l)},hs=e=>{const r=fr(e);return r.length>1&&r.at(-1)==="/"?r.slice(0,-1):r},he=(e,r,...s)=>(s.length&&(r=he(r,...s)),`${(e==null?void 0:e[0])==="/"?"":"/"}${e}${r==="/"?"":`${(e==null?void 0:e.at(-1))==="/"?"":"/"}${(r==null?void 0:r[0])==="/"?r.slice(1):r}`}`),ur=e=>{if(e.charCodeAt(e.length-1)!==63||!e.includes(":"))return null;const r=e.split("/"),s=[];let l="";return r.forEach(i=>{if(i!==""&&!/\:/.test(i))l+="/"+i;else if(/\:/.test(i))if(/\?/.test(i)){s.length===0&&l===""?s.push("/"):s.push(l);const n=i.replace("?","");l+="/"+n,s.push(l)}else l+="/"+i}),s.filter((i,n,a)=>a.indexOf(i)===n)},dt=e=>/[%+]/.test(e)?(e.indexOf("+")!==-1&&(e=e.replace(/\+/g," ")),e.indexOf("%")!==-1?Pt(e,gr):e):e,xr=(e,r,s)=>{let l;if(!s&&r&&!/[%+]/.test(r)){let a=e.indexOf("?",8);if(a===-1)return;for(e.startsWith(r,a+1)||(a=e.indexOf(`&${r}`,a+1));a!==-1;){const c=e.charCodeAt(a+r.length+1);if(c===61){const o=a+r.length+2,d=e.indexOf("&",o);return dt(e.slice(o,d===-1?void 0:d))}else if(c==38||isNaN(c))return"";a=e.indexOf(`&${r}`,a+1)}if(l=/[%+]/.test(e),!l)return}const i={};l??(l=/[%+]/.test(e));let n=e.indexOf("?",8);for(;n!==-1;){const a=e.indexOf("&",n+1);let c=e.indexOf("=",n);c>a&&a!==-1&&(c=-1);let o=e.slice(n+1,c===-1?a===-1?void 0:a:c);if(l&&(o=dt(o)),n=a,o==="")continue;let d;c===-1?d="":(d=e.slice(c+1,a===-1?void 0:a),l&&(d=dt(d))),s?(i[o]&&Array.isArray(i[o])||(i[o]=[]),i[o].push(d)):i[o]??(i[o]=d)}return r?i[r]:i},fs=xr,us=(e,r)=>xr(e,r,!0),gr=decodeURIComponent,Dt=e=>Pt(e,gr),xe,F,K,pr,mr,yt,G,Gt,br=(Gt=class{constructor(e,r="/",s=[[]]){k(this,K);p(this,"raw");k(this,xe);k(this,F);p(this,"routeIndex",0);p(this,"path");p(this,"bodyCache",{});k(this,G,e=>{const{bodyCache:r,raw:s}=this,l=r[e];if(l)return l;const i=Object.keys(r)[0];return i?r[i].then(n=>(i==="json"&&(n=JSON.stringify(n)),new Response(n)[e]())):r[e]=s[e]()});this.raw=e,this.path=r,v(this,F,s),v(this,xe,{})}param(e){return e?S(this,K,pr).call(this,e):S(this,K,mr).call(this)}query(e){return fs(this.url,e)}queries(e){return us(this.url,e)}header(e){if(e)return this.raw.headers.get(e)??void 0;const r={};return this.raw.headers.forEach((s,l)=>{r[l]=s}),r}async parseBody(e){var r;return(r=this.bodyCache).parsedBody??(r.parsedBody=await ts(this,e))}json(){return h(this,G).call(this,"text").then(e=>JSON.parse(e))}text(){return h(this,G).call(this,"text")}arrayBuffer(){return h(this,G).call(this,"arrayBuffer")}blob(){return h(this,G).call(this,"blob")}formData(){return h(this,G).call(this,"formData")}addValidatedData(e,r){h(this,xe)[e]=r}valid(e){return h(this,xe)[e]}get url(){return this.raw.url}get method(){return this.raw.method}get[es](){return h(this,F)}get matchedRoutes(){return h(this,F)[0].map(([[,e]])=>e)}get routePath(){return h(this,F)[0].map(([[,e]])=>e)[this.routeIndex].path}},xe=new WeakMap,F=new WeakMap,K=new WeakSet,pr=function(e){const r=h(this,F)[0][this.routeIndex][1][e],s=S(this,K,yt).call(this,r);return s&&/\%/.test(s)?Dt(s):s},mr=function(){const e={},r=Object.keys(h(this,F)[0][this.routeIndex][1]);for(const s of r){const l=S(this,K,yt).call(this,h(this,F)[0][this.routeIndex][1][s]);l!==void 0&&(e[s]=/\%/.test(l)?Dt(l):l)}return e},yt=function(e){return h(this,F)[1]?h(this,F)[1][e]:e},G=new WeakMap,Gt),xs="text/plain; charset=UTF-8",ht=(e,r)=>({"Content-Type":e,...r}),Le,Fe,q,ge,U,L,Me,be,pe,se,Ne,De,J,fe,Jt,gs=(Jt=class{constructor(e,r){k(this,J);k(this,Le);k(this,Fe);p(this,"env",{});k(this,q);p(this,"finalized",!1);p(this,"error");k(this,ge);k(this,U);k(this,L);k(this,Me);k(this,be);k(this,pe);k(this,se);k(this,Ne);k(this,De);p(this,"render",(...e)=>(h(this,be)??v(this,be,r=>this.html(r)),h(this,be).call(this,...e)));p(this,"setLayout",e=>v(this,Me,e));p(this,"getLayout",()=>h(this,Me));p(this,"setRenderer",e=>{v(this,be,e)});p(this,"header",(e,r,s)=>{this.finalized&&v(this,L,new Response(h(this,L).body,h(this,L)));const l=h(this,L)?h(this,L).headers:h(this,se)??v(this,se,new Headers);r===void 0?l.delete(e):s!=null&&s.append?l.append(e,r):l.set(e,r)});p(this,"status",e=>{v(this,ge,e)});p(this,"set",(e,r)=>{h(this,q)??v(this,q,new Map),h(this,q).set(e,r)});p(this,"get",e=>h(this,q)?h(this,q).get(e):void 0);p(this,"newResponse",(...e)=>S(this,J,fe).call(this,...e));p(this,"body",(e,r,s)=>S(this,J,fe).call(this,e,r,s));p(this,"text",(e,r,s)=>!h(this,se)&&!h(this,ge)&&!r&&!s&&!this.finalized?new Response(e):S(this,J,fe).call(this,e,r,ht(xs,s)));p(this,"json",(e,r,s)=>S(this,J,fe).call(this,JSON.stringify(e),r,ht("application/json",s)));p(this,"html",(e,r,s)=>{const l=i=>S(this,J,fe).call(this,i,r,ht("text/html; charset=UTF-8",s));return typeof e=="object"?sr(e,er.Stringify,!1,{}).then(l):l(e)});p(this,"redirect",(e,r)=>{const s=String(e);return this.header("Location",/[^\x00-\xFF]/.test(s)?encodeURI(s):s),this.newResponse(null,r??302)});p(this,"notFound",()=>(h(this,pe)??v(this,pe,()=>new Response),h(this,pe).call(this,this)));v(this,Le,e),r&&(v(this,U,r.executionCtx),this.env=r.env,v(this,pe,r.notFoundHandler),v(this,De,r.path),v(this,Ne,r.matchResult))}get req(){return h(this,Fe)??v(this,Fe,new br(h(this,Le),h(this,De),h(this,Ne))),h(this,Fe)}get event(){if(h(this,U)&&"respondWith"in h(this,U))return h(this,U);throw Error("This context has no FetchEvent")}get executionCtx(){if(h(this,U))return h(this,U);throw Error("This context has no ExecutionContext")}get res(){return h(this,L)||v(this,L,new Response(null,{headers:h(this,se)??v(this,se,new Headers)}))}set res(e){if(h(this,L)&&e){e=new Response(e.body,e);for(const[r,s]of h(this,L).headers.entries())if(r!=="content-type")if(r==="set-cookie"){const l=h(this,L).headers.getSetCookie();e.headers.delete("set-cookie");for(const i of l)e.headers.append("set-cookie",i)}else e.headers.set(r,s)}v(this,L,e),this.finalized=!0}get var(){return h(this,q)?Object.fromEntries(h(this,q)):{}}},Le=new WeakMap,Fe=new WeakMap,q=new WeakMap,ge=new WeakMap,U=new WeakMap,L=new WeakMap,Me=new WeakMap,be=new WeakMap,pe=new WeakMap,se=new WeakMap,Ne=new WeakMap,De=new WeakMap,J=new WeakSet,fe=function(e,r,s){const l=h(this,L)?new Headers(h(this,L).headers):h(this,se)??new Headers;if(typeof r=="object"&&"headers"in r){const n=r.headers instanceof Headers?r.headers:new Headers(r.headers);for(const[a,c]of n)a.toLowerCase()==="set-cookie"?l.append(a,c):l.set(a,c)}if(s)for(const[n,a]of Object.entries(s))if(typeof a=="string")l.set(n,a);else{l.delete(n);for(const c of a)l.append(n,c)}const i=typeof r=="number"?r:(r==null?void 0:r.status)??h(this,ge);return new Response(e,{status:i,headers:l})},Jt),j="ALL",bs="all",ps=["get","post","put","delete","options","patch"],yr="Can not add a route since the matcher is already built.",vr=class extends Error{},ms="__COMPOSED_HANDLER",ys=e=>e.text("404 Not Found",404),Ht=(e,r)=>{if("getResponse"in e){const s=e.getResponse();return r.newResponse(s.body,s)}return console.error(e),r.text("Internal Server Error",500)},N,T,wr,D,te,Je,Xe,me,vs=(me=class{constructor(r={}){k(this,T);p(this,"get");p(this,"post");p(this,"put");p(this,"delete");p(this,"options");p(this,"patch");p(this,"all");p(this,"on");p(this,"use");p(this,"router");p(this,"getPath");p(this,"_basePath","/");k(this,N,"/");p(this,"routes",[]);k(this,D,ys);p(this,"errorHandler",Ht);p(this,"onError",r=>(this.errorHandler=r,this));p(this,"notFound",r=>(v(this,D,r),this));p(this,"fetch",(r,...s)=>S(this,T,Xe).call(this,r,s[1],s[0],r.method));p(this,"request",(r,s,l,i)=>r instanceof Request?this.fetch(s?new Request(r,s):r,l,i):(r=r.toString(),this.fetch(new Request(/^https?:\/\//.test(r)?r:`http://localhost${he("/",r)}`,s),l,i)));p(this,"fire",()=>{addEventListener("fetch",r=>{r.respondWith(S(this,T,Xe).call(this,r.request,r,void 0,r.request.method))})});[...ps,bs].forEach(n=>{this[n]=(a,...c)=>(typeof a=="string"?v(this,N,a):S(this,T,te).call(this,n,h(this,N),a),c.forEach(o=>{S(this,T,te).call(this,n,h(this,N),o)}),this)}),this.on=(n,a,...c)=>{for(const o of[a].flat()){v(this,N,o);for(const d of[n].flat())c.map(f=>{S(this,T,te).call(this,d.toUpperCase(),h(this,N),f)})}return this},this.use=(n,...a)=>(typeof n=="string"?v(this,N,n):(v(this,N,"*"),a.unshift(n)),a.forEach(c=>{S(this,T,te).call(this,j,h(this,N),c)}),this);const{strict:l,...i}=r;Object.assign(this,i),this.getPath=l??!0?r.getPath??fr:hs}route(r,s){const l=this.basePath(r);return s.routes.map(i=>{var a;let n;s.errorHandler===Ht?n=i.handler:(n=async(c,o)=>(await Nt([],s.errorHandler)(c,()=>i.handler(c,o))).res,n[ms]=i.handler),S(a=l,T,te).call(a,i.method,i.path,n)}),this}basePath(r){const s=S(this,T,wr).call(this);return s._basePath=he(this._basePath,r),s}mount(r,s,l){let i,n;l&&(typeof l=="function"?n=l:(n=l.optionHandler,l.replaceRequest===!1?i=o=>o:i=l.replaceRequest));const a=n?o=>{const d=n(o);return Array.isArray(d)?d:[d]}:o=>{let d;try{d=o.executionCtx}catch{}return[o.env,d]};i||(i=(()=>{const o=he(this._basePath,r),d=o==="/"?0:o.length;return f=>{const u=new URL(f.url);return u.pathname=u.pathname.slice(d)||"/",new Request(u,f)}})());const c=async(o,d)=>{const f=await s(i(o.req.raw),...a(o));if(f)return f;await d()};return S(this,T,te).call(this,j,he(r,"*"),c),this}},N=new WeakMap,T=new WeakSet,wr=function(){const r=new me({router:this.router,getPath:this.getPath});return r.errorHandler=this.errorHandler,v(r,D,h(this,D)),r.routes=this.routes,r},D=new WeakMap,te=function(r,s,l){r=r.toUpperCase(),s=he(this._basePath,s);const i={basePath:this._basePath,path:s,method:r,handler:l};this.router.add(r,s,[l,i]),this.routes.push(i)},Je=function(r,s){if(r instanceof Error)return this.errorHandler(r,s);throw r},Xe=function(r,s,l,i){if(i==="HEAD")return(async()=>new Response(null,await S(this,T,Xe).call(this,r,s,l,"GET")))();const n=this.getPath(r,{env:l}),a=this.router.match(i,n),c=new gs(r,{path:n,matchResult:a,env:l,executionCtx:s,notFoundHandler:h(this,D)});if(a[0].length===1){let d;try{d=a[0][0][0][0](c,async()=>{c.res=await h(this,D).call(this,c)})}catch(f){return S(this,T,Je).call(this,f,c)}return d instanceof Promise?d.then(f=>f||(c.finalized?c.res:h(this,D).call(this,c))).catch(f=>S(this,T,Je).call(this,f,c)):d??h(this,D).call(this,c)}const o=Nt(a[0],this.errorHandler,h(this,D));return(async()=>{try{const d=await o(c);if(!d.finalized)throw new Error("Context is not finalized. Did you forget to return a Response object or `await next()`?");return d.res}catch(d){return S(this,T,Je).call(this,d,c)}})()},me),kr=[];function ws(e,r){const s=this.buildAllMatchers(),l=((i,n)=>{const a=s[i]||s[j],c=a[2][n];if(c)return c;const o=n.match(a[0]);if(!o)return[[],kr];const d=o.indexOf("",1);return[a[1][d],o]});return this.match=l,l(e,r)}var rt="[^/]+",Ae=".*",je="(?:|/.*)",ue=Symbol(),ks=new Set(".\\+*[^]$()");function Es(e,r){return e.length===1?r.length===1?e<r?-1:1:-1:r.length===1||e===Ae||e===je?1:r===Ae||r===je?-1:e===rt?1:r===rt?-1:e.length===r.length?e<r?-1:1:r.length-e.length}var le,ie,H,ce,Ss=(ce=class{constructor(){k(this,le);k(this,ie);k(this,H,Object.create(null))}insert(r,s,l,i,n){if(r.length===0){if(h(this,le)!==void 0)throw ue;if(n)return;v(this,le,s);return}const[a,...c]=r,o=a==="*"?c.length===0?["","",Ae]:["","",rt]:a==="/*"?["","",je]:a.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);let d;if(o){const f=o[1];let u=o[2]||rt;if(f&&o[2]&&(u===".*"||(u=u.replace(/^\((?!\?:)(?=[^)]+\)$)/,"(?:"),/\((?!\?:)/.test(u))))throw ue;if(d=h(this,H)[u],!d){if(Object.keys(h(this,H)).some(x=>x!==Ae&&x!==je))throw ue;if(n)return;d=h(this,H)[u]=new ce,f!==""&&v(d,ie,i.varIndex++)}!n&&f!==""&&l.push([f,h(d,ie)])}else if(d=h(this,H)[a],!d){if(Object.keys(h(this,H)).some(f=>f.length>1&&f!==Ae&&f!==je))throw ue;if(n)return;d=h(this,H)[a]=new ce}d.insert(c,s,l,i,n)}buildRegExpStr(){const s=Object.keys(h(this,H)).sort(Es).map(l=>{const i=h(this,H)[l];return(typeof h(i,ie)=="number"?`(${l})@${h(i,ie)}`:ks.has(l)?`\\${l}`:l)+i.buildRegExpStr()});return typeof h(this,le)=="number"&&s.unshift(`#${h(this,le)}`),s.length===0?"":s.length===1?s[0]:"(?:"+s.join("|")+")"}},le=new WeakMap,ie=new WeakMap,H=new WeakMap,ce),st,He,Xt,Cs=(Xt=class{constructor(){k(this,st,{varIndex:0});k(this,He,new Ss)}insert(e,r,s){const l=[],i=[];for(let a=0;;){let c=!1;if(e=e.replace(/\{[^}]+\}/g,o=>{const d=`@\\${a}`;return i[a]=[d,o],a++,c=!0,d}),!c)break}const n=e.match(/(?::[^\/]+)|(?:\/\*$)|./g)||[];for(let a=i.length-1;a>=0;a--){const[c]=i[a];for(let o=n.length-1;o>=0;o--)if(n[o].indexOf(c)!==-1){n[o]=n[o].replace(c,i[a][1]);break}}return h(this,He).insert(n,r,l,h(this,st),s),l}buildRegExp(){let e=h(this,He).buildRegExpStr();if(e==="")return[/^$/,[],[]];let r=0;const s=[],l=[];return e=e.replace(/#(\d+)|@(\d+)|\.\*\$/g,(i,n,a)=>n!==void 0?(s[++r]=Number(n),"$()"):(a!==void 0&&(l[Number(a)]=++r),"")),[new RegExp(`^${e}`),s,l]}},st=new WeakMap,He=new WeakMap,Xt),Ps=[/^$/,[],Object.create(null)],Ye=Object.create(null);function Er(e){return Ye[e]??(Ye[e]=new RegExp(e==="*"?"":`^${e.replace(/\/\*$|([.\\+*[^\]$()])/g,(r,s)=>s?`\\${s}`:"(?:|/.*)")}$`))}function Rs(){Ye=Object.create(null)}function As(e){var d;const r=new Cs,s=[];if(e.length===0)return Ps;const l=e.map(f=>[!/\*|\/:/.test(f[0]),...f]).sort(([f,u],[x,g])=>f?1:x?-1:u.length-g.length),i=Object.create(null);for(let f=0,u=-1,x=l.length;f<x;f++){const[g,m,y]=l[f];g?i[m]=[y.map(([w])=>[w,Object.create(null)]),kr]:u++;let b;try{b=r.insert(m,u,g)}catch(w){throw w===ue?new vr(m):w}g||(s[u]=y.map(([w,E])=>{const P=Object.create(null);for(E-=1;E>=0;E--){const[C,R]=b[E];P[C]=R}return[w,P]}))}const[n,a,c]=r.buildRegExp();for(let f=0,u=s.length;f<u;f++)for(let x=0,g=s[f].length;x<g;x++){const m=(d=s[f][x])==null?void 0:d[1];if(!m)continue;const y=Object.keys(m);for(let b=0,w=y.length;b<w;b++)m[y[b]]=c[m[y[b]]]}const o=[];for(const f in a)o[f]=s[a[f]];return[n,o,i]}function oe(e,r){if(e){for(const s of Object.keys(e).sort((l,i)=>i.length-l.length))if(Er(s).test(r))return[...e[s]]}}var X,Y,lt,Sr,Yt,js=(Yt=class{constructor(){k(this,lt);p(this,"name","RegExpRouter");k(this,X);k(this,Y);p(this,"match",ws);v(this,X,{[j]:Object.create(null)}),v(this,Y,{[j]:Object.create(null)})}add(e,r,s){var c;const l=h(this,X),i=h(this,Y);if(!l||!i)throw new Error(yr);l[e]||[l,i].forEach(o=>{o[e]=Object.create(null),Object.keys(o[j]).forEach(d=>{o[e][d]=[...o[j][d]]})}),r==="/*"&&(r="*");const n=(r.match(/\/:/g)||[]).length;if(/\*$/.test(r)){const o=Er(r);e===j?Object.keys(l).forEach(d=>{var f;(f=l[d])[r]||(f[r]=oe(l[d],r)||oe(l[j],r)||[])}):(c=l[e])[r]||(c[r]=oe(l[e],r)||oe(l[j],r)||[]),Object.keys(l).forEach(d=>{(e===j||e===d)&&Object.keys(l[d]).forEach(f=>{o.test(f)&&l[d][f].push([s,n])})}),Object.keys(i).forEach(d=>{(e===j||e===d)&&Object.keys(i[d]).forEach(f=>o.test(f)&&i[d][f].push([s,n]))});return}const a=ur(r)||[r];for(let o=0,d=a.length;o<d;o++){const f=a[o];Object.keys(i).forEach(u=>{var x;(e===j||e===u)&&((x=i[u])[f]||(x[f]=[...oe(l[u],f)||oe(l[j],f)||[]]),i[u][f].push([s,n-d+o+1]))})}}buildAllMatchers(){const e=Object.create(null);return Object.keys(h(this,Y)).concat(Object.keys(h(this,X))).forEach(r=>{e[r]||(e[r]=S(this,lt,Sr).call(this,r))}),v(this,X,v(this,Y,void 0)),Rs(),e}},X=new WeakMap,Y=new WeakMap,lt=new WeakSet,Sr=function(e){const r=[];let s=e===j;return[h(this,X),h(this,Y)].forEach(l=>{const i=l[e]?Object.keys(l[e]).map(n=>[n,l[e][n]]):[];i.length!==0?(s||(s=!0),r.push(...i)):e!==j&&r.push(...Object.keys(l[j]).map(n=>[n,l[j][n]]))}),s?As(r):null},Yt),Z,z,Zt,Ts=(Zt=class{constructor(e){p(this,"name","SmartRouter");k(this,Z,[]);k(this,z,[]);v(this,Z,e.routers)}add(e,r,s){if(!h(this,z))throw new Error(yr);h(this,z).push([e,r,s])}match(e,r){if(!h(this,z))throw new Error("Fatal error");const s=h(this,Z),l=h(this,z),i=s.length;let n=0,a;for(;n<i;n++){const c=s[n];try{for(let o=0,d=l.length;o<d;o++)c.add(...l[o]);a=c.match(e,r)}catch(o){if(o instanceof vr)continue;throw o}this.match=c.match.bind(c),v(this,Z,[c]),v(this,z,void 0);break}if(n===i)throw new Error("Fatal error");return this.name=`SmartRouter + ${this.activeRouter.name}`,a}get activeRouter(){if(h(this,z)||h(this,Z).length!==1)throw new Error("No active router has been determined yet.");return h(this,Z)[0]}},Z=new WeakMap,z=new WeakMap,Zt),Pe=Object.create(null),Q,$,ne,ye,O,W,re,ve,Os=(ve=class{constructor(r,s,l){k(this,W);k(this,Q);k(this,$);k(this,ne);k(this,ye,0);k(this,O,Pe);if(v(this,$,l||Object.create(null)),v(this,Q,[]),r&&s){const i=Object.create(null);i[r]={handler:s,possibleKeys:[],score:0},v(this,Q,[i])}v(this,ne,[])}insert(r,s,l){v(this,ye,++Tt(this,ye)._);let i=this;const n=ns(s),a=[];for(let c=0,o=n.length;c<o;c++){const d=n[c],f=n[c+1],u=os(d,f),x=Array.isArray(u)?u[0]:d;if(x in h(i,$)){i=h(i,$)[x],u&&a.push(u[1]);continue}h(i,$)[x]=new ve,u&&(h(i,ne).push(u),a.push(u[1])),i=h(i,$)[x]}return h(i,Q).push({[r]:{handler:l,possibleKeys:a.filter((c,o,d)=>d.indexOf(c)===o),score:h(this,ye)}}),i}search(r,s){var o;const l=[];v(this,O,Pe);let n=[this];const a=hr(s),c=[];for(let d=0,f=a.length;d<f;d++){const u=a[d],x=d===f-1,g=[];for(let m=0,y=n.length;m<y;m++){const b=n[m],w=h(b,$)[u];w&&(v(w,O,h(b,O)),x?(h(w,$)["*"]&&l.push(...S(this,W,re).call(this,h(w,$)["*"],r,h(b,O))),l.push(...S(this,W,re).call(this,w,r,h(b,O)))):g.push(w));for(let E=0,P=h(b,ne).length;E<P;E++){const C=h(b,ne)[E],R=h(b,O)===Pe?{}:{...h(b,O)};if(C==="*"){const V=h(b,$)["*"];V&&(l.push(...S(this,W,re).call(this,V,r,h(b,O))),v(V,O,R),g.push(V));continue}const[Se,Ue,Ce]=C;if(!u&&!(Ce instanceof RegExp))continue;const _=h(b,$)[Se],Mr=a.slice(d).join("/");if(Ce instanceof RegExp){const V=Ce.exec(Mr);if(V){if(R[Ue]=V[0],l.push(...S(this,W,re).call(this,_,r,h(b,O),R)),Object.keys(h(_,$)).length){v(_,O,R);const nt=((o=V[0].match(/\//))==null?void 0:o.length)??0;(c[nt]||(c[nt]=[])).push(_)}continue}}(Ce===!0||Ce.test(u))&&(R[Ue]=u,x?(l.push(...S(this,W,re).call(this,_,r,R,h(b,O))),h(_,$)["*"]&&l.push(...S(this,W,re).call(this,h(_,$)["*"],r,R,h(b,O)))):(v(_,O,R),g.push(_)))}}n=g.concat(c.shift()??[])}return l.length>1&&l.sort((d,f)=>d.score-f.score),[l.map(({handler:d,params:f})=>[d,f])]}},Q=new WeakMap,$=new WeakMap,ne=new WeakMap,ye=new WeakMap,O=new WeakMap,W=new WeakSet,re=function(r,s,l,i){const n=[];for(let a=0,c=h(r,Q).length;a<c;a++){const o=h(r,Q)[a],d=o[s]||o[j],f={};if(d!==void 0&&(d.params=Object.create(null),n.push(d),l!==Pe||i&&i!==Pe))for(let u=0,x=d.possibleKeys.length;u<x;u++){const g=d.possibleKeys[u],m=f[d.score];d.params[g]=i!=null&&i[g]&&!m?i[g]:l[g]??(i==null?void 0:i[g]),f[d.score]=!0}}return n},ve),ae,Qt,$s=(Qt=class{constructor(){p(this,"name","TrieRouter");k(this,ae);v(this,ae,new Os)}add(e,r,s){const l=ur(r);if(l){for(let i=0,n=l.length;i<n;i++)h(this,ae).insert(e,l[i],s);return}h(this,ae).insert(e,r,s)}match(e,r){return h(this,ae).search(e,r)}},ae=new WeakMap,Qt),Cr=class extends vs{constructor(e={}){super(e),this.router=e.router??new Ts({routers:[new js,new $s]})}},Oe="_hp",Ls={Change:"Input",DoubleClick:"DblClick"},Fs={svg:"2000/svg",math:"1998/Math/MathML"},$e=[],vt=new WeakMap,ke=void 0,Ms=()=>ke,B=e=>"t"in e,ft={onClick:["click",!1]},It=e=>{if(!e.startsWith("on"))return;if(ft[e])return ft[e];const r=e.match(/^on([A-Z][a-zA-Z]+?(?:PointerCapture)?)(Capture)?$/);if(r){const[,s,l]=r;return ft[e]=[(Ls[s]||s).toLowerCase(),!!l]}},_t=(e,r)=>ke&&e instanceof SVGElement&&/[A-Z]/.test(r)&&(r in e.style||r.match(/^(?:o|pai|str|u|ve)/))?r.replace(/([A-Z])/g,"-$1").toLowerCase():r,Ns=(e,r,s)=>{var l;r||(r={});for(let i in r){const n=r[i];if(i!=="children"&&(!s||s[i]!==n)){i=tt(i);const a=It(i);if(a){if((s==null?void 0:s[i])!==n&&(s&&e.removeEventListener(a[0],s[i],a[1]),n!=null)){if(typeof n!="function")throw new Error(`Event handler for "${i}" is not a function`);e.addEventListener(a[0],n,a[1])}}else if(i==="dangerouslySetInnerHTML"&&n)e.innerHTML=n.__html;else if(i==="ref"){let c;typeof n=="function"?c=n(e)||(()=>n(null)):n&&"current"in n&&(n.current=e,c=()=>n.current=null),vt.set(e,c)}else if(i==="style"){const c=e.style;typeof n=="string"?c.cssText=n:(c.cssText="",n!=null&&or(n,c.setProperty.bind(c)))}else{if(i==="value"){const o=e.nodeName;if(o==="INPUT"||o==="TEXTAREA"||o==="SELECT"){if(e.value=n==null||n===!1?null:n,o==="TEXTAREA"){e.textContent=n;continue}else if(o==="SELECT"){e.selectedIndex===-1&&(e.selectedIndex=0);continue}}}else(i==="checked"&&e.nodeName==="INPUT"||i==="selected"&&e.nodeName==="OPTION")&&(e[i]=n);const c=_t(e,i);n==null||n===!1?e.removeAttribute(c):n===!0?e.setAttribute(c,""):typeof n=="string"||typeof n=="number"?e.setAttribute(c,n):e.setAttribute(c,n.toString())}}}if(s)for(let i in s){const n=s[i];if(i!=="children"&&!(i in r)){i=tt(i);const a=It(i);a?e.removeEventListener(a[0],n,a[1]):i==="ref"?(l=vt.get(e))==null||l():e.removeAttribute(_t(e,i))}}},Ds=(e,r)=>{r[A][0]=0,$e.push([e,r]);const s=r.tag[kt]||r.tag,l=s.defaultProps?{...s.defaultProps,...r.props}:r.props;try{return[s.call(null,l)]}finally{$e.pop()}},Pr=(e,r,s,l,i)=>{var n,a;(n=e.vR)!=null&&n.length&&(l.push(...e.vR),delete e.vR),typeof e.tag=="function"&&((a=e[A][1][Tr])==null||a.forEach(c=>i.push(c))),e.vC.forEach(c=>{var o;if(B(c))s.push(c);else if(typeof c.tag=="function"||c.tag===""){c.c=r;const d=s.length;if(Pr(c,r,s,l,i),c.s){for(let f=d;f<s.length;f++)s[f].s=!0;c.s=!1}}else s.push(c),(o=c.vR)!=null&&o.length&&(l.push(...c.vR),delete c.vR)})},Hs=e=>{var r;for(;e&&(e.tag===Oe||!e.e);)e=e.tag===Oe||!((r=e.vC)!=null&&r[0])?e.nN:e.vC[0];return e==null?void 0:e.e},Rr=e=>{var r,s,l,i,n,a;B(e)||((s=(r=e[A])==null?void 0:r[1][Tr])==null||s.forEach(c=>{var o;return(o=c[2])==null?void 0:o.call(c)}),(l=vt.get(e.e))==null||l(),e.p===2&&((i=e.vC)==null||i.forEach(c=>c.p=2)),(n=e.vC)==null||n.forEach(Rr)),e.p||((a=e.e)==null||a.remove(),delete e.e),typeof e.tag=="function"&&(Re.delete(e),Ze.delete(e),delete e[A][3],e.a=!0)},Ar=(e,r,s)=>{e.c=r,jr(e,r,s)},Bt=(e,r)=>{if(r){for(let s=0,l=e.length;s<l;s++)if(e[s]===r)return s}},qt=Symbol(),jr=(e,r,s)=>{var d;const l=[],i=[],n=[];Pr(e,r,l,i,n),i.forEach(Rr);const a=s?void 0:r.childNodes;let c,o=null;if(s)c=-1;else if(!a.length)c=0;else{const f=Bt(a,Hs(e.nN));f!==void 0?(o=a[f],c=f):c=Bt(a,(d=l.find(u=>u.tag!==Oe&&u.e))==null?void 0:d.e)??-1,c===-1&&(s=!0)}for(let f=0,u=l.length;f<u;f++,c++){const x=l[f];let g;if(x.s&&x.e)g=x.e,x.s=!1;else{const m=s||!x.e;B(x)?(x.e&&x.d&&(x.e.textContent=x.t),x.d=!1,g=x.e||(x.e=document.createTextNode(x.t))):(g=x.e||(x.e=x.n?document.createElementNS(x.n,x.tag):document.createElement(x.tag)),Ns(g,x.props,x.pP),jr(x,g,m))}x.tag===Oe?c--:s?g.parentNode||r.appendChild(g):a[c]!==g&&a[c-1]!==g&&(a[c+1]===g?r.appendChild(a[c]):r.insertBefore(g,o||a[c]||null))}if(e.pP&&(e.pP=void 0),n.length){const f=[],u=[];n.forEach(([,x,,g,m])=>{x&&f.push(x),g&&u.push(g),m==null||m()}),f.forEach(x=>x()),u.length&&requestAnimationFrame(()=>{u.forEach(x=>x())})}},Is=(e,r)=>!!(e&&e.length===r.length&&e.every((s,l)=>s[1]===r[l][1])),Ze=new WeakMap,wt=(e,r,s)=>{var n,a,c,o,d,f;const l=!s&&r.pC;s&&(r.pC||(r.pC=r.vC));let i;try{s||(s=typeof r.tag=="function"?Ds(e,r):Ie(r.props.children)),((n=s[0])==null?void 0:n.tag)===""&&s[0][pt]&&(i=s[0][pt],e[5].push([e,i,r]));const u=l?[...r.pC]:r.vC?[...r.vC]:void 0,x=[];let g;for(let m=0;m<s.length;m++){Array.isArray(s[m])&&s.splice(m,1,...s[m].flat());let y=_s(s[m]);if(y){typeof y.tag=="function"&&!y.tag[lr]&&(we.length>0&&(y[A][2]=we.map(w=>[w,w.values.at(-1)])),(a=e[5])!=null&&a.length&&(y[A][3]=e[5].at(-1)));let b;if(u&&u.length){const w=u.findIndex(B(y)?E=>B(E):y.key!==void 0?E=>E.key===y.key&&E.tag===y.tag:E=>E.tag===y.tag);w!==-1&&(b=u[w],u.splice(w,1))}if(b)if(B(y))b.t!==y.t&&(b.t=y.t,b.d=!0),y=b;else{const w=b.pP=b.props;if(b.props=y.props,b.f||(b.f=y.f||r.f),typeof y.tag=="function"){const E=b[A][2];b[A][2]=y[A][2]||[],b[A][3]=y[A][3],!b.f&&((b.o||b)===y.o||(o=(c=b.tag)[_r])!=null&&o.call(c,w,b.props))&&Is(E,b[A][2])&&(b.s=!0)}y=b}else if(!B(y)&&ke){const w=Ee(ke);w&&(y.n=w)}if(!B(y)&&!y.s&&(wt(e,y),delete y.f),x.push(y),g&&!g.s&&!y.s)for(let w=g;w&&!B(w);w=(d=w.vC)==null?void 0:d.at(-1))w.nN=y;g=y}}r.vR=l?[...r.vC,...u||[]]:u||[],r.vC=x,l&&delete r.pC}catch(u){if(r.f=!0,u===qt){if(i)return;throw u}const[x,g,m]=((f=r[A])==null?void 0:f[3])||[];if(g){const y=()=>Qe([0,!1,e[2]],m),b=Ze.get(m)||[];b.push(y),Ze.set(m,b);const w=g(u,()=>{const E=Ze.get(m);if(E){const P=E.indexOf(y);if(P!==-1)return E.splice(P,1),y()}});if(w){if(e[0]===1)e[1]=!0;else if(wt(e,m,[w]),(g.length===1||e!==x)&&m.c){Ar(m,m.c,!1);return}throw qt}}throw u}finally{i&&e[5].pop()}},_s=e=>{if(!(e==null||typeof e=="boolean")){if(typeof e=="string"||typeof e=="number")return{t:e.toString(),d:!0};if("vR"in e&&(e={tag:e.tag,props:e.props,key:e.key,f:e.f,type:e.tag,ref:e.props.ref,o:e.o||e}),typeof e.tag=="function")e[A]=[0,[]];else{const r=Fs[e.tag];r&&(ke||(ke=nr("")),e.props.children=[{tag:ke,props:{value:e.n=`http://www.w3.org/${r}`,children:e.props.children}}])}return e}},Ut=(e,r)=>{var s,l;(s=r[A][2])==null||s.forEach(([i,n])=>{i.values.push(n)});try{wt(e,r,void 0)}catch{return}if(r.a){delete r.a;return}(l=r[A][2])==null||l.forEach(([i])=>{i.values.pop()}),(e[0]!==1||!e[1])&&Ar(r,r.c,!1)},Re=new WeakMap,zt=[],Qe=async(e,r)=>{e[5]||(e[5]=[]);const s=Re.get(r);s&&s[0](void 0);let l;const i=new Promise(n=>l=n);if(Re.set(r,[l,()=>{e[2]?e[2](e,r,n=>{Ut(n,r)}).then(()=>l(r)):(Ut(e,r),l(r))}]),zt.length)zt.at(-1).add(r);else{await Promise.resolve();const n=Re.get(r);n&&(Re.delete(r),n[1]())}return i},Bs=(e,r,s)=>({tag:Oe,props:{children:e},key:s,e:r,p:1}),ut=0,Tr=1,xt=2,gt=3,bt=new WeakMap,Or=(e,r)=>!e||!r||e.length!==r.length||r.some((s,l)=>s!==e[l]),qs=void 0,Wt=[],Us=e=>{var a;const r=()=>typeof e=="function"?e():e,s=$e.at(-1);if(!s)return[r(),()=>{}];const[,l]=s,i=(a=l[A][1])[ut]||(a[ut]=[]),n=l[A][0]++;return i[n]||(i[n]=[r(),c=>{const o=qs,d=i[n];if(typeof c=="function"&&(c=c(d[0])),!Object.is(c,d[0]))if(d[0]=c,Wt.length){const[f,u]=Wt.at(-1);Promise.all([f===3?l:Qe([f,!1,o],l),u]).then(([x])=>{if(!x||!(f===2||f===3))return;const g=x.vC;requestAnimationFrame(()=>{setTimeout(()=>{g===x.vC&&Qe([f===3?1:0,!1,o],x)})})})}else Qe([0,!1,o],l)}])},Rt=(e,r)=>{var c;const s=$e.at(-1);if(!s)return e;const[,l]=s,i=(c=l[A][1])[xt]||(c[xt]=[]),n=l[A][0]++,a=i[n];return Or(a==null?void 0:a[1],r)?i[n]=[e,r]:e=i[n][0],e},zs=e=>{const r=bt.get(e);if(r){if(r.length===2)throw r[1];return r[0]}throw e.then(s=>bt.set(e,[s]),s=>bt.set(e,[void 0,s])),e},Ws=(e,r)=>{var c;const s=$e.at(-1);if(!s)return e();const[,l]=s,i=(c=l[A][1])[gt]||(c[gt]=[]),n=l[A][0]++,a=i[n];return Or(a==null?void 0:a[1],r)&&(i[n]=[e(),r]),i[n][0]},Ks=nr({pending:!1,data:null,method:null,action:null}),Kt=new Set,Vs=e=>{Kt.add(e),e.finally(()=>Kt.delete(e))},At=(e,r)=>Ws(()=>s=>{let l;e&&(typeof e=="function"?l=e(s)||(()=>{e(null)}):e&&"current"in e&&(e.current=s,l=()=>{e.current=null}));const i=r(s);return()=>{i==null||i(),l==null||l()}},[e]),de=Object.create(null),We=Object.create(null),qe=(e,r,s,l,i)=>{if(r!=null&&r.itemProp)return{tag:e,props:r,type:e,ref:r.ref};const n=document.head;let{onLoad:a,onError:c,precedence:o,blocking:d,...f}=r,u=null,x=!1;const g=Ke[e];let m;if(g.length>0){const E=n.querySelectorAll(e);e:for(const P of E)for(const C of Ke[e])if(P.getAttribute(C)===r[C]){u=P;break e}if(!u){const P=g.reduce((C,R)=>r[R]===void 0?C:`${C}-${R}-${r[R]}`,e);x=!We[P],u=We[P]||(We[P]=(()=>{const C=document.createElement(e);for(const R of g)r[R]!==void 0&&C.setAttribute(R,r[R]),r.rel&&C.setAttribute("rel",r.rel);return C})())}}else m=n.querySelectorAll(e);o=l?o??"":void 0,l&&(f[Ve]=o);const y=Rt(E=>{if(g.length>0){let P=!1;for(const C of n.querySelectorAll(e)){if(P&&C.getAttribute(Ve)!==o){n.insertBefore(E,C);return}C.getAttribute(Ve)===o&&(P=!0)}n.appendChild(E)}else if(m){let P=!1;for(const C of m)if(C===E){P=!0;break}P||n.insertBefore(E,n.contains(m[0])?m[0]:n.querySelector(e)),m=void 0}},[o]),b=At(r.ref,E=>{var R;const P=g[0];if(s===2&&(E.innerHTML=""),(x||m)&&y(E),!c&&!a)return;let C=de[R=E.getAttribute(P)]||(de[R]=new Promise((Se,Ue)=>{E.addEventListener("load",Se),E.addEventListener("error",Ue)}));a&&(C=C.then(a)),c&&(C=C.catch(c)),C.catch(()=>{})});if(i&&d==="render"){const E=Ke[e][0];if(r[E]){const P=r[E],C=de[P]||(de[P]=new Promise((R,Se)=>{y(u),u.addEventListener("load",R),u.addEventListener("error",Se)}));zs(C)}}const w={tag:e,type:e,props:{...f,ref:b},ref:b};return w.p=s,u&&(w.e=u),Bs(w,n)},Gs=e=>{const r=Ms(),s=r&&Ee(r);return s!=null&&s.endsWith("svg")?{tag:"title",props:e,type:"title",ref:e.ref}:qe("title",e,void 0,!1,!1)},Js=e=>!e||["src","async"].some(r=>!e[r])?{tag:"script",props:e,type:"script",ref:e.ref}:qe("script",e,1,!1,!0),Xs=e=>!e||!["href","precedence"].every(r=>r in e)?{tag:"style",props:e,type:"style",ref:e.ref}:(e["data-href"]=e.href,delete e.href,qe("style",e,2,!0,!0)),Ys=e=>!e||["onLoad","onError"].some(r=>r in e)||e.rel==="stylesheet"&&(!("precedence"in e)||"disabled"in e)?{tag:"link",props:e,type:"link",ref:e.ref}:qe("link",e,1,"precedence"in e,!0),Zs=e=>qe("meta",e,void 0,!1,!1),$r=Symbol(),Qs=e=>{const{action:r,...s}=e;typeof r!="function"&&(s.action=r);const[l,i]=Us([null,!1]),n=Rt(async d=>{const f=d.isTrusted?r:d.detail[$r];if(typeof f!="function")return;d.preventDefault();const u=new FormData(d.target);i([u,!0]);const x=f(u);x instanceof Promise&&(Vs(x),await x),i([null,!0])},[]),a=At(e.ref,d=>(d.addEventListener("submit",n),()=>{d.removeEventListener("submit",n)})),[c,o]=l;return l[1]=!1,{tag:Ks,props:{value:{pending:c!==null,data:c,method:c?"post":null,action:c?r:null},children:{tag:"form",props:{...s,ref:a},type:"form",ref:a}},f:o}},Lr=(e,{formAction:r,...s})=>{if(typeof r=="function"){const l=Rt(i=>{i.preventDefault(),i.currentTarget.form.dispatchEvent(new CustomEvent("submit",{detail:{[$r]:r}}))},[]);s.ref=At(s.ref,i=>(i.addEventListener("click",l),()=>{i.removeEventListener("click",l)}))}return{tag:e,props:s,type:e,ref:s.ref}},el=e=>Lr("input",e),tl=e=>Lr("button",e);Object.assign(mt,{title:Gs,script:Js,style:Xs,link:Ys,meta:Zs,form:Qs,input:el,button:tl});Et(null);new TextEncoder;var rl=Et(null),sl=(e,r,s,l)=>(i,n)=>{const a="<!DOCTYPE html>",c=s?Ft(d=>s(d,e),{Layout:r,...n},i):i,o=Ir`${M(a)}${Ft(rl.Provider,{value:e},c)}`;return e.html(o)},ll=(e,r)=>function(l,i){const n=l.getLayout()??Qr;return e&&l.setLayout(a=>e({...a,Layout:n},l)),l.setRenderer(sl(l,n,e)),i()};const il=ll(({children:e})=>t("html",{lang:"ja",children:[t("head",{children:[t("meta",{charset:"UTF-8"}),t("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),t("title",{children:"航空券予約システム - Flight Booking"}),t("script",{src:"https://cdn.tailwindcss.com"}),t("link",{href:"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css",rel:"stylesheet"}),t("link",{href:"/static/style.css",rel:"stylesheet"})]}),t("body",{children:e})]})),it=new Cr;it.use(il);it.get("/",e=>e.render(t("div",{class:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex flex-col",children:[t("header",{class:"bg-blue-600 text-white shadow-lg flex-shrink-0",children:t("div",{class:"container mx-auto px-4 py-4",children:t("div",{class:"flex items-center justify-between",children:[t("div",{class:"flex items-center space-x-2",children:[t("i",{class:"fas fa-plane text-3xl"}),t("h1",{class:"text-2xl font-bold",children:"FlightSearch"})]}),t("nav",{class:"hidden md:flex space-x-6",children:[t("a",{href:"/",class:"hover:text-blue-200 transition",children:"ホーム"}),t("a",{href:"#",class:"hover:text-blue-200 transition",children:"予約確認"}),t("a",{href:"#",class:"hover:text-blue-200 transition",children:"お問い合わせ"})]})]})})}),t("main",{id:"mainContent",class:"flex-grow",children:t("div",{class:"container mx-auto px-4 py-8",children:[t("div",{class:"text-center mb-8",children:[t("h2",{class:"text-4xl font-bold text-gray-800 mb-2",children:"お得な航空券を検索"}),t("p",{class:"text-gray-600",children:"世界中のフライトを比較して、最安値を見つけましょう"})]}),t("div",{class:"bg-white rounded-2xl shadow-2xl p-6 md:p-8 mb-8",children:[t("div",{class:"flex flex-wrap gap-4 mb-6",children:[t("label",{class:"flex items-center space-x-2 cursor-pointer",children:[t("input",{type:"radio",name:"tripType",value:"roundtrip",checked:!0,class:"w-4 h-4 text-blue-600",onchange:"handleTripTypeChange()"}),t("span",{class:"text-gray-700 font-medium",children:"往復"})]}),t("label",{class:"flex items-center space-x-2 cursor-pointer",children:[t("input",{type:"radio",name:"tripType",value:"oneway",class:"w-4 h-4 text-blue-600",onchange:"handleTripTypeChange()"}),t("span",{class:"text-gray-700 font-medium",children:"片道"})]}),t("label",{class:"flex items-center space-x-2 cursor-pointer",children:[t("input",{type:"radio",name:"tripType",value:"multicity",class:"w-4 h-4 text-blue-600",onchange:"handleTripTypeChange()"}),t("span",{class:"text-gray-700 font-medium",children:"複数都市"})]})]}),t("div",{id:"singleTripFields",children:t("div",{class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[t("div",{class:"relative",children:[t("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"出発地"}),t("div",{class:"relative",children:[t("i",{class:"fas fa-plane-departure absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),t("input",{type:"text",id:"fromLocation",placeholder:"東京 (TYO)",class:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),t("div",{class:"relative",children:[t("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"目的地"}),t("div",{class:"relative",children:[t("i",{class:"fas fa-plane-arrival absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),t("input",{type:"text",id:"toLocation",placeholder:"ニューヨーク (JFK)",class:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),t("div",{class:"relative",children:[t("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"出発日"}),t("div",{class:"relative",children:[t("i",{class:"fas fa-calendar-alt absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),t("input",{type:"date",id:"departureDate",class:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),t("div",{class:"relative",id:"returnDateField",children:[t("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"帰国日"}),t("div",{class:"relative",children:[t("i",{class:"fas fa-calendar-alt absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),t("input",{type:"date",id:"returnDate",class:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]})}),t("div",{id:"multiCityFields",class:"hidden",children:[t("div",{id:"multiCityFlightsContainer",children:[t("div",{class:"multi-city-flight mb-4 p-4 border border-gray-200 rounded-lg","data-flight-index":"1",children:[t("div",{class:"flex justify-between items-center mb-3",children:t("h4",{class:"font-semibold text-gray-800",children:"フライト 1"})}),t("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t("div",{class:"relative",children:[t("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"出発地"}),t("div",{class:"relative",children:[t("i",{class:"fas fa-plane-departure absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),t("input",{type:"text",id:"multiCityFrom1",class:"multi-city-from w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"東京 (TYO)"})]})]}),t("div",{class:"relative",children:[t("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"目的地"}),t("div",{class:"relative",children:[t("i",{class:"fas fa-plane-arrival absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),t("input",{type:"text",id:"multiCityTo1",class:"multi-city-to w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"ニューヨーク (JFK)"})]})]}),t("div",{class:"relative",children:[t("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"出発日"}),t("div",{class:"relative",children:[t("i",{class:"fas fa-calendar-alt absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),t("input",{type:"date",class:"multi-city-date w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]})]}),t("div",{class:"multi-city-flight mb-4 p-4 border border-gray-200 rounded-lg","data-flight-index":"2",children:[t("div",{class:"flex justify-between items-center mb-3",children:t("h4",{class:"font-semibold text-gray-800",children:"フライト 2"})}),t("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t("div",{class:"relative",children:[t("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"出発地"}),t("div",{class:"relative",children:[t("i",{class:"fas fa-plane-departure absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),t("input",{type:"text",id:"multiCityFrom2",class:"multi-city-from w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"ニューヨーク (JFK)"})]})]}),t("div",{class:"relative",children:[t("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"目的地"}),t("div",{class:"relative",children:[t("i",{class:"fas fa-plane-arrival absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),t("input",{type:"text",id:"multiCityTo2",class:"multi-city-to w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"ロサンゼルス (LAX)"})]})]}),t("div",{class:"relative",children:[t("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"出発日"}),t("div",{class:"relative",children:[t("i",{class:"fas fa-calendar-alt absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),t("input",{type:"date",class:"multi-city-date w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]})]})]}),t("button",{type:"button",onclick:"addMultiCityFlight()",class:"w-full md:w-auto px-6 py-3 border-2 border-dashed border-blue-300 text-blue-600 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition font-medium",children:[t("i",{class:"fas fa-plus mr-2"}),"フライトを追加"]})]}),t("div",{class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6 mt-6",children:[t("div",{class:"relative",children:[t("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"乗客"}),t("button",{type:"button",id:"passengerButton",class:"w-full px-4 py-3 border border-gray-300 rounded-lg text-left flex items-center justify-between hover:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[t("span",{class:"flex items-center",children:[t("i",{class:"fas fa-user mr-2 text-gray-400"}),t("span",{id:"passengerDisplay",children:"1 名, エコノミー"})]}),t("i",{class:"fas fa-chevron-down text-gray-400"})]}),t("div",{id:"passengerDropdown",class:"hidden absolute z-10 mt-2 w-full md:w-96 bg-white border border-gray-200 rounded-lg shadow-xl p-4",children:t("div",{class:"space-y-4",children:[t("div",{class:"flex items-center justify-between",children:[t("div",{children:[t("div",{class:"font-medium text-gray-700",children:"大人"}),t("div",{class:"text-sm text-gray-500",children:"12歳以上"})]}),t("div",{class:"flex items-center space-x-3",children:[t("button",{type:"button",class:"w-8 h-8 rounded-full border border-gray-300 hover:bg-gray-100",onclick:"updatePassenger('adults', -1)",children:"-"}),t("span",{id:"adultsCount",class:"w-8 text-center font-medium",children:"1"}),t("button",{type:"button",class:"w-8 h-8 rounded-full border border-gray-300 hover:bg-gray-100",onclick:"updatePassenger('adults', 1)",children:"+"})]})]}),t("div",{class:"flex items-center justify-between",children:[t("div",{children:[t("div",{class:"font-medium text-gray-700",children:"子供"}),t("div",{class:"text-sm text-gray-500",children:"2-11歳"})]}),t("div",{class:"flex items-center space-x-3",children:[t("button",{type:"button",class:"w-8 h-8 rounded-full border border-gray-300 hover:bg-gray-100",onclick:"updatePassenger('children', -1)",children:"-"}),t("span",{id:"childrenCount",class:"w-8 text-center font-medium",children:"0"}),t("button",{type:"button",class:"w-8 h-8 rounded-full border border-gray-300 hover:bg-gray-100",onclick:"updatePassenger('children', 1)",children:"+"})]})]}),t("div",{class:"flex items-center justify-between",children:[t("div",{children:[t("div",{class:"font-medium text-gray-700",children:"幼児"}),t("div",{class:"text-sm text-gray-500",children:"2歳未満"})]}),t("div",{class:"flex items-center space-x-3",children:[t("button",{type:"button",class:"w-8 h-8 rounded-full border border-gray-300 hover:bg-gray-100",onclick:"updatePassenger('infants', -1)",children:"-"}),t("span",{id:"infantsCount",class:"w-8 text-center font-medium",children:"0"}),t("button",{type:"button",class:"w-8 h-8 rounded-full border border-gray-300 hover:bg-gray-100",onclick:"updatePassenger('infants', 1)",children:"+"})]})]}),t("hr",{class:"my-4"}),t("div",{children:[t("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"座席クラス"}),t("select",{id:"cabinClass",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[t("option",{value:"economy",children:"エコノミー"}),t("option",{value:"premium_economy",children:"プレミアムエコノミー"}),t("option",{value:"business",children:"ビジネス"}),t("option",{value:"first",children:"ファースト"})]})]}),t("button",{type:"button",class:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700",onclick:"closePassengerDropdown()",children:"完了"})]})})]}),t("div",{class:"relative",children:[t("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"航空会社"}),t("div",{class:"relative",children:[t("i",{class:"fas fa-plane absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),t("input",{type:"text",id:"preferredAirline",placeholder:"すべて",class:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),t("div",{class:"flex items-end",children:t("label",{class:"flex items-center space-x-2 cursor-pointer pb-3",children:[t("input",{type:"checkbox",id:"directFlights",class:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),t("span",{class:"text-gray-700",children:"直行便のみ"})]})}),t("div",{children:[t("label",{class:"block text-sm font-medium text-gray-700 mb-2 opacity-0",children:"検索"}),t("button",{type:"button",onclick:"searchFlights()",class:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 px-6 rounded-lg font-semibold hover:from-blue-700 hover:to-indigo-700 transition shadow-lg hover:shadow-xl",children:[t("i",{class:"fas fa-search mr-2"}),"フライトを検索"]})]})]})]}),t("div",{id:"searchResults",class:"hidden",children:[t("div",{class:"bg-white rounded-lg shadow-md p-6 mb-6",children:t("div",{class:"flex flex-col md:flex-row justify-between items-start md:items-center space-y-4 md:space-y-0",children:[t("div",{children:[t("h3",{class:"text-2xl font-bold text-gray-800 mb-2",children:"検索結果"}),t("p",{class:"text-gray-600",id:"routeInfo",children:"東京 (TYO) → ニューヨーク (JFK)"})]}),t("div",{class:"flex items-center space-x-4",children:t("select",{id:"sortBy",class:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[t("option",{value:"best",children:"おすすめ順"}),t("option",{value:"price",children:"最安値順"}),t("option",{value:"duration",children:"最短時間順"}),t("option",{value:"departure",children:"出発時間順"})]})})]})}),t("div",{class:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[t("div",{class:"lg:col-span-1",children:t("div",{class:"bg-white rounded-lg shadow-md p-6 sticky top-4",children:[t("h4",{class:"text-lg font-bold text-gray-800 mb-4",children:"フィルター"}),t("div",{class:"mb-6",children:[t("h5",{class:"font-semibold text-gray-700 mb-3",children:"価格帯"}),t("div",{class:"space-y-2",children:[t("input",{type:"range",min:"0",max:"500000",step:"10000",class:"w-full",id:"priceRange"}),t("div",{class:"flex justify-between text-sm text-gray-600",children:[t("span",{children:"¥0"}),t("span",{id:"maxPrice",children:"¥500,000+"})]})]})]}),t("div",{class:"mb-6",children:[t("h5",{class:"font-semibold text-gray-700 mb-3",children:"経由回数"}),t("div",{class:"space-y-2",children:[t("label",{class:"flex items-center space-x-2",children:[t("input",{type:"checkbox",class:"w-4 h-4 text-blue-600 rounded",checked:!0}),t("span",{class:"text-gray-700",children:"直行便"})]}),t("label",{class:"flex items-center space-x-2",children:[t("input",{type:"checkbox",class:"w-4 h-4 text-blue-600 rounded",checked:!0}),t("span",{class:"text-gray-700",children:"1回経由"})]}),t("label",{class:"flex items-center space-x-2",children:[t("input",{type:"checkbox",class:"w-4 h-4 text-blue-600 rounded",checked:!0}),t("span",{class:"text-gray-700",children:"2回以上経由"})]})]})]}),t("div",{class:"mb-6",children:[t("h5",{class:"font-semibold text-gray-700 mb-3",children:"出発時間帯"}),t("div",{class:"grid grid-cols-2 gap-2",children:[t("button",{type:"button",class:"px-3 py-2 border border-gray-300 rounded-lg text-sm hover:bg-blue-50 hover:border-blue-500",children:[t("i",{class:"fas fa-sun text-yellow-500"})," 朝"]}),t("button",{type:"button",class:"px-3 py-2 border border-gray-300 rounded-lg text-sm hover:bg-blue-50 hover:border-blue-500",children:[t("i",{class:"fas fa-cloud-sun text-orange-500"})," 昼"]}),t("button",{type:"button",class:"px-3 py-2 border border-gray-300 rounded-lg text-sm hover:bg-blue-50 hover:border-blue-500",children:[t("i",{class:"fas fa-cloud-moon text-indigo-500"})," 夕"]}),t("button",{type:"button",class:"px-3 py-2 border border-gray-300 rounded-lg text-sm hover:bg-blue-50 hover:border-blue-500",children:[t("i",{class:"fas fa-moon text-blue-900"})," 夜"]})]})]}),t("div",{class:"mb-6",children:[t("h5",{class:"font-semibold text-gray-700 mb-3",children:"航空会社"}),t("div",{class:"space-y-2 max-h-48 overflow-y-auto",children:[t("label",{class:"flex items-center space-x-2",children:[t("input",{type:"checkbox",class:"w-4 h-4 text-blue-600 rounded",checked:!0}),t("span",{class:"text-gray-700 text-sm",children:"全日空 (ANA)"})]}),t("label",{class:"flex items-center space-x-2",children:[t("input",{type:"checkbox",class:"w-4 h-4 text-blue-600 rounded",checked:!0}),t("span",{class:"text-gray-700 text-sm",children:"日本航空 (JAL)"})]}),t("label",{class:"flex items-center space-x-2",children:[t("input",{type:"checkbox",class:"w-4 h-4 text-blue-600 rounded",checked:!0}),t("span",{class:"text-gray-700 text-sm",children:"ユナイテッド航空"})]}),t("label",{class:"flex items-center space-x-2",children:[t("input",{type:"checkbox",class:"w-4 h-4 text-blue-600 rounded",checked:!0}),t("span",{class:"text-gray-700 text-sm",children:"デルタ航空"})]}),t("label",{class:"flex items-center space-x-2",children:[t("input",{type:"checkbox",class:"w-4 h-4 text-blue-600 rounded",checked:!0}),t("span",{class:"text-gray-700 text-sm",children:"アメリカン航空"})]})]})]}),t("button",{type:"button",class:"w-full bg-gray-100 text-gray-700 py-2 rounded-lg hover:bg-gray-200",children:"フィルターをリセット"})]})}),t("div",{class:"lg:col-span-3",id:"flightList",children:t("div",{class:"space-y-4",id:"flightCards"})})]})]})]})}),t("footer",{id:"mainFooter",class:"bg-gray-800 text-white flex-shrink-0 mt-auto",children:t("div",{class:"container mx-auto px-4 py-8",children:[t("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[t("div",{children:[t("h5",{class:"font-bold text-lg mb-4",children:"FlightSearch"}),t("p",{class:"text-gray-400",children:"お得な航空券を簡単検索"})]}),t("div",{children:[t("h5",{class:"font-bold text-lg mb-4",children:"リンク"}),t("ul",{class:"space-y-2 text-gray-400",children:[t("li",{children:t("a",{href:"#",class:"hover:text-white",children:"利用規約"})}),t("li",{children:t("a",{href:"#",class:"hover:text-white",children:"プライバシーポリシー"})}),t("li",{children:t("a",{href:"#",class:"hover:text-white",children:"お問い合わせ"})})]})]}),t("div",{children:[t("h5",{class:"font-bold text-lg mb-4",children:"フォロー"}),t("div",{class:"flex space-x-4",children:[t("a",{href:"#",class:"text-gray-400 hover:text-white",children:t("i",{class:"fab fa-facebook text-2xl"})}),t("a",{href:"#",class:"text-gray-400 hover:text-white",children:t("i",{class:"fab fa-twitter text-2xl"})}),t("a",{href:"#",class:"text-gray-400 hover:text-white",children:t("i",{class:"fab fa-instagram text-2xl"})})]})]})]}),t("div",{class:"border-t border-gray-700 mt-8 pt-8 text-center text-gray-400",children:t("p",{children:"© 2026 FlightSearch. All rights reserved."})})]})}),t("div",{id:"seatClassModal",class:"hidden fixed inset-0 bg-black bg-opacity-50 z-50 overflow-y-auto",role:"dialog","aria-modal":"true","aria-labelledby":"modalTitle",children:t("div",{class:"flex items-center justify-center min-h-screen p-4",children:t("div",{class:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl relative",children:[t("div",{class:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-2xl",children:[t("div",{class:"flex items-center justify-between",children:[t("h2",{id:"modalTitle",class:"text-2xl font-bold",children:t("span",{id:"modalRouteInfo",children:"東京 → ニューヨーク"})}),t("button",{onclick:"closeSeatClassModal()",class:"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-2 transition","aria-label":"モーダルを閉じる",children:t("i",{class:"fas fa-times text-2xl"})})]}),t("div",{id:"modalFlightInfo",class:"mt-2 text-sm opacity-90",children:"フライト情報を読み込み中..."})]}),t("div",{class:"p-6 max-h-[70vh] overflow-y-auto",children:[t("div",{class:"mb-8",children:[t("h3",{class:"text-xl font-bold text-gray-800 mb-4 flex items-center",children:[t("i",{class:"fas fa-plane-departure text-blue-600 mr-2"}),"往路便"]}),t("div",{id:"outboundSeatClasses",class:"space-y-3"})]}),t("div",{class:"mb-6",children:[t("h3",{class:"text-xl font-bold text-gray-800 mb-4 flex items-center",children:[t("i",{class:"fas fa-plane-arrival text-blue-600 mr-2"}),"復路便"]}),t("div",{id:"returnSeatClasses",class:"space-y-3"})]}),t("div",{class:"bg-blue-50 rounded-lg p-4 mt-6",children:t("div",{class:"flex justify-between items-center",children:[t("div",{children:[t("div",{class:"text-sm text-gray-600",children:"合計金額（1名あたり）"}),t("div",{class:"text-xs text-gray-500 mt-1",children:"往復 • 税・手数料込み"})]}),t("div",{class:"text-3xl font-bold text-blue-600",id:"modalTotalPrice",children:"¥0"})]})})]}),t("div",{class:"border-t border-gray-200 px-6 py-4 bg-gray-50 rounded-b-2xl",children:t("div",{class:"flex space-x-4",children:[t("button",{onclick:"closeSeatClassModal()",class:"flex-1 bg-gray-200 text-gray-700 py-3 px-6 rounded-lg font-semibold hover:bg-gray-300 transition",children:"キャンセル"}),t("button",{onclick:"confirmSeatClassSelection()",class:"flex-1 bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 px-6 rounded-lg font-semibold hover:from-blue-700 hover:to-indigo-700 transition shadow-lg hover:shadow-xl",disabled:!0,id:"confirmSelectionBtn",children:"予約を続ける"})]})})]})})}),t("div",{id:"authSelectionPage",class:"hidden fixed inset-0 bg-gradient-to-br from-blue-50 to-indigo-100 overflow-y-auto z-40",children:t("div",{class:"min-h-screen flex items-center justify-center p-4",children:t("div",{class:"max-w-2xl w-full bg-white rounded-2xl shadow-2xl p-8",children:[t("h2",{class:"text-3xl font-bold text-gray-800 mb-2 text-center",children:[t("i",{class:"fas fa-user-circle text-blue-600 mr-2"}),"予約を続ける"]}),t("p",{class:"text-gray-600 text-center mb-8",children:"予約を続けるには、会員登録またはログインが必要です"}),t("div",{class:"space-y-4",children:[t("button",{onclick:"showRegistrationPage()",class:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-4 px-6 rounded-xl hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-lg hover:shadow-xl flex items-center justify-center group",children:[t("i",{class:"fas fa-user-plus mr-3 text-xl group-hover:scale-110 transition-transform"}),t("span",{class:"text-lg font-semibold",children:"新規登録"})]}),t("button",{onclick:"showLoginPage()",class:"w-full bg-white border-2 border-blue-600 text-blue-600 py-4 px-6 rounded-xl hover:bg-blue-50 transition-all duration-200 flex items-center justify-center group",children:[t("i",{class:"fas fa-sign-in-alt mr-3 text-xl group-hover:scale-110 transition-transform"}),t("span",{class:"text-lg font-semibold",children:"ログイン"})]}),t("button",{onclick:"showBookingPageAsGuest()",class:"w-full bg-gray-100 border-2 border-gray-300 text-gray-700 py-4 px-6 rounded-xl hover:bg-gray-200 transition-all duration-200 flex items-center justify-center group",children:[t("i",{class:"fas fa-user mr-3 text-xl group-hover:scale-110 transition-transform"}),t("span",{class:"text-lg font-semibold",children:"ゲストとして予約"})]})]}),t("div",{class:"mt-6 text-center",children:t("button",{onclick:"backToFlightResults()",class:"text-gray-600 hover:text-gray-800 transition",children:[t("i",{class:"fas fa-arrow-left mr-2"}),"戻る"]})})]})})}),t("div",{id:"registrationPage",class:"hidden fixed inset-0 bg-gradient-to-br from-blue-50 to-indigo-100 overflow-y-auto z-40",children:t("div",{class:"min-h-screen flex items-center justify-center p-4",children:t("div",{class:"max-w-md w-full bg-white rounded-2xl shadow-2xl p-8",children:[t("h2",{class:"text-2xl font-bold text-gray-800 mb-6 text-center",children:[t("i",{class:"fas fa-user-plus text-blue-600 mr-2"}),"新規会員登録"]}),t("div",{id:"emailStep",children:[t("p",{class:"text-gray-600 mb-6 text-center",children:["メールアドレスを入力してください。",t("br",{}),"確認コードを送信します。"]}),t("div",{class:"space-y-4",children:[t("div",{children:[t("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"メールアドレス"}),t("input",{type:"email",id:"registrationEmail",placeholder:"example@email.com",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t("button",{onclick:"sendVerificationCode()",class:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 px-6 rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:[t("i",{class:"fas fa-paper-plane mr-2"}),"確認コードを送信"]})]})]}),t("div",{id:"otpStep",class:"hidden",children:[t("p",{class:"text-gray-600 mb-2 text-center",children:"確認コードを送信しました"}),t("p",{class:"text-sm text-gray-500 mb-6 text-center",id:"sentToEmail",children:"example@email.com"}),t("div",{class:"space-y-4",children:[t("div",{children:[t("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"6桁の確認コード"}),t("input",{type:"text",id:"verificationCode",placeholder:"000000",maxlength:"6",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-center text-2xl tracking-widest font-mono"})]}),t("button",{onclick:"verifyCode()",class:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 px-6 rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:[t("i",{class:"fas fa-check mr-2"}),"確認"]}),t("button",{onclick:"resendVerificationCode()",class:"w-full text-blue-600 hover:text-blue-800 py-2 text-sm",children:[t("i",{class:"fas fa-redo mr-2"}),"確認コードを再送信"]})]})]}),t("div",{class:"mt-6 text-center",children:t("button",{onclick:"backToAuthSelection()",class:"text-gray-600 hover:text-gray-800 transition",children:[t("i",{class:"fas fa-arrow-left mr-2"}),"戻る"]})})]})})}),t("div",{id:"loginPage",class:"hidden fixed inset-0 bg-gradient-to-br from-blue-50 to-indigo-100 overflow-y-auto z-40",children:t("div",{class:"min-h-screen flex items-center justify-center p-4",children:t("div",{class:"max-w-md w-full bg-white rounded-2xl shadow-2xl p-8",children:[t("h2",{class:"text-2xl font-bold text-gray-800 mb-6 text-center",children:[t("i",{class:"fas fa-sign-in-alt text-blue-600 mr-2"}),"ログイン"]}),t("p",{class:"text-gray-600 mb-6 text-center",children:["登録済みのメールアドレスを入力してください。",t("br",{}),"確認コードを送信します。"]}),t("div",{id:"loginEmailStep",children:t("div",{class:"space-y-4",children:[t("div",{children:[t("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"メールアドレス"}),t("input",{type:"email",id:"loginEmail",placeholder:"example@email.com",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t("button",{onclick:"sendLoginCode()",class:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 px-6 rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:[t("i",{class:"fas fa-paper-plane mr-2"}),"確認コードを送信"]})]})}),t("div",{id:"loginOtpStep",class:"hidden",children:[t("p",{class:"text-gray-600 mb-2 text-center",children:"確認コードを送信しました"}),t("p",{class:"text-sm text-gray-500 mb-6 text-center",id:"loginSentToEmail",children:"example@email.com"}),t("div",{class:"space-y-4",children:[t("div",{children:[t("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"6桁の確認コード"}),t("input",{type:"text",id:"loginVerificationCode",placeholder:"000000",maxlength:"6",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-center text-2xl tracking-widest font-mono"})]}),t("button",{onclick:"verifyLoginCode()",class:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 px-6 rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:[t("i",{class:"fas fa-check mr-2"}),"ログイン"]}),t("button",{onclick:"resendLoginCode()",class:"w-full text-blue-600 hover:text-blue-800 py-2 text-sm",children:[t("i",{class:"fas fa-redo mr-2"}),"確認コードを再送信"]})]})]}),t("div",{class:"mt-6 text-center",children:t("button",{onclick:"backToAuthSelection()",class:"text-gray-600 hover:text-gray-800 transition",children:[t("i",{class:"fas fa-arrow-left mr-2"}),"戻る"]})})]})})}),t("div",{id:"bookingPage",class:"hidden fixed inset-0 bg-gradient-to-br from-blue-50 to-indigo-100 overflow-y-auto z-40",children:t("div",{class:"min-h-screen flex flex-col",children:[t("div",{class:"container mx-auto px-4 py-8 flex-grow",children:[t("button",{onclick:"backToSearch()",class:"mb-6 flex items-center text-blue-600 hover:text-blue-800 transition",children:[t("i",{class:"fas fa-arrow-left mr-2"}),"検索結果に戻る"]}),t("div",{class:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[t("h2",{class:"text-3xl font-bold text-gray-800 mb-4 flex items-center",children:[t("i",{class:"fas fa-ticket-alt text-blue-600 mr-3"}),"予約内容の確認"]}),t("div",{class:"bg-blue-50 border-l-4 border-blue-600 p-4 rounded",children:t("p",{class:"text-sm text-gray-700",children:[t("i",{class:"fas fa-info-circle text-blue-600 mr-2"}),"フライトと座席クラスを選択しました。次に座席を選択し、お客様情報を入力してください。"]})})]}),t("div",{class:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[t("h3",{class:"text-2xl font-bold text-gray-800 mb-4 flex items-center",children:[t("i",{class:"fas fa-plane text-blue-600 mr-2"}),"選択済みフライト情報"]}),t("div",{id:"flightSummary",class:"space-y-4"})]}),t("div",{class:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[t("h3",{class:"text-2xl font-bold text-gray-800 mb-4 flex items-center",children:[t("i",{class:"fas fa-chair text-blue-600 mr-2"}),"座席選択",t("span",{class:"ml-auto text-sm font-normal text-gray-600",id:"seatSelectionStatus",children:["選択済み: ",t("span",{id:"selectedSeatsCount",children:"0"})," / ",t("span",{id:"requiredSeats",children:"1"})," 座席"]})]}),t("div",{class:"flex flex-wrap gap-4 mb-6 p-4 bg-gray-50 rounded-lg",children:[t("div",{class:"flex items-center space-x-2",children:[t("div",{class:"w-8 h-8 bg-green-500 rounded flex items-center justify-center text-white text-xs font-bold",children:"空"}),t("span",{class:"text-sm text-gray-700",children:"利用可能"})]}),t("div",{class:"flex items-center space-x-2",children:[t("div",{class:"w-8 h-8 bg-blue-600 rounded flex items-center justify-center text-white text-xs font-bold",children:"選"}),t("span",{class:"text-sm text-gray-700",children:"選択済み"})]}),t("div",{class:"flex items-center space-x-2",children:[t("div",{class:"w-8 h-8 bg-gray-400 rounded flex items-center justify-center text-white text-xs font-bold",children:"×"}),t("span",{class:"text-sm text-gray-700",children:"利用不可"})]}),t("div",{class:"flex items-center space-x-2",children:[t("div",{class:"w-8 h-8 bg-yellow-500 rounded flex items-center justify-center text-white text-xs font-bold",children:"特"}),t("span",{class:"text-sm text-gray-700",children:"特別席（追加料金）"})]})]}),t("div",{class:"aircraftmap_container mb-6",children:t("div",{class:"od-aircraftmap-map-wrapper",children:[t("div",{class:"mb-8",children:[t("h4",{class:"text-lg font-bold text-gray-800 mb-3 flex items-center",children:[t("i",{class:"fas fa-plane-departure text-blue-600 mr-2"}),"往路便 - 座席選択"]}),t("div",{id:"outboundSeatMap",class:"od-aircraftmap-cabins"})]}),t("div",{children:[t("h4",{class:"text-lg font-bold text-gray-800 mb-3 flex items-center",children:[t("i",{class:"fas fa-plane-arrival text-blue-600 mr-2"}),"復路便 - 座席選択"]}),t("div",{id:"returnSeatMap",class:"od-aircraftmap-cabins"})]})]})}),t("div",{class:"bg-blue-50 rounded-lg p-4",children:[t("h5",{class:"font-bold text-gray-800 mb-2",children:"選択済み座席"}),t("div",{id:"selectedSeatsSummary",class:"text-sm text-gray-700",children:"座席を選択してください"})]})]}),t("div",{class:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[t("h3",{class:"text-2xl font-bold text-gray-800 mb-6 flex items-center",children:[t("i",{class:"fas fa-user-edit text-blue-600 mr-2"}),"お客様情報"]}),t("form",{id:"customerInfoForm",children:[t("div",{id:"passengerFormsContainer"}),t("div",{class:"border-t border-gray-200 pt-6 mt-6",children:[t("h4",{class:"text-xl font-bold text-gray-800 mb-4",children:"連絡先情報"}),t("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t("div",{children:[t("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:["メールアドレス ",t("span",{class:"text-red-500",children:"*"})]}),t("input",{type:"email",id:"contactEmail",required:!0,placeholder:"example@email.com",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t("div",{children:[t("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:["電話番号 ",t("span",{class:"text-red-500",children:"*"})]}),t("input",{type:"tel",id:"contactPhone",required:!0,placeholder:"090-1234-5678",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),t("div",{class:"border-t border-gray-200 pt-6 mt-6",children:[t("h4",{class:"text-xl font-bold text-gray-800 mb-4",children:"緊急連絡先"}),t("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t("div",{children:[t("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"氏名"}),t("input",{type:"text",id:"emergencyName",placeholder:"山田 太郎",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),t("div",{children:[t("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"電話番号"}),t("input",{type:"tel",id:"emergencyPhone",placeholder:"090-1234-5678",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),t("div",{class:"border-t border-gray-200 pt-6 mt-6",children:t("label",{class:"flex items-start space-x-3 cursor-pointer",children:[t("input",{type:"checkbox",id:"agreeTerms",required:!0,class:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500 mt-1"}),t("span",{class:"text-sm text-gray-700",children:[t("a",{href:"#",class:"text-blue-600 hover:underline",children:"利用規約"}),"および",t("a",{href:"#",class:"text-blue-600 hover:underline",children:"プライバシーポリシー"}),"に同意します",t("span",{class:"text-red-500",children:"*"})]})]})})]})]}),t("div",{class:"bg-white rounded-2xl shadow-xl p-6 sticky bottom-4",children:t("div",{class:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[t("div",{children:[t("div",{class:"text-sm text-gray-600 mb-1",children:"合計金額"}),t("div",{class:"text-4xl font-bold text-blue-600",id:"finalTotalPrice",children:"¥0"}),t("div",{class:"text-xs text-gray-500 mt-1",children:[t("span",{id:"totalPassengersCount",children:"1"}),"名分 • 往復 • 税・手数料込み"]})]}),t("div",{class:"flex space-x-4 w-full md:w-auto",children:[t("button",{type:"button",onclick:"backToSearch()",class:"flex-1 md:flex-none bg-gray-200 text-gray-700 py-4 px-8 rounded-lg font-semibold hover:bg-gray-300 transition",children:"キャンセル"}),t("button",{type:"button",onclick:"proceedToConfirmation()",class:"flex-1 md:flex-none bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-4 px-8 rounded-lg font-semibold hover:from-blue-700 hover:to-indigo-700 transition shadow-lg hover:shadow-xl",disabled:!0,id:"proceedConfirmationBtn",children:[t("i",{class:"fas fa-check-circle mr-2"}),"予約内容の確認"]})]})]})})]}),t("footer",{class:"bg-gray-800 text-white mt-auto",children:t("div",{class:"container mx-auto px-4 py-8",children:[t("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[t("div",{children:[t("h5",{class:"font-bold text-lg mb-4",children:"FlightSearch"}),t("p",{class:"text-gray-400",children:"お得な航空券を簡単検索"})]}),t("div",{children:[t("h5",{class:"font-bold text-lg mb-4",children:"リンク"}),t("ul",{class:"space-y-2 text-gray-400",children:[t("li",{children:t("a",{href:"#",class:"hover:text-white",children:"利用規約"})}),t("li",{children:t("a",{href:"#",class:"hover:text-white",children:"プライバシーポリシー"})}),t("li",{children:t("a",{href:"#",class:"hover:text-white",children:"お問い合わせ"})})]})]}),t("div",{children:[t("h5",{class:"font-bold text-lg mb-4",children:"フォロー"}),t("div",{class:"flex space-x-4",children:[t("a",{href:"#",class:"text-gray-400 hover:text-white",children:t("i",{class:"fab fa-facebook text-2xl"})}),t("a",{href:"#",class:"text-gray-400 hover:text-white",children:t("i",{class:"fab fa-twitter text-2xl"})}),t("a",{href:"#",class:"text-gray-400 hover:text-white",children:t("i",{class:"fab fa-instagram text-2xl"})})]})]})]}),t("div",{class:"border-t border-gray-700 mt-8 pt-8 text-center text-gray-400",children:t("p",{children:"© 2026 FlightSearch. All rights reserved."})})]})})]})}),t("div",{id:"confirmationPage",class:"hidden fixed inset-0 bg-gradient-to-br from-blue-50 to-indigo-100 overflow-y-auto z-40",children:t("div",{class:"min-h-screen flex flex-col",children:[t("div",{class:"container mx-auto px-4 py-8 flex-grow",children:[t("button",{onclick:"backToBooking()",class:"mb-6 flex items-center text-blue-600 hover:text-blue-800 transition",children:[t("i",{class:"fas fa-arrow-left mr-2"}),"座席選択に戻る"]}),t("div",{class:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[t("h2",{class:"text-3xl font-bold text-gray-800 mb-4 flex items-center",children:[t("i",{class:"fas fa-clipboard-check text-blue-600 mr-3"}),"予約内容の最終確認"]}),t("div",{class:"bg-blue-50 border-l-4 border-blue-600 p-4 rounded",children:t("p",{class:"text-sm text-gray-700",children:[t("i",{class:"fas fa-info-circle text-blue-600 mr-2"}),"ご予約内容をご確認の上、お間違いがなければ「支払いへ進む」ボタンをクリックしてください。"]})})]}),t("div",{class:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[t("h3",{class:"text-2xl font-bold text-gray-800 mb-4 flex items-center",children:[t("i",{class:"fas fa-plane text-blue-600 mr-2"}),"フライト情報"]}),t("div",{id:"confirmationFlightSummary",class:"space-y-4"})]}),t("div",{class:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[t("h3",{class:"text-2xl font-bold text-gray-800 mb-4 flex items-center",children:[t("i",{class:"fas fa-users text-blue-600 mr-2"}),"お客様情報"]}),t("div",{id:"confirmationPassengerSummary",class:"space-y-4"})]}),t("div",{class:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[t("h3",{class:"text-2xl font-bold text-gray-800 mb-4 flex items-center",children:[t("i",{class:"fas fa-envelope text-blue-600 mr-2"}),"連絡先情報"]}),t("div",{id:"confirmationContactSummary",class:"space-y-2"})]}),t("div",{class:"bg-white rounded-2xl shadow-xl p-6 sticky bottom-4",children:t("div",{class:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[t("div",{children:[t("div",{class:"text-sm text-gray-600 mb-1",children:"お支払い合計金額"}),t("div",{class:"text-4xl font-bold text-blue-600",id:"confirmationTotalPrice",children:"¥0"}),t("div",{class:"text-xs text-gray-500 mt-1",children:[t("span",{id:"confirmationPassengersCount",children:"1"}),"名分 • 往復 • 税・手数料込み"]})]}),t("div",{class:"flex space-x-4 w-full md:w-auto",children:[t("button",{type:"button",onclick:"backToBooking()",class:"flex-1 md:flex-none bg-gray-200 text-gray-700 py-4 px-8 rounded-lg font-semibold hover:bg-gray-300 transition",children:"戻る"}),t("button",{type:"button",onclick:"proceedToPayment()",class:"flex-1 md:flex-none bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-4 px-8 rounded-lg font-semibold hover:from-blue-700 hover:to-indigo-700 transition shadow-lg hover:shadow-xl",id:"proceedPaymentBtn",children:[t("i",{class:"fas fa-credit-card mr-2"}),"支払いへ進む"]})]})]})})]}),t("footer",{class:"bg-gray-800 text-white mt-auto",children:t("div",{class:"container mx-auto px-4 py-8",children:[t("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[t("div",{children:[t("h5",{class:"font-bold text-lg mb-4",children:"FlightSearch"}),t("p",{class:"text-gray-400",children:"お得な航空券を簡単検索"})]}),t("div",{children:[t("h5",{class:"font-bold text-lg mb-4",children:"リンク"}),t("ul",{class:"space-y-2 text-gray-400",children:[t("li",{children:t("a",{href:"#",class:"hover:text-white",children:"利用規約"})}),t("li",{children:t("a",{href:"#",class:"hover:text-white",children:"プライバシーポリシー"})}),t("li",{children:t("a",{href:"#",class:"hover:text-white",children:"お問い合わせ"})})]})]}),t("div",{children:[t("h5",{class:"font-bold text-lg mb-4",children:"フォロー"}),t("div",{class:"flex space-x-4",children:[t("a",{href:"#",class:"text-gray-400 hover:text-white",children:t("i",{class:"fab fa-facebook text-2xl"})}),t("a",{href:"#",class:"text-gray-400 hover:text-white",children:t("i",{class:"fab fa-twitter text-2xl"})}),t("a",{href:"#",class:"text-gray-400 hover:text-white",children:t("i",{class:"fab fa-instagram text-2xl"})})]})]})]}),t("div",{class:"border-t border-gray-700 mt-8 pt-8 text-center text-gray-400",children:t("p",{children:"© 2026 FlightSearch. All rights reserved."})})]})})]})}),t("div",{id:"paymentPage",class:"hidden fixed inset-0 bg-gradient-to-br from-blue-50 to-indigo-100 overflow-y-auto z-40",children:t("div",{class:"min-h-screen flex flex-col",children:[t("div",{class:"container mx-auto px-4 py-8 flex-grow max-w-4xl",children:[t("button",{onclick:"backToConfirmation()",class:"mb-6 flex items-center text-blue-600 hover:text-blue-800 transition",children:[t("i",{class:"fas fa-arrow-left mr-2"}),"予約内容の確認に戻る"]}),t("div",{class:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[t("div",{class:"flex items-center justify-between mb-4",children:[t("h2",{class:"text-3xl font-bold text-gray-800 flex items-center",children:[t("i",{class:"fas fa-lock text-blue-600 mr-3"}),"安全な決済"]}),t("div",{class:"flex items-center space-x-2",children:[t("i",{class:"fab fa-cc-visa text-3xl text-blue-600"}),t("i",{class:"fab fa-cc-mastercard text-3xl text-orange-600"}),t("i",{class:"fab fa-cc-amex text-3xl text-blue-500"}),t("i",{class:"fab fa-cc-jcb text-3xl text-red-600"})]})]}),t("div",{class:"bg-green-50 border-l-4 border-green-600 p-4 rounded",children:t("p",{class:"text-sm text-gray-700",children:[t("i",{class:"fas fa-shield-alt text-green-600 mr-2"}),"このページの情報は、SSL/TLS暗号化技術により保護されています。"]})})]}),t("div",{class:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[t("h3",{class:"text-xl font-bold text-gray-800 mb-4",children:"ご注文内容"}),t("div",{class:"space-y-3",children:[t("div",{class:"flex justify-between text-gray-700",children:[t("span",{children:"フライト料金"}),t("span",{id:"paymentFlightPrice",children:"¥0"})]}),t("div",{class:"flex justify-between text-gray-700",children:[t("span",{children:"座席アップグレード"}),t("span",{id:"paymentSeatUpgrade",children:"¥0"})]}),t("div",{class:"flex justify-between text-gray-700",children:[t("span",{children:"税金・手数料"}),t("span",{id:"paymentTaxes",children:"¥0"})]}),t("div",{class:"border-t border-gray-300 pt-3 flex justify-between items-center",children:[t("span",{class:"text-xl font-bold text-gray-800",children:"合計"}),t("span",{class:"text-2xl font-bold text-blue-600",id:"paymentTotalPrice",children:"¥0"})]})]})]}),t("div",{class:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[t("h3",{class:"text-xl font-bold text-gray-800 mb-6",children:"お支払い情報"}),t("form",{id:"paymentForm",class:"space-y-6",children:[t("div",{children:[t("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"カード番号"}),t("div",{class:"relative",children:[t("input",{type:"text",placeholder:"1234 5678 9012 3456",pattern:"[0-9\\s]{13,19}",maxlength:"19",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),t("i",{class:"fas fa-credit-card absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]})]}),t("div",{class:"grid grid-cols-2 gap-4",children:[t("div",{children:[t("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"有効期限"}),t("input",{type:"text",placeholder:"MM/YY",pattern:"(0[1-9]|1[0-2])\\/[0-9]{2}",maxlength:"5",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),t("div",{children:[t("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"セキュリティコード"}),t("input",{type:"text",placeholder:"CVV",pattern:"[0-9]{3,4}",maxlength:"4",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),t("div",{children:[t("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"カード名義人"}),t("input",{type:"text",placeholder:"TARO YAMADA",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),t("div",{children:[t("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"請求先住所"}),t("input",{type:"text",placeholder:"東京都渋谷区...",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]})]}),t("div",{class:"bg-white rounded-2xl shadow-xl p-6 sticky bottom-4",children:[t("div",{class:"flex space-x-4",children:[t("button",{type:"button",onclick:"backToConfirmation()",class:"flex-1 bg-gray-200 text-gray-700 py-4 px-8 rounded-lg font-semibold hover:bg-gray-300 transition",children:"キャンセル"}),t("button",{type:"button",onclick:"completeBooking()",class:"flex-1 bg-gradient-to-r from-green-600 to-blue-600 text-white py-4 px-8 rounded-lg font-semibold hover:from-green-700 hover:to-blue-700 transition shadow-lg hover:shadow-xl",children:[t("i",{class:"fas fa-lock mr-2"}),t("span",{id:"paymentButtonText",children:"¥0 を支払う"})]})]}),t("p",{class:"text-xs text-gray-500 text-center mt-4",children:[t("i",{class:"fas fa-shield-alt mr-1"}),"お客様の決済情報は暗号化され、安全に処理されます。"]})]})]}),t("footer",{class:"bg-gray-800 text-white mt-auto",children:t("div",{class:"container mx-auto px-4 py-8",children:[t("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[t("div",{children:[t("h5",{class:"font-bold text-lg mb-4",children:"FlightSearch"}),t("p",{class:"text-gray-400",children:"お得な航空券を簡単検索"})]}),t("div",{children:[t("h5",{class:"font-bold text-lg mb-4",children:"リンク"}),t("ul",{class:"space-y-2 text-gray-400",children:[t("li",{children:t("a",{href:"#",class:"hover:text-white",children:"利用規約"})}),t("li",{children:t("a",{href:"#",class:"hover:text-white",children:"プライバシーポリシー"})}),t("li",{children:t("a",{href:"#",class:"hover:text-white",children:"お問い合わせ"})})]})]}),t("div",{children:[t("h5",{class:"font-bold text-lg mb-4",children:"フォロー"}),t("div",{class:"flex space-x-4",children:[t("a",{href:"#",class:"text-gray-400 hover:text-white",children:t("i",{class:"fab fa-facebook text-2xl"})}),t("a",{href:"#",class:"text-gray-400 hover:text-white",children:t("i",{class:"fab fa-twitter text-2xl"})}),t("a",{href:"#",class:"text-gray-400 hover:text-white",children:t("i",{class:"fab fa-instagram text-2xl"})})]})]})]}),t("div",{class:"border-t border-gray-700 mt-8 pt-8 text-center text-gray-400",children:t("p",{children:"© 2026 FlightSearch. All rights reserved."})})]})})]})}),t("div",{id:"completePage",class:"hidden fixed inset-0 bg-gradient-to-br from-green-50 to-blue-100 overflow-y-auto z-40",children:t("div",{class:"min-h-screen flex flex-col",children:[t("div",{class:"container mx-auto px-4 py-8 flex-grow max-w-4xl",children:[t("div",{class:"bg-white rounded-2xl shadow-xl p-8 mb-6 text-center",children:[t("div",{class:"mb-6",children:[t("div",{class:"inline-flex items-center justify-center w-24 h-24 bg-green-100 rounded-full mb-4",children:t("i",{class:"fas fa-check-circle text-green-600 text-6xl"})}),t("h2",{class:"text-4xl font-bold text-gray-800 mb-2",children:"予約が完了しました！"}),t("p",{class:"text-gray-600",children:"ご予約ありがとうございます。予約確認メールをお送りしました。"})]}),t("div",{class:"bg-blue-50 border-2 border-blue-200 rounded-lg p-6 mb-6",children:[t("div",{class:"text-sm text-gray-600 mb-2",children:"予約番号"}),t("div",{class:"text-3xl font-bold text-blue-600",id:"bookingReference",children:"ABC123456"}),t("p",{class:"text-xs text-gray-500 mt-2",children:"この予約番号は、予約の確認や変更に必要です。大切に保管してください。"})]})]}),t("div",{class:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[t("h3",{class:"text-2xl font-bold text-gray-800 mb-4 flex items-center",children:[t("i",{class:"fas fa-plane text-blue-600 mr-2"}),"フライト情報"]}),t("div",{id:"completeFlightSummary",class:"space-y-4"})]}),t("div",{class:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[t("h3",{class:"text-xl font-bold text-gray-800 mb-4",children:"次のステップ"}),t("div",{class:"space-y-4",children:[t("div",{class:"flex items-start space-x-3",children:[t("div",{class:"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:t("span",{class:"text-blue-600 font-bold",children:"1"})}),t("div",{children:[t("h4",{class:"font-semibold text-gray-800",children:"予約確認メールを確認"}),t("p",{class:"text-sm text-gray-600",children:"ご登録のメールアドレスに予約詳細を送信しました。"})]})]}),t("div",{class:"flex items-start space-x-3",children:[t("div",{class:"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:t("span",{class:"text-blue-600 font-bold",children:"2"})}),t("div",{children:[t("h4",{class:"font-semibold text-gray-800",children:"オンラインチェックイン"}),t("p",{class:"text-sm text-gray-600",children:"出発24時間前からオンラインチェックインが可能です。"})]})]}),t("div",{class:"flex items-start space-x-3",children:[t("div",{class:"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:t("span",{class:"text-blue-600 font-bold",children:"3"})}),t("div",{children:[t("h4",{class:"font-semibold text-gray-800",children:"空港へ出発"}),t("p",{class:"text-sm text-gray-600",children:"出発の2時間前までに空港へお越しください。"})]})]})]})]}),t("div",{class:"bg-white rounded-2xl shadow-xl p-6",children:t("div",{class:"flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4",children:[t("button",{type:"button",onclick:"downloadTicket()",class:"flex-1 bg-blue-600 text-white py-4 px-8 rounded-lg font-semibold hover:bg-blue-700 transition shadow-lg hover:shadow-xl",children:[t("i",{class:"fas fa-download mr-2"}),"予約確認書をダウンロード"]}),t("button",{type:"button",onclick:"returnToSearch()",class:"flex-1 bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-4 px-8 rounded-lg font-semibold hover:from-blue-700 hover:to-indigo-700 transition shadow-lg hover:shadow-xl",children:[t("i",{class:"fas fa-home mr-2"}),"検索トップに戻る"]})]})})]}),t("footer",{class:"bg-gray-800 text-white mt-auto",children:t("div",{class:"container mx-auto px-4 py-8",children:[t("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[t("div",{children:[t("h5",{class:"font-bold text-lg mb-4",children:"FlightSearch"}),t("p",{class:"text-gray-400",children:"お得な航空券を簡単検索"})]}),t("div",{children:[t("h5",{class:"font-bold text-lg mb-4",children:"リンク"}),t("ul",{class:"space-y-2 text-gray-400",children:[t("li",{children:t("a",{href:"#",class:"hover:text-white",children:"利用規約"})}),t("li",{children:t("a",{href:"#",class:"hover:text-white",children:"プライバシーポリシー"})}),t("li",{children:t("a",{href:"#",class:"hover:text-white",children:"お問い合わせ"})})]})]}),t("div",{children:[t("h5",{class:"font-bold text-lg mb-4",children:"フォロー"}),t("div",{class:"flex space-x-4",children:[t("a",{href:"#",class:"text-gray-400 hover:text-white",children:t("i",{class:"fab fa-facebook text-2xl"})}),t("a",{href:"#",class:"text-gray-400 hover:text-white",children:t("i",{class:"fab fa-twitter text-2xl"})}),t("a",{href:"#",class:"text-gray-400 hover:text-white",children:t("i",{class:"fab fa-instagram text-2xl"})})]})]})]}),t("div",{class:"border-t border-gray-700 mt-8 pt-8 text-center text-gray-400",children:t("p",{children:"© 2026 FlightSearch. All rights reserved."})})]})})]})}),t("script",{src:"/static/app.js"})]})));it.post("/api/search",async e=>{const r=await e.req.json();return e.json({success:!0,message:"Search received",data:r})});const Vt=new Cr,nl=Object.assign({"/src/index.tsx":it});let Fr=!1;for(const[,e]of Object.entries(nl))e&&(Vt.all("*",r=>{let s;try{s=r.executionCtx}catch{}return e.fetch(r.req.raw,r.env,s)}),Vt.notFound(r=>{let s;try{s=r.executionCtx}catch{}return e.fetch(r.req.raw,r.env,s)}),Fr=!0);if(!Fr)throw new Error("Can't import modules from ['/src/index.ts','/src/index.tsx','/app/server.ts']");export{Vt as default};
