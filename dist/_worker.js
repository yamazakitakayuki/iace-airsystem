var Dr=Object.defineProperty;var jt=t=>{throw TypeError(t)};var Hr=(t,r,s)=>r in t?Dr(t,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[r]=s;var b=(t,r,s)=>Hr(t,typeof r!="symbol"?r+"":r,s),nt=(t,r,s)=>r.has(t)||jt("Cannot "+s);var h=(t,r,s)=>(nt(t,r,"read from private field"),s?s.call(t):r.get(t)),k=(t,r,s)=>r.has(t)?jt("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(t):r.set(t,s),v=(t,r,s,l)=>(nt(t,r,"write to private field"),l?l.call(t,s):r.set(t,s),s),S=(t,r,s)=>(nt(t,r,"access private method"),s);var Tt=(t,r,s,l)=>({set _(i){v(t,r,i,s)},get _(){return h(t,r,l)}});var tr={Stringify:1},$=(t,r)=>{const s=new String(t);return s.isEscaped=!0,s.callbacks=r,s},Br=/[&<>'"]/,rr=async(t,r)=>{let s="";r||(r=[]);const l=await Promise.all(t);for(let i=l.length-1;s+=l[i],i--,!(i<0);i--){let a=l[i];typeof a=="object"&&r.push(...a.callbacks||[]);const c=a.isEscaped;if(a=await(typeof a=="object"?a.toString():a),typeof a=="object"&&r.push(...a.callbacks||[]),a.isEscaped??c)s+=a;else{const n=[s];ee(a,n),s=n[0]}}return $(s,r)},ee=(t,r)=>{const s=t.search(Br);if(s===-1){r[0]+=t;return}let l,i,a=0;for(i=s;i<t.length;i++){switch(t.charCodeAt(i)){case 34:l="&quot;";break;case 39:l="&#39;";break;case 38:l="&amp;";break;case 60:l="&lt;";break;case 62:l="&gt;";break;default:continue}r[0]+=t.substring(a,i)+l,a=i+1}r[0]+=t.substring(a,i)},sr=t=>{const r=t.callbacks;if(!(r!=null&&r.length))return t;const s=[t],l={};return r.forEach(i=>i({phase:tr.Stringify,buffer:s,context:l})),s[0]},lr=async(t,r,s,l,i)=>{typeof t=="object"&&!(t instanceof String)&&(t instanceof Promise||(t=t.toString()),t instanceof Promise&&(t=await t));const a=t.callbacks;return a!=null&&a.length?(i?i[0]+=t:i=[t],Promise.all(a.map(n=>n({phase:r,buffer:i,context:l}))).then(n=>Promise.all(n.filter(Boolean).map(o=>lr(o,r,!1,l,i))).then(()=>i[0]))):Promise.resolve(t)},Ir=(t,...r)=>{const s=[""];for(let l=0,i=t.length-1;l<i;l++){s[0]+=t[l];const a=Array.isArray(r[l])?r[l].flat(1/0):[r[l]];for(let c=0,n=a.length;c<n;c++){const o=a[c];if(typeof o=="string")ee(o,s);else if(typeof o=="number")s[0]+=o;else{if(typeof o=="boolean"||o===null||o===void 0)continue;if(typeof o=="object"&&o.isEscaped)if(o.callbacks)s.unshift("",o);else{const d=o.toString();d instanceof Promise?s.unshift("",d):s[0]+=d}else o instanceof Promise?s.unshift("",o):ee(o.toString(),s)}}}return s[0]+=t.at(-1),s.length===1?"callbacks"in s?$(sr($(s[0],s.callbacks))):$(s[0]):rr(s,s.callbacks)},kt=Symbol("RENDERER"),mt=Symbol("ERROR_HANDLER"),R=Symbol("STASH"),ir=Symbol("INTERNAL"),_r=Symbol("MEMO"),tt=Symbol("PERMALINK"),Ot=t=>(t[ir]=!0,t),ar=t=>({value:r,children:s})=>{if(!s)return;const l={children:[{tag:Ot(()=>{t.push(r)}),props:{}}]};Array.isArray(s)?l.children.push(...s.flat()):l.children.push(s),l.children.push({tag:Ot(()=>{t.pop()}),props:{}});const i={tag:"",props:l,type:""};return i[mt]=a=>{throw t.pop(),a},i},nr=t=>{const r=[t],s=ar(r);return s.values=r,s.Provider=s,we.push(s),s},we=[],Et=t=>{const r=[t],s=(l=>{r.push(l.value);let i;try{i=l.children?(Array.isArray(l.children)?new hr("",{},l.children):l.children).toString():""}catch(a){throw r.pop(),a}return i instanceof Promise?i.finally(()=>r.pop()).then(a=>$(a,a.callbacks)):(r.pop(),$(i))});return s.values=r,s.Provider=s,s[kt]=ar(r),we.push(s),s},Ee=t=>t.values.at(-1),Ve={title:[],script:["src"],style:["data-href"],link:["href"],meta:["name","httpEquiv","charset","itemProp"]},pt={},Ge="data-precedence",Be=t=>Array.isArray(t)?t:[t],Mt=new WeakMap,Ft=(t,r,s,l)=>({buffer:i,context:a})=>{if(!i)return;const c=Mt.get(a)||{};Mt.set(a,c);const n=c[t]||(c[t]=[]);let o=!1;const d=Ve[t];if(d.length>0){e:for(const[,f]of n)for(const u of d)if(((f==null?void 0:f[u])??null)===(s==null?void 0:s[u])){o=!0;break e}}if(o?i[0]=i[0].replaceAll(r,""):d.length>0?n.push([r,s,l]):n.unshift([r,s,l]),i[0].indexOf("</head>")!==-1){let f;if(l===void 0)f=n.map(([u])=>u);else{const u=[];f=n.map(([x,,g])=>{let p=u.indexOf(g);return p===-1&&(u.push(g),p=u.length-1),[x,p]}).sort((x,g)=>x[1]-g[1]).map(([x])=>x)}f.forEach(u=>{i[0]=i[0].replaceAll(u,"")}),i[0]=i[0].replace(/(?=<\/head>)/,f.join(""))}},Ie=(t,r,s)=>$(new B(t,s,Be(r??[])).toString()),_e=(t,r,s,l)=>{if("itemProp"in s)return Ie(t,r,s);let{precedence:i,blocking:a,...c}=s;i=l?i??"":void 0,l&&(c[Ge]=i);const n=new B(t,c,Be(r||[])).toString();return n instanceof Promise?n.then(o=>$(n,[...o.callbacks||[],Ft(t,o,c,i)])):$(n,[Ft(t,n,c,i)])},qr=({children:t,...r})=>{const s=St();if(s){const l=Ee(s);if(l==="svg"||l==="head")return new B("title",r,Be(t??[]))}return _e("title",t,r,!1)},zr=({children:t,...r})=>{const s=St();return["src","async"].some(l=>!r[l])||s&&Ee(s)==="head"?Ie("script",t,r):_e("script",t,r,!1)},Ur=({children:t,...r})=>["href","precedence"].every(s=>s in r)?(r["data-href"]=r.href,delete r.href,_e("style",t,r,!0)):Ie("style",t,r),Wr=({children:t,...r})=>["onLoad","onError"].some(s=>s in r)||r.rel==="stylesheet"&&(!("precedence"in r)||"disabled"in r)?Ie("link",t,r):_e("link",t,r,"precedence"in r),Kr=({children:t,...r})=>{const s=St();return s&&Ee(s)==="head"?Ie("meta",t,r):_e("meta",t,r,!1)},cr=(t,{children:r,...s})=>new B(t,s,Be(r??[])),Vr=t=>(typeof t.action=="function"&&(t.action=tt in t.action?t.action[tt]:void 0),cr("form",t)),or=(t,r)=>(typeof r.formAction=="function"&&(r.formAction=tt in r.formAction?r.formAction[tt]:void 0),cr(t,r)),Gr=t=>or("input",t),Jr=t=>or("button",t);const ct=Object.freeze(Object.defineProperty({__proto__:null,button:Jr,form:Vr,input:Gr,link:Wr,meta:Kr,script:zr,style:Ur,title:qr},Symbol.toStringTag,{value:"Module"}));var Xr=new Map([["className","class"],["htmlFor","for"],["crossOrigin","crossorigin"],["httpEquiv","http-equiv"],["itemProp","itemprop"],["fetchPriority","fetchpriority"],["noModule","nomodule"],["formAction","formaction"]]),rt=t=>Xr.get(t)||t,dr=(t,r)=>{for(const[s,l]of Object.entries(t)){const i=s[0]==="-"||!/[A-Z]/.test(s)?s:s.replace(/[A-Z]/g,a=>`-${a.toLowerCase()}`);r(i,l==null?null:typeof l=="number"?i.match(/^(?:a|border-im|column(?:-c|s)|flex(?:$|-[^b])|grid-(?:ar|[^a])|font-w|li|or|sca|st|ta|wido|z)|ty$/)?`${l}`:`${l}px`:l)}},Te=void 0,St=()=>Te,Yr=t=>/[A-Z]/.test(t)&&t.match(/^(?:al|basel|clip(?:Path|Rule)$|co|do|fill|fl|fo|gl|let|lig|i|marker[EMS]|o|pai|pointe|sh|st[or]|text[^L]|tr|u|ve|w)/)?t.replace(/([A-Z])/g,"-$1").toLowerCase():t,Zr=["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],Qr=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","download","formnovalidate","hidden","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"],Ct=(t,r)=>{for(let s=0,l=t.length;s<l;s++){const i=t[s];if(typeof i=="string")ee(i,r);else{if(typeof i=="boolean"||i===null||i===void 0)continue;i instanceof B?i.toStringToBuffer(r):typeof i=="number"||i.isEscaped?r[0]+=i:i instanceof Promise?r.unshift("",i):Ct(i,r)}}},B=class{constructor(t,r,s){b(this,"tag");b(this,"props");b(this,"key");b(this,"children");b(this,"isEscaped",!0);b(this,"localContexts");this.tag=t,this.props=r,this.children=s}get type(){return this.tag}get ref(){return this.props.ref||null}toString(){var r,s;const t=[""];(r=this.localContexts)==null||r.forEach(([l,i])=>{l.values.push(i)});try{this.toStringToBuffer(t)}finally{(s=this.localContexts)==null||s.forEach(([l])=>{l.values.pop()})}return t.length===1?"callbacks"in t?sr($(t[0],t.callbacks)).toString():t[0]:rr(t,t.callbacks)}toStringToBuffer(t){const r=this.tag,s=this.props;let{children:l}=this;t[0]+=`<${r}`;const i=Te&&Ee(Te)==="svg"?a=>Yr(rt(a)):a=>rt(a);for(let[a,c]of Object.entries(s))if(a=i(a),a!=="children"){if(a==="style"&&typeof c=="object"){let n="";dr(c,(o,d)=>{d!=null&&(n+=`${n?";":""}${o}:${d}`)}),t[0]+=' style="',ee(n,t),t[0]+='"'}else if(typeof c=="string")t[0]+=` ${a}="`,ee(c,t),t[0]+='"';else if(c!=null)if(typeof c=="number"||c.isEscaped)t[0]+=` ${a}="${c}"`;else if(typeof c=="boolean"&&Qr.includes(a))c&&(t[0]+=` ${a}=""`);else if(a==="dangerouslySetInnerHTML"){if(l.length>0)throw new Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");l=[$(c.__html)]}else if(c instanceof Promise)t[0]+=` ${a}="`,t.unshift('"',c);else if(typeof c=="function"){if(!a.startsWith("on")&&a!=="ref")throw new Error(`Invalid prop '${a}' of type 'function' supplied to '${r}'.`)}else t[0]+=` ${a}="`,ee(c.toString(),t),t[0]+='"'}if(Zr.includes(r)&&l.length===0){t[0]+="/>";return}t[0]+=">",Ct(l,t),t[0]+=`</${r}>`}},ot=class extends B{toStringToBuffer(t){const{children:r}=this,s={...this.props};r.length&&(s.children=r.length===1?r[0]:r);const l=this.tag.call(null,s);if(!(typeof l=="boolean"||l==null))if(l instanceof Promise)if(we.length===0)t.unshift("",l);else{const i=we.map(a=>[a,a.values.at(-1)]);t.unshift("",l.then(a=>(a instanceof B&&(a.localContexts=i),a)))}else l instanceof B?l.toStringToBuffer(t):typeof l=="number"||l.isEscaped?(t[0]+=l,l.callbacks&&(t.callbacks||(t.callbacks=[]),t.callbacks.push(...l.callbacks))):ee(l,t)}},hr=class extends B{toStringToBuffer(t){Ct(this.children,t)}},Lt=(t,r,...s)=>{r??(r={}),s.length&&(r.children=s.length===1?s[0]:s);const l=r.key;delete r.key;const i=Je(t,r,s);return i.key=l,i},$t=!1,Je=(t,r,s)=>{if(!$t){for(const l in pt)ct[l][kt]=pt[l];$t=!0}return typeof t=="function"?new ot(t,r,s):ct[t]?new ot(ct[t],r,s):t==="svg"||t==="head"?(Te||(Te=Et("")),new B(t,r,[new ot(Te,{value:t},s)])):new B(t,r,s)},es=({children:t})=>new hr("",{children:t},Array.isArray(t)?t:t?[t]:[]);function e(t,r,s){let l;if(!r||!("children"in r))l=Je(t,r,[]);else{const i=r.children;l=Array.isArray(i)?Je(t,r,i):Je(t,r,[i])}return l.key=s,l}var Nt=(t,r,s)=>(l,i)=>{let a=-1;return c(0);async function c(n){if(n<=a)throw new Error("next() called multiple times");a=n;let o,d=!1,f;if(t[n]?(f=t[n][0][0],l.req.routeIndex=n):f=n===t.length&&i||void 0,f)try{o=await f(l,()=>c(n+1))}catch(u){if(u instanceof Error&&r)l.error=u,o=await r(u,l),d=!0;else throw u}else l.finalized===!1&&s&&(o=await s(l));return o&&(l.finalized===!1||d)&&(l.res=o),l}},ts=class extends Error{constructor(r=500,s){super(s==null?void 0:s.message,{cause:s==null?void 0:s.cause});b(this,"res");b(this,"status");this.res=s==null?void 0:s.res,this.status=r}getResponse(){return this.res?new Response(this.res.body,{status:this.status,headers:this.res.headers}):new Response(this.message,{status:this.status})}},rs=Symbol(),ss=async(t,r=Object.create(null))=>{const{all:s=!1,dot:l=!1}=r,a=(t instanceof mr?t.raw.headers:t.headers).get("Content-Type");return a!=null&&a.startsWith("multipart/form-data")||a!=null&&a.startsWith("application/x-www-form-urlencoded")?ls(t,{all:s,dot:l}):{}};async function ls(t,r){const s=await t.formData();return s?is(s,r):{}}function is(t,r){const s=Object.create(null);return t.forEach((l,i)=>{r.all||i.endsWith("[]")?as(s,i,l):s[i]=l}),r.dot&&Object.entries(s).forEach(([l,i])=>{l.includes(".")&&(ns(s,l,i),delete s[l])}),s}var as=(t,r,s)=>{t[r]!==void 0?Array.isArray(t[r])?t[r].push(s):t[r]=[t[r],s]:r.endsWith("[]")?t[r]=[s]:t[r]=s},ns=(t,r,s)=>{let l=t;const i=r.split(".");i.forEach((a,c)=>{c===i.length-1?l[a]=s:((!l[a]||typeof l[a]!="object"||Array.isArray(l[a])||l[a]instanceof File)&&(l[a]=Object.create(null)),l=l[a])})},fr=t=>{const r=t.split("/");return r[0]===""&&r.shift(),r},cs=t=>{const{groups:r,path:s}=os(t),l=fr(s);return ds(l,r)},os=t=>{const r=[];return t=t.replace(/\{[^}]+\}/g,(s,l)=>{const i=`@${l}`;return r.push([i,s]),i}),{groups:r,path:t}},ds=(t,r)=>{for(let s=r.length-1;s>=0;s--){const[l]=r[s];for(let i=t.length-1;i>=0;i--)if(t[i].includes(l)){t[i]=t[i].replace(l,r[s][1]);break}}return t},We={},hs=(t,r)=>{if(t==="*")return"*";const s=t.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);if(s){const l=`${t}#${r}`;return We[l]||(s[2]?We[l]=r&&r[0]!==":"&&r[0]!=="*"?[l,s[1],new RegExp(`^${s[2]}(?=/${r})`)]:[t,s[1],new RegExp(`^${s[2]}$`)]:We[l]=[t,s[1],!0]),We[l]}return null},Pt=(t,r)=>{try{return r(t)}catch{return t.replace(/(?:%[0-9A-Fa-f]{2})+/g,s=>{try{return r(s)}catch{return s}})}},fs=t=>Pt(t,decodeURI),ur=t=>{const r=t.url,s=r.indexOf("/",r.indexOf(":")+4);let l=s;for(;l<r.length;l++){const i=r.charCodeAt(l);if(i===37){const a=r.indexOf("?",l),c=r.indexOf("#",l),n=a===-1?c===-1?void 0:c:c===-1?a:Math.min(a,c),o=r.slice(s,n);return fs(o.includes("%25")?o.replace(/%25/g,"%2525"):o)}else if(i===63||i===35)break}return r.slice(s,l)},us=t=>{const r=ur(t);return r.length>1&&r.at(-1)==="/"?r.slice(0,-1):r},he=(t,r,...s)=>(s.length&&(r=he(r,...s)),`${(t==null?void 0:t[0])==="/"?"":"/"}${t}${r==="/"?"":`${(t==null?void 0:t.at(-1))==="/"?"":"/"}${(r==null?void 0:r[0])==="/"?r.slice(1):r}`}`),xr=t=>{if(t.charCodeAt(t.length-1)!==63||!t.includes(":"))return null;const r=t.split("/"),s=[];let l="";return r.forEach(i=>{if(i!==""&&!/\:/.test(i))l+="/"+i;else if(/\:/.test(i))if(/\?/.test(i)){s.length===0&&l===""?s.push("/"):s.push(l);const a=i.replace("?","");l+="/"+a,s.push(l)}else l+="/"+i}),s.filter((i,a,c)=>c.indexOf(i)===a)},dt=t=>/[%+]/.test(t)?(t.indexOf("+")!==-1&&(t=t.replace(/\+/g," ")),t.indexOf("%")!==-1?Pt(t,br):t):t,gr=(t,r,s)=>{let l;if(!s&&r&&!/[%+]/.test(r)){let c=t.indexOf("?",8);if(c===-1)return;for(t.startsWith(r,c+1)||(c=t.indexOf(`&${r}`,c+1));c!==-1;){const n=t.charCodeAt(c+r.length+1);if(n===61){const o=c+r.length+2,d=t.indexOf("&",o);return dt(t.slice(o,d===-1?void 0:d))}else if(n==38||isNaN(n))return"";c=t.indexOf(`&${r}`,c+1)}if(l=/[%+]/.test(t),!l)return}const i={};l??(l=/[%+]/.test(t));let a=t.indexOf("?",8);for(;a!==-1;){const c=t.indexOf("&",a+1);let n=t.indexOf("=",a);n>c&&c!==-1&&(n=-1);let o=t.slice(a+1,n===-1?c===-1?void 0:c:n);if(l&&(o=dt(o)),a=c,o==="")continue;let d;n===-1?d="":(d=t.slice(n+1,c===-1?void 0:c),l&&(d=dt(d))),s?(i[o]&&Array.isArray(i[o])||(i[o]=[]),i[o].push(d)):i[o]??(i[o]=d)}return r?i[r]:i},xs=gr,gs=(t,r)=>gr(t,r,!0),br=decodeURIComponent,Dt=t=>Pt(t,br),xe,L,K,pr,yr,yt,G,Jt,mr=(Jt=class{constructor(t,r="/",s=[[]]){k(this,K);b(this,"raw");k(this,xe);k(this,L);b(this,"routeIndex",0);b(this,"path");b(this,"bodyCache",{});k(this,G,t=>{const{bodyCache:r,raw:s}=this,l=r[t];if(l)return l;const i=Object.keys(r)[0];return i?r[i].then(a=>(i==="json"&&(a=JSON.stringify(a)),new Response(a)[t]())):r[t]=s[t]()});this.raw=t,this.path=r,v(this,L,s),v(this,xe,{})}param(t){return t?S(this,K,pr).call(this,t):S(this,K,yr).call(this)}query(t){return xs(this.url,t)}queries(t){return gs(this.url,t)}header(t){if(t)return this.raw.headers.get(t)??void 0;const r={};return this.raw.headers.forEach((s,l)=>{r[l]=s}),r}async parseBody(t){var r;return(r=this.bodyCache).parsedBody??(r.parsedBody=await ss(this,t))}json(){return h(this,G).call(this,"text").then(t=>JSON.parse(t))}text(){return h(this,G).call(this,"text")}arrayBuffer(){return h(this,G).call(this,"arrayBuffer")}blob(){return h(this,G).call(this,"blob")}formData(){return h(this,G).call(this,"formData")}addValidatedData(t,r){h(this,xe)[t]=r}valid(t){return h(this,xe)[t]}get url(){return this.raw.url}get method(){return this.raw.method}get[rs](){return h(this,L)}get matchedRoutes(){return h(this,L)[0].map(([[,t]])=>t)}get routePath(){return h(this,L)[0].map(([[,t]])=>t)[this.routeIndex].path}},xe=new WeakMap,L=new WeakMap,K=new WeakSet,pr=function(t){const r=h(this,L)[0][this.routeIndex][1][t],s=S(this,K,yt).call(this,r);return s&&/\%/.test(s)?Dt(s):s},yr=function(){const t={},r=Object.keys(h(this,L)[0][this.routeIndex][1]);for(const s of r){const l=S(this,K,yt).call(this,h(this,L)[0][this.routeIndex][1][s]);l!==void 0&&(t[s]=/\%/.test(l)?Dt(l):l)}return t},yt=function(t){return h(this,L)[1]?h(this,L)[1][t]:t},G=new WeakMap,Jt),bs="text/plain; charset=UTF-8",ht=(t,r)=>({"Content-Type":t,...r}),Fe,Le,q,ge,z,F,$e,be,me,se,Ne,De,J,fe,Xt,ms=(Xt=class{constructor(t,r){k(this,J);k(this,Fe);k(this,Le);b(this,"env",{});k(this,q);b(this,"finalized",!1);b(this,"error");k(this,ge);k(this,z);k(this,F);k(this,$e);k(this,be);k(this,me);k(this,se);k(this,Ne);k(this,De);b(this,"render",(...t)=>(h(this,be)??v(this,be,r=>this.html(r)),h(this,be).call(this,...t)));b(this,"setLayout",t=>v(this,$e,t));b(this,"getLayout",()=>h(this,$e));b(this,"setRenderer",t=>{v(this,be,t)});b(this,"header",(t,r,s)=>{this.finalized&&v(this,F,new Response(h(this,F).body,h(this,F)));const l=h(this,F)?h(this,F).headers:h(this,se)??v(this,se,new Headers);r===void 0?l.delete(t):s!=null&&s.append?l.append(t,r):l.set(t,r)});b(this,"status",t=>{v(this,ge,t)});b(this,"set",(t,r)=>{h(this,q)??v(this,q,new Map),h(this,q).set(t,r)});b(this,"get",t=>h(this,q)?h(this,q).get(t):void 0);b(this,"newResponse",(...t)=>S(this,J,fe).call(this,...t));b(this,"body",(t,r,s)=>S(this,J,fe).call(this,t,r,s));b(this,"text",(t,r,s)=>!h(this,se)&&!h(this,ge)&&!r&&!s&&!this.finalized?new Response(t):S(this,J,fe).call(this,t,r,ht(bs,s)));b(this,"json",(t,r,s)=>S(this,J,fe).call(this,JSON.stringify(t),r,ht("application/json",s)));b(this,"html",(t,r,s)=>{const l=i=>S(this,J,fe).call(this,i,r,ht("text/html; charset=UTF-8",s));return typeof t=="object"?lr(t,tr.Stringify,!1,{}).then(l):l(t)});b(this,"redirect",(t,r)=>{const s=String(t);return this.header("Location",/[^\x00-\xFF]/.test(s)?encodeURI(s):s),this.newResponse(null,r??302)});b(this,"notFound",()=>(h(this,me)??v(this,me,()=>new Response),h(this,me).call(this,this)));v(this,Fe,t),r&&(v(this,z,r.executionCtx),this.env=r.env,v(this,me,r.notFoundHandler),v(this,De,r.path),v(this,Ne,r.matchResult))}get req(){return h(this,Le)??v(this,Le,new mr(h(this,Fe),h(this,De),h(this,Ne))),h(this,Le)}get event(){if(h(this,z)&&"respondWith"in h(this,z))return h(this,z);throw Error("This context has no FetchEvent")}get executionCtx(){if(h(this,z))return h(this,z);throw Error("This context has no ExecutionContext")}get res(){return h(this,F)||v(this,F,new Response(null,{headers:h(this,se)??v(this,se,new Headers)}))}set res(t){if(h(this,F)&&t){t=new Response(t.body,t);for(const[r,s]of h(this,F).headers.entries())if(r!=="content-type")if(r==="set-cookie"){const l=h(this,F).headers.getSetCookie();t.headers.delete("set-cookie");for(const i of l)t.headers.append("set-cookie",i)}else t.headers.set(r,s)}v(this,F,t),this.finalized=!0}get var(){return h(this,q)?Object.fromEntries(h(this,q)):{}}},Fe=new WeakMap,Le=new WeakMap,q=new WeakMap,ge=new WeakMap,z=new WeakMap,F=new WeakMap,$e=new WeakMap,be=new WeakMap,me=new WeakMap,se=new WeakMap,Ne=new WeakMap,De=new WeakMap,J=new WeakSet,fe=function(t,r,s){const l=h(this,F)?new Headers(h(this,F).headers):h(this,se)??new Headers;if(typeof r=="object"&&"headers"in r){const a=r.headers instanceof Headers?r.headers:new Headers(r.headers);for(const[c,n]of a)c.toLowerCase()==="set-cookie"?l.append(c,n):l.set(c,n)}if(s)for(const[a,c]of Object.entries(s))if(typeof c=="string")l.set(a,c);else{l.delete(a);for(const n of c)l.append(a,n)}const i=typeof r=="number"?r:(r==null?void 0:r.status)??h(this,ge);return new Response(t,{status:i,headers:l})},Xt),j="ALL",ps="all",ys=["get","post","put","delete","options","patch"],vr="Can not add a route since the matcher is already built.",wr=class extends Error{},vs="__COMPOSED_HANDLER",ws=t=>t.text("404 Not Found",404),Ht=(t,r)=>{if("getResponse"in t){const s=t.getResponse();return r.newResponse(s.body,s)}return console.error(t),r.text("Internal Server Error",500)},N,T,kr,D,te,Xe,Ye,pe,ks=(pe=class{constructor(r={}){k(this,T);b(this,"get");b(this,"post");b(this,"put");b(this,"delete");b(this,"options");b(this,"patch");b(this,"all");b(this,"on");b(this,"use");b(this,"router");b(this,"getPath");b(this,"_basePath","/");k(this,N,"/");b(this,"routes",[]);k(this,D,ws);b(this,"errorHandler",Ht);b(this,"onError",r=>(this.errorHandler=r,this));b(this,"notFound",r=>(v(this,D,r),this));b(this,"fetch",(r,...s)=>S(this,T,Ye).call(this,r,s[1],s[0],r.method));b(this,"request",(r,s,l,i)=>r instanceof Request?this.fetch(s?new Request(r,s):r,l,i):(r=r.toString(),this.fetch(new Request(/^https?:\/\//.test(r)?r:`http://localhost${he("/",r)}`,s),l,i)));b(this,"fire",()=>{addEventListener("fetch",r=>{r.respondWith(S(this,T,Ye).call(this,r.request,r,void 0,r.request.method))})});[...ys,ps].forEach(a=>{this[a]=(c,...n)=>(typeof c=="string"?v(this,N,c):S(this,T,te).call(this,a,h(this,N),c),n.forEach(o=>{S(this,T,te).call(this,a,h(this,N),o)}),this)}),this.on=(a,c,...n)=>{for(const o of[c].flat()){v(this,N,o);for(const d of[a].flat())n.map(f=>{S(this,T,te).call(this,d.toUpperCase(),h(this,N),f)})}return this},this.use=(a,...c)=>(typeof a=="string"?v(this,N,a):(v(this,N,"*"),c.unshift(a)),c.forEach(n=>{S(this,T,te).call(this,j,h(this,N),n)}),this);const{strict:l,...i}=r;Object.assign(this,i),this.getPath=l??!0?r.getPath??ur:us}route(r,s){const l=this.basePath(r);return s.routes.map(i=>{var c;let a;s.errorHandler===Ht?a=i.handler:(a=async(n,o)=>(await Nt([],s.errorHandler)(n,()=>i.handler(n,o))).res,a[vs]=i.handler),S(c=l,T,te).call(c,i.method,i.path,a)}),this}basePath(r){const s=S(this,T,kr).call(this);return s._basePath=he(this._basePath,r),s}mount(r,s,l){let i,a;l&&(typeof l=="function"?a=l:(a=l.optionHandler,l.replaceRequest===!1?i=o=>o:i=l.replaceRequest));const c=a?o=>{const d=a(o);return Array.isArray(d)?d:[d]}:o=>{let d;try{d=o.executionCtx}catch{}return[o.env,d]};i||(i=(()=>{const o=he(this._basePath,r),d=o==="/"?0:o.length;return f=>{const u=new URL(f.url);return u.pathname=u.pathname.slice(d)||"/",new Request(u,f)}})());const n=async(o,d)=>{const f=await s(i(o.req.raw),...c(o));if(f)return f;await d()};return S(this,T,te).call(this,j,he(r,"*"),n),this}},N=new WeakMap,T=new WeakSet,kr=function(){const r=new pe({router:this.router,getPath:this.getPath});return r.errorHandler=this.errorHandler,v(r,D,h(this,D)),r.routes=this.routes,r},D=new WeakMap,te=function(r,s,l){r=r.toUpperCase(),s=he(this._basePath,s);const i={basePath:this._basePath,path:s,method:r,handler:l};this.router.add(r,s,[l,i]),this.routes.push(i)},Xe=function(r,s){if(r instanceof Error)return this.errorHandler(r,s);throw r},Ye=function(r,s,l,i){if(i==="HEAD")return(async()=>new Response(null,await S(this,T,Ye).call(this,r,s,l,"GET")))();const a=this.getPath(r,{env:l}),c=this.router.match(i,a),n=new ms(r,{path:a,matchResult:c,env:l,executionCtx:s,notFoundHandler:h(this,D)});if(c[0].length===1){let d;try{d=c[0][0][0][0](n,async()=>{n.res=await h(this,D).call(this,n)})}catch(f){return S(this,T,Xe).call(this,f,n)}return d instanceof Promise?d.then(f=>f||(n.finalized?n.res:h(this,D).call(this,n))).catch(f=>S(this,T,Xe).call(this,f,n)):d??h(this,D).call(this,n)}const o=Nt(c[0],this.errorHandler,h(this,D));return(async()=>{try{const d=await o(n);if(!d.finalized)throw new Error("Context is not finalized. Did you forget to return a Response object or `await next()`?");return d.res}catch(d){return S(this,T,Xe).call(this,d,n)}})()},pe),Er=[];function Es(t,r){const s=this.buildAllMatchers(),l=((i,a)=>{const c=s[i]||s[j],n=c[2][a];if(n)return n;const o=a.match(c[0]);if(!o)return[[],Er];const d=o.indexOf("",1);return[c[1][d],o]});return this.match=l,l(t,r)}var st="[^/]+",Re=".*",je="(?:|/.*)",ue=Symbol(),Ss=new Set(".\\+*[^]$()");function Cs(t,r){return t.length===1?r.length===1?t<r?-1:1:-1:r.length===1||t===Re||t===je?1:r===Re||r===je?-1:t===st?1:r===st?-1:t.length===r.length?t<r?-1:1:r.length-t.length}var le,ie,H,ce,Ps=(ce=class{constructor(){k(this,le);k(this,ie);k(this,H,Object.create(null))}insert(r,s,l,i,a){if(r.length===0){if(h(this,le)!==void 0)throw ue;if(a)return;v(this,le,s);return}const[c,...n]=r,o=c==="*"?n.length===0?["","",Re]:["","",st]:c==="/*"?["","",je]:c.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);let d;if(o){const f=o[1];let u=o[2]||st;if(f&&o[2]&&(u===".*"||(u=u.replace(/^\((?!\?:)(?=[^)]+\)$)/,"(?:"),/\((?!\?:)/.test(u))))throw ue;if(d=h(this,H)[u],!d){if(Object.keys(h(this,H)).some(x=>x!==Re&&x!==je))throw ue;if(a)return;d=h(this,H)[u]=new ce,f!==""&&v(d,ie,i.varIndex++)}!a&&f!==""&&l.push([f,h(d,ie)])}else if(d=h(this,H)[c],!d){if(Object.keys(h(this,H)).some(f=>f.length>1&&f!==Re&&f!==je))throw ue;if(a)return;d=h(this,H)[c]=new ce}d.insert(n,s,l,i,a)}buildRegExpStr(){const s=Object.keys(h(this,H)).sort(Cs).map(l=>{const i=h(this,H)[l];return(typeof h(i,ie)=="number"?`(${l})@${h(i,ie)}`:Ss.has(l)?`\\${l}`:l)+i.buildRegExpStr()});return typeof h(this,le)=="number"&&s.unshift(`#${h(this,le)}`),s.length===0?"":s.length===1?s[0]:"(?:"+s.join("|")+")"}},le=new WeakMap,ie=new WeakMap,H=new WeakMap,ce),lt,He,Yt,As=(Yt=class{constructor(){k(this,lt,{varIndex:0});k(this,He,new Ps)}insert(t,r,s){const l=[],i=[];for(let c=0;;){let n=!1;if(t=t.replace(/\{[^}]+\}/g,o=>{const d=`@\\${c}`;return i[c]=[d,o],c++,n=!0,d}),!n)break}const a=t.match(/(?::[^\/]+)|(?:\/\*$)|./g)||[];for(let c=i.length-1;c>=0;c--){const[n]=i[c];for(let o=a.length-1;o>=0;o--)if(a[o].indexOf(n)!==-1){a[o]=a[o].replace(n,i[c][1]);break}}return h(this,He).insert(a,r,l,h(this,lt),s),l}buildRegExp(){let t=h(this,He).buildRegExpStr();if(t==="")return[/^$/,[],[]];let r=0;const s=[],l=[];return t=t.replace(/#(\d+)|@(\d+)|\.\*\$/g,(i,a,c)=>a!==void 0?(s[++r]=Number(a),"$()"):(c!==void 0&&(l[Number(c)]=++r),"")),[new RegExp(`^${t}`),s,l]}},lt=new WeakMap,He=new WeakMap,Yt),Rs=[/^$/,[],Object.create(null)],Ze=Object.create(null);function Sr(t){return Ze[t]??(Ze[t]=new RegExp(t==="*"?"":`^${t.replace(/\/\*$|([.\\+*[^\]$()])/g,(r,s)=>s?`\\${s}`:"(?:|/.*)")}$`))}function js(){Ze=Object.create(null)}function Ts(t){var d;const r=new As,s=[];if(t.length===0)return Rs;const l=t.map(f=>[!/\*|\/:/.test(f[0]),...f]).sort(([f,u],[x,g])=>f?1:x?-1:u.length-g.length),i=Object.create(null);for(let f=0,u=-1,x=l.length;f<x;f++){const[g,p,y]=l[f];g?i[p]=[y.map(([w])=>[w,Object.create(null)]),Er]:u++;let m;try{m=r.insert(p,u,g)}catch(w){throw w===ue?new wr(p):w}g||(s[u]=y.map(([w,E])=>{const P=Object.create(null);for(E-=1;E>=0;E--){const[C,A]=m[E];P[C]=A}return[w,P]}))}const[a,c,n]=r.buildRegExp();for(let f=0,u=s.length;f<u;f++)for(let x=0,g=s[f].length;x<g;x++){const p=(d=s[f][x])==null?void 0:d[1];if(!p)continue;const y=Object.keys(p);for(let m=0,w=y.length;m<w;m++)p[y[m]]=n[p[y[m]]]}const o=[];for(const f in c)o[f]=s[c[f]];return[a,o,i]}function oe(t,r){if(t){for(const s of Object.keys(t).sort((l,i)=>i.length-l.length))if(Sr(s).test(r))return[...t[s]]}}var X,Y,it,Cr,Zt,Os=(Zt=class{constructor(){k(this,it);b(this,"name","RegExpRouter");k(this,X);k(this,Y);b(this,"match",Es);v(this,X,{[j]:Object.create(null)}),v(this,Y,{[j]:Object.create(null)})}add(t,r,s){var n;const l=h(this,X),i=h(this,Y);if(!l||!i)throw new Error(vr);l[t]||[l,i].forEach(o=>{o[t]=Object.create(null),Object.keys(o[j]).forEach(d=>{o[t][d]=[...o[j][d]]})}),r==="/*"&&(r="*");const a=(r.match(/\/:/g)||[]).length;if(/\*$/.test(r)){const o=Sr(r);t===j?Object.keys(l).forEach(d=>{var f;(f=l[d])[r]||(f[r]=oe(l[d],r)||oe(l[j],r)||[])}):(n=l[t])[r]||(n[r]=oe(l[t],r)||oe(l[j],r)||[]),Object.keys(l).forEach(d=>{(t===j||t===d)&&Object.keys(l[d]).forEach(f=>{o.test(f)&&l[d][f].push([s,a])})}),Object.keys(i).forEach(d=>{(t===j||t===d)&&Object.keys(i[d]).forEach(f=>o.test(f)&&i[d][f].push([s,a]))});return}const c=xr(r)||[r];for(let o=0,d=c.length;o<d;o++){const f=c[o];Object.keys(i).forEach(u=>{var x;(t===j||t===u)&&((x=i[u])[f]||(x[f]=[...oe(l[u],f)||oe(l[j],f)||[]]),i[u][f].push([s,a-d+o+1]))})}}buildAllMatchers(){const t=Object.create(null);return Object.keys(h(this,Y)).concat(Object.keys(h(this,X))).forEach(r=>{t[r]||(t[r]=S(this,it,Cr).call(this,r))}),v(this,X,v(this,Y,void 0)),js(),t}},X=new WeakMap,Y=new WeakMap,it=new WeakSet,Cr=function(t){const r=[];let s=t===j;return[h(this,X),h(this,Y)].forEach(l=>{const i=l[t]?Object.keys(l[t]).map(a=>[a,l[t][a]]):[];i.length!==0?(s||(s=!0),r.push(...i)):t!==j&&r.push(...Object.keys(l[j]).map(a=>[a,l[j][a]]))}),s?Ts(r):null},Zt),Z,U,Qt,Ms=(Qt=class{constructor(t){b(this,"name","SmartRouter");k(this,Z,[]);k(this,U,[]);v(this,Z,t.routers)}add(t,r,s){if(!h(this,U))throw new Error(vr);h(this,U).push([t,r,s])}match(t,r){if(!h(this,U))throw new Error("Fatal error");const s=h(this,Z),l=h(this,U),i=s.length;let a=0,c;for(;a<i;a++){const n=s[a];try{for(let o=0,d=l.length;o<d;o++)n.add(...l[o]);c=n.match(t,r)}catch(o){if(o instanceof wr)continue;throw o}this.match=n.match.bind(n),v(this,Z,[n]),v(this,U,void 0);break}if(a===i)throw new Error("Fatal error");return this.name=`SmartRouter + ${this.activeRouter.name}`,c}get activeRouter(){if(h(this,U)||h(this,Z).length!==1)throw new Error("No active router has been determined yet.");return h(this,Z)[0]}},Z=new WeakMap,U=new WeakMap,Qt),Pe=Object.create(null),Q,M,ae,ye,O,W,re,ve,Fs=(ve=class{constructor(r,s,l){k(this,W);k(this,Q);k(this,M);k(this,ae);k(this,ye,0);k(this,O,Pe);if(v(this,M,l||Object.create(null)),v(this,Q,[]),r&&s){const i=Object.create(null);i[r]={handler:s,possibleKeys:[],score:0},v(this,Q,[i])}v(this,ae,[])}insert(r,s,l){v(this,ye,++Tt(this,ye)._);let i=this;const a=cs(s),c=[];for(let n=0,o=a.length;n<o;n++){const d=a[n],f=a[n+1],u=hs(d,f),x=Array.isArray(u)?u[0]:d;if(x in h(i,M)){i=h(i,M)[x],u&&c.push(u[1]);continue}h(i,M)[x]=new ve,u&&(h(i,ae).push(u),c.push(u[1])),i=h(i,M)[x]}return h(i,Q).push({[r]:{handler:l,possibleKeys:c.filter((n,o,d)=>d.indexOf(n)===o),score:h(this,ye)}}),i}search(r,s){var o;const l=[];v(this,O,Pe);let a=[this];const c=fr(s),n=[];for(let d=0,f=c.length;d<f;d++){const u=c[d],x=d===f-1,g=[];for(let p=0,y=a.length;p<y;p++){const m=a[p],w=h(m,M)[u];w&&(v(w,O,h(m,O)),x?(h(w,M)["*"]&&l.push(...S(this,W,re).call(this,h(w,M)["*"],r,h(m,O))),l.push(...S(this,W,re).call(this,w,r,h(m,O)))):g.push(w));for(let E=0,P=h(m,ae).length;E<P;E++){const C=h(m,ae)[E],A=h(m,O)===Pe?{}:{...h(m,O)};if(C==="*"){const V=h(m,M)["*"];V&&(l.push(...S(this,W,re).call(this,V,r,h(m,O))),v(V,O,A),g.push(V));continue}const[Se,Ue,Ce]=C;if(!u&&!(Ce instanceof RegExp))continue;const I=h(m,M)[Se],Nr=c.slice(d).join("/");if(Ce instanceof RegExp){const V=Ce.exec(Nr);if(V){if(A[Ue]=V[0],l.push(...S(this,W,re).call(this,I,r,h(m,O),A)),Object.keys(h(I,M)).length){v(I,O,A);const at=((o=V[0].match(/\//))==null?void 0:o.length)??0;(n[at]||(n[at]=[])).push(I)}continue}}(Ce===!0||Ce.test(u))&&(A[Ue]=u,x?(l.push(...S(this,W,re).call(this,I,r,A,h(m,O))),h(I,M)["*"]&&l.push(...S(this,W,re).call(this,h(I,M)["*"],r,A,h(m,O)))):(v(I,O,A),g.push(I)))}}a=g.concat(n.shift()??[])}return l.length>1&&l.sort((d,f)=>d.score-f.score),[l.map(({handler:d,params:f})=>[d,f])]}},Q=new WeakMap,M=new WeakMap,ae=new WeakMap,ye=new WeakMap,O=new WeakMap,W=new WeakSet,re=function(r,s,l,i){const a=[];for(let c=0,n=h(r,Q).length;c<n;c++){const o=h(r,Q)[c],d=o[s]||o[j],f={};if(d!==void 0&&(d.params=Object.create(null),a.push(d),l!==Pe||i&&i!==Pe))for(let u=0,x=d.possibleKeys.length;u<x;u++){const g=d.possibleKeys[u],p=f[d.score];d.params[g]=i!=null&&i[g]&&!p?i[g]:l[g]??(i==null?void 0:i[g]),f[d.score]=!0}}return a},ve),ne,er,Ls=(er=class{constructor(){b(this,"name","TrieRouter");k(this,ne);v(this,ne,new Fs)}add(t,r,s){const l=xr(r);if(l){for(let i=0,a=l.length;i<a;i++)h(this,ne).insert(t,l[i],s);return}h(this,ne).insert(t,r,s)}match(t,r){return h(this,ne).search(t,r)}},ne=new WeakMap,er),Pr=class extends ks{constructor(t={}){super(t),this.router=t.router??new Ms({routers:[new Os,new Ls]})}},$s=t=>{const r=atob(t),s=new Uint8Array(new ArrayBuffer(r.length)),l=r.length/2;for(let i=0,a=r.length-1;i<=l;i++,a--)s[i]=r.charCodeAt(i),s[a]=r.charCodeAt(a);return s},Ns=/^ *(?:[Bb][Aa][Ss][Ii][Cc]) +([A-Za-z0-9._~+/-]+=*) *$/,Ds=/^([^:]*):(.*)$/,Hs=new TextDecoder,Bs=t=>{const r=Ns.exec(t.headers.get("Authorization")||"");if(!r)return;let s;try{s=Ds.exec(Hs.decode($s(r[1])))}catch{}if(s)return{username:s[1],password:s[2]}},Is=async t=>await _s(t,{name:"SHA-256"}),_s=async(t,r)=>{let s;if(ArrayBuffer.isView(t)||t instanceof ArrayBuffer?s=t:(typeof t=="object"&&(t=JSON.stringify(t)),s=new TextEncoder().encode(String(t))),crypto&&crypto.subtle){const l=await crypto.subtle.digest({name:r.name},s);return Array.prototype.map.call(new Uint8Array(l),a=>("00"+a.toString(16)).slice(-2)).join("")}return null},Bt=async(t,r,s)=>{s||(s=Is);const[l,i]=await Promise.all([s(t),s(r)]);return!l||!i?!1:l===i&&t===r},qs=(t,...r)=>{const s="username"in t&&"password"in t,l="verifyUser"in t;if(!(s||l))throw new Error('basic auth middleware requires options for "username and password" or "verifyUser"');return t.realm||(t.realm="Secure Area"),t.invalidUserMessage||(t.invalidUserMessage="Unauthorized"),s&&r.unshift({username:t.username,password:t.password}),async function(a,c){var x;const n=Bs(a.req.raw);if(n)if(l){if(await t.verifyUser(n.username,n.password,a)){await c();return}}else for(const g of r){const[p,y]=await Promise.all([Bt(g.username,n.username,t.hashFunction),Bt(g.password,n.password,t.hashFunction)]);if(p&&y){await c();return}}const o=401,d={"WWW-Authenticate":'Basic realm="'+((x=t.realm)==null?void 0:x.replace(/"/g,'\\"'))+'"'},f=typeof t.invalidUserMessage=="function"?await t.invalidUserMessage(a):t.invalidUserMessage,u=typeof f=="string"?new Response(f,{status:o,headers:d}):new Response(JSON.stringify(f),{status:o,headers:{...d,"content-type":"application/json"}});throw new ts(o,{res:u})}},Oe="_hp",zs={Change:"Input",DoubleClick:"DblClick"},Us={svg:"2000/svg",math:"1998/Math/MathML"},Me=[],vt=new WeakMap,ke=void 0,Ws=()=>ke,_=t=>"t"in t,ft={onClick:["click",!1]},It=t=>{if(!t.startsWith("on"))return;if(ft[t])return ft[t];const r=t.match(/^on([A-Z][a-zA-Z]+?(?:PointerCapture)?)(Capture)?$/);if(r){const[,s,l]=r;return ft[t]=[(zs[s]||s).toLowerCase(),!!l]}},_t=(t,r)=>ke&&t instanceof SVGElement&&/[A-Z]/.test(r)&&(r in t.style||r.match(/^(?:o|pai|str|u|ve)/))?r.replace(/([A-Z])/g,"-$1").toLowerCase():r,Ks=(t,r,s)=>{var l;r||(r={});for(let i in r){const a=r[i];if(i!=="children"&&(!s||s[i]!==a)){i=rt(i);const c=It(i);if(c){if((s==null?void 0:s[i])!==a&&(s&&t.removeEventListener(c[0],s[i],c[1]),a!=null)){if(typeof a!="function")throw new Error(`Event handler for "${i}" is not a function`);t.addEventListener(c[0],a,c[1])}}else if(i==="dangerouslySetInnerHTML"&&a)t.innerHTML=a.__html;else if(i==="ref"){let n;typeof a=="function"?n=a(t)||(()=>a(null)):a&&"current"in a&&(a.current=t,n=()=>a.current=null),vt.set(t,n)}else if(i==="style"){const n=t.style;typeof a=="string"?n.cssText=a:(n.cssText="",a!=null&&dr(a,n.setProperty.bind(n)))}else{if(i==="value"){const o=t.nodeName;if(o==="INPUT"||o==="TEXTAREA"||o==="SELECT"){if(t.value=a==null||a===!1?null:a,o==="TEXTAREA"){t.textContent=a;continue}else if(o==="SELECT"){t.selectedIndex===-1&&(t.selectedIndex=0);continue}}}else(i==="checked"&&t.nodeName==="INPUT"||i==="selected"&&t.nodeName==="OPTION")&&(t[i]=a);const n=_t(t,i);a==null||a===!1?t.removeAttribute(n):a===!0?t.setAttribute(n,""):typeof a=="string"||typeof a=="number"?t.setAttribute(n,a):t.setAttribute(n,a.toString())}}}if(s)for(let i in s){const a=s[i];if(i!=="children"&&!(i in r)){i=rt(i);const c=It(i);c?t.removeEventListener(c[0],a,c[1]):i==="ref"?(l=vt.get(t))==null||l():t.removeAttribute(_t(t,i))}}},Vs=(t,r)=>{r[R][0]=0,Me.push([t,r]);const s=r.tag[kt]||r.tag,l=s.defaultProps?{...s.defaultProps,...r.props}:r.props;try{return[s.call(null,l)]}finally{Me.pop()}},Ar=(t,r,s,l,i)=>{var a,c;(a=t.vR)!=null&&a.length&&(l.push(...t.vR),delete t.vR),typeof t.tag=="function"&&((c=t[R][1][Or])==null||c.forEach(n=>i.push(n))),t.vC.forEach(n=>{var o;if(_(n))s.push(n);else if(typeof n.tag=="function"||n.tag===""){n.c=r;const d=s.length;if(Ar(n,r,s,l,i),n.s){for(let f=d;f<s.length;f++)s[f].s=!0;n.s=!1}}else s.push(n),(o=n.vR)!=null&&o.length&&(l.push(...n.vR),delete n.vR)})},Gs=t=>{var r;for(;t&&(t.tag===Oe||!t.e);)t=t.tag===Oe||!((r=t.vC)!=null&&r[0])?t.nN:t.vC[0];return t==null?void 0:t.e},Rr=t=>{var r,s,l,i,a,c;_(t)||((s=(r=t[R])==null?void 0:r[1][Or])==null||s.forEach(n=>{var o;return(o=n[2])==null?void 0:o.call(n)}),(l=vt.get(t.e))==null||l(),t.p===2&&((i=t.vC)==null||i.forEach(n=>n.p=2)),(a=t.vC)==null||a.forEach(Rr)),t.p||((c=t.e)==null||c.remove(),delete t.e),typeof t.tag=="function"&&(Ae.delete(t),Qe.delete(t),delete t[R][3],t.a=!0)},jr=(t,r,s)=>{t.c=r,Tr(t,r,s)},qt=(t,r)=>{if(r){for(let s=0,l=t.length;s<l;s++)if(t[s]===r)return s}},zt=Symbol(),Tr=(t,r,s)=>{var d;const l=[],i=[],a=[];Ar(t,r,l,i,a),i.forEach(Rr);const c=s?void 0:r.childNodes;let n,o=null;if(s)n=-1;else if(!c.length)n=0;else{const f=qt(c,Gs(t.nN));f!==void 0?(o=c[f],n=f):n=qt(c,(d=l.find(u=>u.tag!==Oe&&u.e))==null?void 0:d.e)??-1,n===-1&&(s=!0)}for(let f=0,u=l.length;f<u;f++,n++){const x=l[f];let g;if(x.s&&x.e)g=x.e,x.s=!1;else{const p=s||!x.e;_(x)?(x.e&&x.d&&(x.e.textContent=x.t),x.d=!1,g=x.e||(x.e=document.createTextNode(x.t))):(g=x.e||(x.e=x.n?document.createElementNS(x.n,x.tag):document.createElement(x.tag)),Ks(g,x.props,x.pP),Tr(x,g,p))}x.tag===Oe?n--:s?g.parentNode||r.appendChild(g):c[n]!==g&&c[n-1]!==g&&(c[n+1]===g?r.appendChild(c[n]):r.insertBefore(g,o||c[n]||null))}if(t.pP&&(t.pP=void 0),a.length){const f=[],u=[];a.forEach(([,x,,g,p])=>{x&&f.push(x),g&&u.push(g),p==null||p()}),f.forEach(x=>x()),u.length&&requestAnimationFrame(()=>{u.forEach(x=>x())})}},Js=(t,r)=>!!(t&&t.length===r.length&&t.every((s,l)=>s[1]===r[l][1])),Qe=new WeakMap,wt=(t,r,s)=>{var a,c,n,o,d,f;const l=!s&&r.pC;s&&(r.pC||(r.pC=r.vC));let i;try{s||(s=typeof r.tag=="function"?Vs(t,r):Be(r.props.children)),((a=s[0])==null?void 0:a.tag)===""&&s[0][mt]&&(i=s[0][mt],t[5].push([t,i,r]));const u=l?[...r.pC]:r.vC?[...r.vC]:void 0,x=[];let g;for(let p=0;p<s.length;p++){Array.isArray(s[p])&&s.splice(p,1,...s[p].flat());let y=Xs(s[p]);if(y){typeof y.tag=="function"&&!y.tag[ir]&&(we.length>0&&(y[R][2]=we.map(w=>[w,w.values.at(-1)])),(c=t[5])!=null&&c.length&&(y[R][3]=t[5].at(-1)));let m;if(u&&u.length){const w=u.findIndex(_(y)?E=>_(E):y.key!==void 0?E=>E.key===y.key&&E.tag===y.tag:E=>E.tag===y.tag);w!==-1&&(m=u[w],u.splice(w,1))}if(m)if(_(y))m.t!==y.t&&(m.t=y.t,m.d=!0),y=m;else{const w=m.pP=m.props;if(m.props=y.props,m.f||(m.f=y.f||r.f),typeof y.tag=="function"){const E=m[R][2];m[R][2]=y[R][2]||[],m[R][3]=y[R][3],!m.f&&((m.o||m)===y.o||(o=(n=m.tag)[_r])!=null&&o.call(n,w,m.props))&&Js(E,m[R][2])&&(m.s=!0)}y=m}else if(!_(y)&&ke){const w=Ee(ke);w&&(y.n=w)}if(!_(y)&&!y.s&&(wt(t,y),delete y.f),x.push(y),g&&!g.s&&!y.s)for(let w=g;w&&!_(w);w=(d=w.vC)==null?void 0:d.at(-1))w.nN=y;g=y}}r.vR=l?[...r.vC,...u||[]]:u||[],r.vC=x,l&&delete r.pC}catch(u){if(r.f=!0,u===zt){if(i)return;throw u}const[x,g,p]=((f=r[R])==null?void 0:f[3])||[];if(g){const y=()=>et([0,!1,t[2]],p),m=Qe.get(p)||[];m.push(y),Qe.set(p,m);const w=g(u,()=>{const E=Qe.get(p);if(E){const P=E.indexOf(y);if(P!==-1)return E.splice(P,1),y()}});if(w){if(t[0]===1)t[1]=!0;else if(wt(t,p,[w]),(g.length===1||t!==x)&&p.c){jr(p,p.c,!1);return}throw zt}}throw u}finally{i&&t[5].pop()}},Xs=t=>{if(!(t==null||typeof t=="boolean")){if(typeof t=="string"||typeof t=="number")return{t:t.toString(),d:!0};if("vR"in t&&(t={tag:t.tag,props:t.props,key:t.key,f:t.f,type:t.tag,ref:t.props.ref,o:t.o||t}),typeof t.tag=="function")t[R]=[0,[]];else{const r=Us[t.tag];r&&(ke||(ke=nr("")),t.props.children=[{tag:ke,props:{value:t.n=`http://www.w3.org/${r}`,children:t.props.children}}])}return t}},Ut=(t,r)=>{var s,l;(s=r[R][2])==null||s.forEach(([i,a])=>{i.values.push(a)});try{wt(t,r,void 0)}catch{return}if(r.a){delete r.a;return}(l=r[R][2])==null||l.forEach(([i])=>{i.values.pop()}),(t[0]!==1||!t[1])&&jr(r,r.c,!1)},Ae=new WeakMap,Wt=[],et=async(t,r)=>{t[5]||(t[5]=[]);const s=Ae.get(r);s&&s[0](void 0);let l;const i=new Promise(a=>l=a);if(Ae.set(r,[l,()=>{t[2]?t[2](t,r,a=>{Ut(a,r)}).then(()=>l(r)):(Ut(t,r),l(r))}]),Wt.length)Wt.at(-1).add(r);else{await Promise.resolve();const a=Ae.get(r);a&&(Ae.delete(r),a[1]())}return i},Ys=(t,r,s)=>({tag:Oe,props:{children:t},key:s,e:r,p:1}),ut=0,Or=1,xt=2,gt=3,bt=new WeakMap,Mr=(t,r)=>!t||!r||t.length!==r.length||r.some((s,l)=>s!==t[l]),Zs=void 0,Kt=[],Qs=t=>{var c;const r=()=>typeof t=="function"?t():t,s=Me.at(-1);if(!s)return[r(),()=>{}];const[,l]=s,i=(c=l[R][1])[ut]||(c[ut]=[]),a=l[R][0]++;return i[a]||(i[a]=[r(),n=>{const o=Zs,d=i[a];if(typeof n=="function"&&(n=n(d[0])),!Object.is(n,d[0]))if(d[0]=n,Kt.length){const[f,u]=Kt.at(-1);Promise.all([f===3?l:et([f,!1,o],l),u]).then(([x])=>{if(!x||!(f===2||f===3))return;const g=x.vC;requestAnimationFrame(()=>{setTimeout(()=>{g===x.vC&&et([f===3?1:0,!1,o],x)})})})}else et([0,!1,o],l)}])},At=(t,r)=>{var n;const s=Me.at(-1);if(!s)return t;const[,l]=s,i=(n=l[R][1])[xt]||(n[xt]=[]),a=l[R][0]++,c=i[a];return Mr(c==null?void 0:c[1],r)?i[a]=[t,r]:t=i[a][0],t},el=t=>{const r=bt.get(t);if(r){if(r.length===2)throw r[1];return r[0]}throw t.then(s=>bt.set(t,[s]),s=>bt.set(t,[void 0,s])),t},tl=(t,r)=>{var n;const s=Me.at(-1);if(!s)return t();const[,l]=s,i=(n=l[R][1])[gt]||(n[gt]=[]),a=l[R][0]++,c=i[a];return Mr(c==null?void 0:c[1],r)&&(i[a]=[t(),r]),i[a][0]},rl=nr({pending:!1,data:null,method:null,action:null}),Vt=new Set,sl=t=>{Vt.add(t),t.finally(()=>Vt.delete(t))},Rt=(t,r)=>tl(()=>s=>{let l;t&&(typeof t=="function"?l=t(s)||(()=>{t(null)}):t&&"current"in t&&(t.current=s,l=()=>{t.current=null}));const i=r(s);return()=>{i==null||i(),l==null||l()}},[t]),de=Object.create(null),Ke=Object.create(null),qe=(t,r,s,l,i)=>{if(r!=null&&r.itemProp)return{tag:t,props:r,type:t,ref:r.ref};const a=document.head;let{onLoad:c,onError:n,precedence:o,blocking:d,...f}=r,u=null,x=!1;const g=Ve[t];let p;if(g.length>0){const E=a.querySelectorAll(t);e:for(const P of E)for(const C of Ve[t])if(P.getAttribute(C)===r[C]){u=P;break e}if(!u){const P=g.reduce((C,A)=>r[A]===void 0?C:`${C}-${A}-${r[A]}`,t);x=!Ke[P],u=Ke[P]||(Ke[P]=(()=>{const C=document.createElement(t);for(const A of g)r[A]!==void 0&&C.setAttribute(A,r[A]),r.rel&&C.setAttribute("rel",r.rel);return C})())}}else p=a.querySelectorAll(t);o=l?o??"":void 0,l&&(f[Ge]=o);const y=At(E=>{if(g.length>0){let P=!1;for(const C of a.querySelectorAll(t)){if(P&&C.getAttribute(Ge)!==o){a.insertBefore(E,C);return}C.getAttribute(Ge)===o&&(P=!0)}a.appendChild(E)}else if(p){let P=!1;for(const C of p)if(C===E){P=!0;break}P||a.insertBefore(E,a.contains(p[0])?p[0]:a.querySelector(t)),p=void 0}},[o]),m=Rt(r.ref,E=>{var A;const P=g[0];if(s===2&&(E.innerHTML=""),(x||p)&&y(E),!n&&!c)return;let C=de[A=E.getAttribute(P)]||(de[A]=new Promise((Se,Ue)=>{E.addEventListener("load",Se),E.addEventListener("error",Ue)}));c&&(C=C.then(c)),n&&(C=C.catch(n)),C.catch(()=>{})});if(i&&d==="render"){const E=Ve[t][0];if(r[E]){const P=r[E],C=de[P]||(de[P]=new Promise((A,Se)=>{y(u),u.addEventListener("load",A),u.addEventListener("error",Se)}));el(C)}}const w={tag:t,type:t,props:{...f,ref:m},ref:m};return w.p=s,u&&(w.e=u),Ys(w,a)},ll=t=>{const r=Ws(),s=r&&Ee(r);return s!=null&&s.endsWith("svg")?{tag:"title",props:t,type:"title",ref:t.ref}:qe("title",t,void 0,!1,!1)},il=t=>!t||["src","async"].some(r=>!t[r])?{tag:"script",props:t,type:"script",ref:t.ref}:qe("script",t,1,!1,!0),al=t=>!t||!["href","precedence"].every(r=>r in t)?{tag:"style",props:t,type:"style",ref:t.ref}:(t["data-href"]=t.href,delete t.href,qe("style",t,2,!0,!0)),nl=t=>!t||["onLoad","onError"].some(r=>r in t)||t.rel==="stylesheet"&&(!("precedence"in t)||"disabled"in t)?{tag:"link",props:t,type:"link",ref:t.ref}:qe("link",t,1,"precedence"in t,!0),cl=t=>qe("meta",t,void 0,!1,!1),Fr=Symbol(),ol=t=>{const{action:r,...s}=t;typeof r!="function"&&(s.action=r);const[l,i]=Qs([null,!1]),a=At(async d=>{const f=d.isTrusted?r:d.detail[Fr];if(typeof f!="function")return;d.preventDefault();const u=new FormData(d.target);i([u,!0]);const x=f(u);x instanceof Promise&&(sl(x),await x),i([null,!0])},[]),c=Rt(t.ref,d=>(d.addEventListener("submit",a),()=>{d.removeEventListener("submit",a)})),[n,o]=l;return l[1]=!1,{tag:rl,props:{value:{pending:n!==null,data:n,method:n?"post":null,action:n?r:null},children:{tag:"form",props:{...s,ref:c},type:"form",ref:c}},f:o}},Lr=(t,{formAction:r,...s})=>{if(typeof r=="function"){const l=At(i=>{i.preventDefault(),i.currentTarget.form.dispatchEvent(new CustomEvent("submit",{detail:{[Fr]:r}}))},[]);s.ref=Rt(s.ref,i=>(i.addEventListener("click",l),()=>{i.removeEventListener("click",l)}))}return{tag:t,props:s,type:t,ref:s.ref}},dl=t=>Lr("input",t),hl=t=>Lr("button",t);Object.assign(pt,{title:ll,script:il,style:al,link:nl,meta:cl,form:ol,input:dl,button:hl});Et(null);new TextEncoder;var fl=Et(null),ul=(t,r,s,l)=>(i,a)=>{const c="<!DOCTYPE html>",n=s?Lt(d=>s(d,t),{Layout:r,...a},i):i,o=Ir`${$(c)}${Lt(fl.Provider,{value:t},n)}`;return t.html(o)},xl=(t,r)=>function(l,i){const a=l.getLayout()??es;return t&&l.setLayout(c=>t({...c,Layout:a},l)),l.setRenderer(ul(l,a,t)),i()};const gl=xl(({children:t})=>e("html",{lang:"ja",children:[e("head",{children:[e("meta",{charset:"UTF-8"}),e("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),e("title",{children:"航空券予約システム - Flight Booking"}),e("script",{src:"https://cdn.tailwindcss.com"}),e("link",{href:"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css",rel:"stylesheet"}),e("link",{href:"/static/style.css",rel:"stylesheet"})]}),e("body",{children:t})]})),ze=new Pr;ze.use("*",qs({username:"admin",password:"demo2026"}));ze.use(gl);ze.get("/",t=>t.render(e("div",{class:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex flex-col",children:[e("header",{class:"bg-blue-600 text-white shadow-lg flex-shrink-0",children:e("div",{class:"container mx-auto px-4 py-4",children:e("div",{class:"flex items-center justify-between",children:[e("div",{class:"flex items-center space-x-2",children:[e("i",{class:"fas fa-plane text-3xl"}),e("h1",{class:"text-2xl font-bold",children:"FlightSearch"})]}),e("nav",{class:"hidden md:flex space-x-6",children:[e("a",{href:"/",onclick:"showHomePage(); return false;",class:"hover:text-blue-200 transition",children:"ホーム"}),e("a",{href:"#",onclick:"showMyPage(); return false;",class:"hover:text-blue-200 transition",id:"myPageLink",children:[e("i",{class:"fas fa-user mr-1"}),"マイページ"]}),e("a",{href:"#",onclick:"handleLogout(); return false;",class:"hover:text-blue-200 transition hidden",id:"logoutLink",children:[e("i",{class:"fas fa-sign-out-alt mr-1"}),"ログアウト"]})]})]})})}),e("main",{id:"mainContent",class:"flex-grow",children:e("div",{class:"container mx-auto px-4 py-8",children:[e("div",{class:"text-center mb-8",children:[e("h2",{class:"text-4xl font-bold text-gray-800 mb-2",children:"お得な航空券を検索"}),e("p",{class:"text-gray-600",children:"世界中のフライトを比較して、最安値を見つけましょう"})]}),e("div",{class:"bg-white rounded-2xl shadow-2xl p-6 md:p-8 mb-8",children:[e("div",{class:"flex flex-wrap gap-4 mb-6",children:[e("label",{class:"flex items-center space-x-2 cursor-pointer",children:[e("input",{type:"radio",name:"tripType",value:"roundtrip",checked:!0,class:"w-4 h-4 text-blue-600",onchange:"handleTripTypeChange()"}),e("span",{class:"text-gray-700 font-medium",children:"往復"})]}),e("label",{class:"flex items-center space-x-2 cursor-pointer",children:[e("input",{type:"radio",name:"tripType",value:"oneway",class:"w-4 h-4 text-blue-600",onchange:"handleTripTypeChange()"}),e("span",{class:"text-gray-700 font-medium",children:"片道"})]}),e("label",{class:"flex items-center space-x-2 cursor-pointer",children:[e("input",{type:"radio",name:"tripType",value:"multicity",class:"w-4 h-4 text-blue-600",onchange:"handleTripTypeChange()"}),e("span",{class:"text-gray-700 font-medium",children:"複数都市"})]})]}),e("div",{id:"singleTripFields",children:e("div",{class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[e("div",{class:"relative",children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"出発地"}),e("div",{class:"relative",children:[e("i",{class:"fas fa-plane-departure absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e("input",{type:"text",id:"fromLocation",placeholder:"東京 (TYO)",class:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e("div",{class:"relative",children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"目的地"}),e("div",{class:"relative",children:[e("i",{class:"fas fa-plane-arrival absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e("input",{type:"text",id:"toLocation",placeholder:"ニューヨーク (JFK)",class:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e("div",{class:"relative",children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"出発日"}),e("div",{class:"relative",children:[e("i",{class:"fas fa-calendar-alt absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e("input",{type:"date",id:"departureDate",class:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e("div",{class:"relative",id:"returnDateField",children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"帰国日"}),e("div",{class:"relative",children:[e("i",{class:"fas fa-calendar-alt absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e("input",{type:"date",id:"returnDate",class:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]})}),e("div",{id:"multiCityFields",class:"hidden",children:[e("div",{id:"multiCityFlightsContainer",children:[e("div",{class:"multi-city-flight mb-4 p-4 border border-gray-200 rounded-lg","data-flight-index":"1",children:[e("div",{class:"flex justify-between items-center mb-3",children:e("h4",{class:"font-semibold text-gray-800",children:"フライト 1"})}),e("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e("div",{class:"relative",children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"出発地"}),e("div",{class:"relative",children:[e("i",{class:"fas fa-plane-departure absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e("input",{type:"text",id:"multiCityFrom1",class:"multi-city-from w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"東京 (TYO)"})]})]}),e("div",{class:"relative",children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"目的地"}),e("div",{class:"relative",children:[e("i",{class:"fas fa-plane-arrival absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e("input",{type:"text",id:"multiCityTo1",class:"multi-city-to w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"ニューヨーク (JFK)"})]})]}),e("div",{class:"relative",children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"出発日"}),e("div",{class:"relative",children:[e("i",{class:"fas fa-calendar-alt absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e("input",{type:"date",class:"multi-city-date w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]})]}),e("div",{class:"multi-city-flight mb-4 p-4 border border-gray-200 rounded-lg","data-flight-index":"2",children:[e("div",{class:"flex justify-between items-center mb-3",children:e("h4",{class:"font-semibold text-gray-800",children:"フライト 2"})}),e("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e("div",{class:"relative",children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"出発地"}),e("div",{class:"relative",children:[e("i",{class:"fas fa-plane-departure absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e("input",{type:"text",id:"multiCityFrom2",class:"multi-city-from w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"ニューヨーク (JFK)"})]})]}),e("div",{class:"relative",children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"目的地"}),e("div",{class:"relative",children:[e("i",{class:"fas fa-plane-arrival absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e("input",{type:"text",id:"multiCityTo2",class:"multi-city-to w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"ロサンゼルス (LAX)"})]})]}),e("div",{class:"relative",children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"出発日"}),e("div",{class:"relative",children:[e("i",{class:"fas fa-calendar-alt absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e("input",{type:"date",class:"multi-city-date w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]})]})]}),e("button",{type:"button",onclick:"addMultiCityFlight()",class:"w-full md:w-auto px-6 py-3 border-2 border-dashed border-blue-300 text-blue-600 rounded-lg hover:border-blue-500 hover:bg-blue-50 transition font-medium",children:[e("i",{class:"fas fa-plus mr-2"}),"フライトを追加"]})]}),e("div",{class:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6 mt-6",children:[e("div",{class:"relative",children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"乗客"}),e("button",{type:"button",id:"passengerButton",class:"w-full px-4 py-3 border border-gray-300 rounded-lg text-left flex items-center justify-between hover:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e("span",{class:"flex items-center",children:[e("i",{class:"fas fa-user mr-2 text-gray-400"}),e("span",{id:"passengerDisplay",children:"1 名, エコノミー"})]}),e("i",{class:"fas fa-chevron-down text-gray-400"})]}),e("div",{id:"passengerDropdown",class:"hidden absolute z-10 mt-2 w-full md:w-96 bg-white border border-gray-200 rounded-lg shadow-xl p-4",children:e("div",{class:"space-y-4",children:[e("div",{class:"flex items-center justify-between",children:[e("div",{children:[e("div",{class:"font-medium text-gray-700",children:"大人"}),e("div",{class:"text-sm text-gray-500",children:"12歳以上"})]}),e("div",{class:"flex items-center space-x-3",children:[e("button",{type:"button",class:"w-8 h-8 rounded-full border border-gray-300 hover:bg-gray-100",onclick:"updatePassenger('adults', -1)",children:"-"}),e("span",{id:"adultsCount",class:"w-8 text-center font-medium",children:"1"}),e("button",{type:"button",class:"w-8 h-8 rounded-full border border-gray-300 hover:bg-gray-100",onclick:"updatePassenger('adults', 1)",children:"+"})]})]}),e("div",{class:"flex items-center justify-between",children:[e("div",{children:[e("div",{class:"font-medium text-gray-700",children:"子供"}),e("div",{class:"text-sm text-gray-500",children:"2-11歳"})]}),e("div",{class:"flex items-center space-x-3",children:[e("button",{type:"button",class:"w-8 h-8 rounded-full border border-gray-300 hover:bg-gray-100",onclick:"updatePassenger('children', -1)",children:"-"}),e("span",{id:"childrenCount",class:"w-8 text-center font-medium",children:"0"}),e("button",{type:"button",class:"w-8 h-8 rounded-full border border-gray-300 hover:bg-gray-100",onclick:"updatePassenger('children', 1)",children:"+"})]})]}),e("div",{class:"flex items-center justify-between",children:[e("div",{children:[e("div",{class:"font-medium text-gray-700",children:"幼児"}),e("div",{class:"text-sm text-gray-500",children:"2歳未満"})]}),e("div",{class:"flex items-center space-x-3",children:[e("button",{type:"button",class:"w-8 h-8 rounded-full border border-gray-300 hover:bg-gray-100",onclick:"updatePassenger('infants', -1)",children:"-"}),e("span",{id:"infantsCount",class:"w-8 text-center font-medium",children:"0"}),e("button",{type:"button",class:"w-8 h-8 rounded-full border border-gray-300 hover:bg-gray-100",onclick:"updatePassenger('infants', 1)",children:"+"})]})]}),e("hr",{class:"my-4"}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"座席クラス"}),e("select",{id:"cabinClass",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e("option",{value:"economy",children:"エコノミー"}),e("option",{value:"premium_economy",children:"プレミアムエコノミー"}),e("option",{value:"business",children:"ビジネス"}),e("option",{value:"first",children:"ファースト"})]})]}),e("button",{type:"button",class:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700",onclick:"closePassengerDropdown()",children:"完了"})]})})]}),e("div",{class:"relative",children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"航空会社"}),e("div",{class:"relative",children:[e("i",{class:"fas fa-plane absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e("input",{type:"text",id:"preferredAirline",placeholder:"すべて",class:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e("div",{class:"flex items-end",children:e("label",{class:"flex items-center space-x-2 cursor-pointer pb-3",children:[e("input",{type:"checkbox",id:"directFlights",class:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),e("span",{class:"text-gray-700",children:"直行便のみ"})]})}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2 opacity-0",children:"検索"}),e("button",{type:"button",onclick:"searchFlights()",class:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 px-6 rounded-lg font-semibold hover:from-blue-700 hover:to-indigo-700 transition shadow-lg hover:shadow-xl",children:[e("i",{class:"fas fa-search mr-2"}),"フライトを検索"]})]})]})]}),e("div",{id:"searchResults",class:"hidden",children:[e("div",{class:"bg-white rounded-lg shadow-md p-6 mb-6",children:e("div",{class:"flex flex-col md:flex-row justify-between items-start md:items-center space-y-4 md:space-y-0",children:[e("div",{children:[e("h3",{class:"text-2xl font-bold text-gray-800 mb-2",children:"検索結果"}),e("p",{class:"text-gray-600",id:"routeInfo",children:"東京 (TYO) → ニューヨーク (JFK)"})]}),e("div",{class:"flex items-center space-x-4",children:e("select",{id:"sortBy",class:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e("option",{value:"best",children:"おすすめ順"}),e("option",{value:"price",children:"最安値順"}),e("option",{value:"duration",children:"最短時間順"}),e("option",{value:"departure",children:"出発時間順"})]})})]})}),e("div",{class:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e("div",{class:"lg:col-span-1",children:e("div",{class:"bg-white rounded-lg shadow-md p-6 sticky top-4",children:[e("h4",{class:"text-lg font-bold text-gray-800 mb-4",children:"フィルター"}),e("div",{class:"mb-6",children:[e("h5",{class:"font-semibold text-gray-700 mb-3",children:"価格帯"}),e("div",{class:"space-y-2",children:[e("input",{type:"range",min:"0",max:"500000",step:"10000",class:"w-full",id:"priceRange"}),e("div",{class:"flex justify-between text-sm text-gray-600",children:[e("span",{children:"¥0"}),e("span",{id:"maxPrice",children:"¥500,000+"})]})]})]}),e("div",{class:"mb-6",children:[e("h5",{class:"font-semibold text-gray-700 mb-3",children:"経由回数"}),e("div",{class:"space-y-2",children:[e("label",{class:"flex items-center space-x-2",children:[e("input",{type:"checkbox",class:"w-4 h-4 text-blue-600 rounded",checked:!0}),e("span",{class:"text-gray-700",children:"直行便"})]}),e("label",{class:"flex items-center space-x-2",children:[e("input",{type:"checkbox",class:"w-4 h-4 text-blue-600 rounded",checked:!0}),e("span",{class:"text-gray-700",children:"1回経由"})]}),e("label",{class:"flex items-center space-x-2",children:[e("input",{type:"checkbox",class:"w-4 h-4 text-blue-600 rounded",checked:!0}),e("span",{class:"text-gray-700",children:"2回以上経由"})]})]})]}),e("div",{class:"mb-6",children:[e("h5",{class:"font-semibold text-gray-700 mb-3",children:"出発時間帯"}),e("div",{class:"grid grid-cols-2 gap-2",children:[e("button",{type:"button",class:"px-3 py-2 border border-gray-300 rounded-lg text-sm hover:bg-blue-50 hover:border-blue-500",children:[e("i",{class:"fas fa-sun text-yellow-500"})," 朝"]}),e("button",{type:"button",class:"px-3 py-2 border border-gray-300 rounded-lg text-sm hover:bg-blue-50 hover:border-blue-500",children:[e("i",{class:"fas fa-cloud-sun text-orange-500"})," 昼"]}),e("button",{type:"button",class:"px-3 py-2 border border-gray-300 rounded-lg text-sm hover:bg-blue-50 hover:border-blue-500",children:[e("i",{class:"fas fa-cloud-moon text-indigo-500"})," 夕"]}),e("button",{type:"button",class:"px-3 py-2 border border-gray-300 rounded-lg text-sm hover:bg-blue-50 hover:border-blue-500",children:[e("i",{class:"fas fa-moon text-blue-900"})," 夜"]})]})]}),e("div",{class:"mb-6",children:[e("h5",{class:"font-semibold text-gray-700 mb-3",children:"航空会社"}),e("div",{class:"space-y-2 max-h-48 overflow-y-auto",children:[e("label",{class:"flex items-center space-x-2",children:[e("input",{type:"checkbox",class:"w-4 h-4 text-blue-600 rounded",checked:!0}),e("span",{class:"text-gray-700 text-sm",children:"全日空 (ANA)"})]}),e("label",{class:"flex items-center space-x-2",children:[e("input",{type:"checkbox",class:"w-4 h-4 text-blue-600 rounded",checked:!0}),e("span",{class:"text-gray-700 text-sm",children:"日本航空 (JAL)"})]}),e("label",{class:"flex items-center space-x-2",children:[e("input",{type:"checkbox",class:"w-4 h-4 text-blue-600 rounded",checked:!0}),e("span",{class:"text-gray-700 text-sm",children:"ユナイテッド航空"})]}),e("label",{class:"flex items-center space-x-2",children:[e("input",{type:"checkbox",class:"w-4 h-4 text-blue-600 rounded",checked:!0}),e("span",{class:"text-gray-700 text-sm",children:"デルタ航空"})]}),e("label",{class:"flex items-center space-x-2",children:[e("input",{type:"checkbox",class:"w-4 h-4 text-blue-600 rounded",checked:!0}),e("span",{class:"text-gray-700 text-sm",children:"アメリカン航空"})]})]})]}),e("button",{type:"button",class:"w-full bg-gray-100 text-gray-700 py-2 rounded-lg hover:bg-gray-200",children:"フィルターをリセット"})]})}),e("div",{class:"lg:col-span-3",id:"flightList",children:e("div",{class:"space-y-4",id:"flightCards"})})]})]})]})}),e("footer",{id:"mainFooter",class:"bg-gray-800 text-white flex-shrink-0 mt-auto",children:e("div",{class:"container mx-auto px-4 py-8",children:[e("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e("div",{children:[e("h5",{class:"font-bold text-lg mb-4",children:"FlightSearch"}),e("p",{class:"text-gray-400",children:"お得な航空券を簡単検索"})]}),e("div",{children:[e("h5",{class:"font-bold text-lg mb-4",children:"リンク"}),e("ul",{class:"space-y-2 text-gray-400",children:[e("li",{children:e("a",{href:"#",class:"hover:text-white",children:"利用規約"})}),e("li",{children:e("a",{href:"#",class:"hover:text-white",children:"プライバシーポリシー"})}),e("li",{children:e("a",{href:"#",class:"hover:text-white",children:"お問い合わせ"})})]})]}),e("div",{children:[e("h5",{class:"font-bold text-lg mb-4",children:"フォロー"}),e("div",{class:"flex space-x-4",children:[e("a",{href:"#",class:"text-gray-400 hover:text-white",children:e("i",{class:"fab fa-facebook text-2xl"})}),e("a",{href:"#",class:"text-gray-400 hover:text-white",children:e("i",{class:"fab fa-twitter text-2xl"})}),e("a",{href:"#",class:"text-gray-400 hover:text-white",children:e("i",{class:"fab fa-instagram text-2xl"})})]})]})]}),e("div",{class:"border-t border-gray-700 mt-8 pt-8 text-center text-gray-400",children:[e("p",{children:"© 2026 FlightSearch. All rights reserved."}),e("p",{class:"mt-2 text-sm",children:e("a",{href:"https://3001-ixum760vzlh6kn5x9qt8b-dfc00ec5.sandbox.novita.ai",target:"_blank",class:"text-blue-400 hover:text-blue-300",children:[e("i",{class:"fas fa-user-shield mr-1"}),"管理画面（モック）"]})})]})]})}),e("div",{id:"seatClassModal",class:"hidden fixed inset-0 bg-black bg-opacity-50 z-50 overflow-y-auto",role:"dialog","aria-modal":"true","aria-labelledby":"modalTitle",children:e("div",{class:"flex items-center justify-center min-h-screen p-4",children:e("div",{class:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl relative",children:[e("div",{class:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-2xl",children:[e("div",{class:"flex items-center justify-between",children:[e("h2",{id:"modalTitle",class:"text-2xl font-bold",children:e("span",{id:"modalRouteInfo",children:"東京 → ニューヨーク"})}),e("button",{onclick:"closeSeatClassModal()",class:"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-2 transition","aria-label":"モーダルを閉じる",children:e("i",{class:"fas fa-times text-2xl"})})]}),e("div",{id:"modalFlightInfo",class:"mt-2 text-sm opacity-90",children:"フライト情報を読み込み中..."})]}),e("div",{class:"p-6 max-h-[70vh] overflow-y-auto",children:[e("div",{class:"mb-8",children:[e("h3",{class:"text-xl font-bold text-gray-800 mb-4 flex items-center",children:[e("i",{class:"fas fa-plane-departure text-blue-600 mr-2"}),"往路便"]}),e("div",{id:"outboundSeatClasses",class:"space-y-3"})]}),e("div",{class:"mb-6",children:[e("h3",{class:"text-xl font-bold text-gray-800 mb-4 flex items-center",children:[e("i",{class:"fas fa-plane-arrival text-blue-600 mr-2"}),"復路便"]}),e("div",{id:"returnSeatClasses",class:"space-y-3"})]}),e("div",{class:"bg-blue-50 rounded-lg p-4 mt-6",children:e("div",{class:"flex justify-between items-center",children:[e("div",{children:[e("div",{class:"text-sm text-gray-600",children:"合計金額（1名あたり）"}),e("div",{class:"text-xs text-gray-500 mt-1",children:"往復 • 税・手数料込み"})]}),e("div",{class:"text-3xl font-bold text-blue-600",id:"modalTotalPrice",children:"¥0"})]})})]}),e("div",{class:"border-t border-gray-200 px-6 py-4 bg-gray-50 rounded-b-2xl",children:e("div",{class:"flex space-x-4",children:[e("button",{onclick:"closeSeatClassModal()",class:"flex-1 bg-gray-200 text-gray-700 py-3 px-6 rounded-lg font-semibold hover:bg-gray-300 transition",children:"キャンセル"}),e("button",{onclick:"confirmSeatClassSelection()",class:"flex-1 bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 px-6 rounded-lg font-semibold hover:from-blue-700 hover:to-indigo-700 transition shadow-lg hover:shadow-xl",disabled:!0,id:"confirmSelectionBtn",children:"予約を続ける"})]})})]})})}),e("div",{id:"authSelectionPage",class:"hidden fixed inset-0 bg-gradient-to-br from-blue-50 to-indigo-100 overflow-y-auto z-40",children:e("div",{class:"min-h-screen flex items-center justify-center p-4",children:e("div",{class:"max-w-2xl w-full bg-white rounded-2xl shadow-2xl p-8",children:[e("h2",{class:"text-3xl font-bold text-gray-800 mb-2 text-center",children:[e("i",{class:"fas fa-user-circle text-blue-600 mr-2"}),"予約を続ける"]}),e("p",{class:"text-gray-600 text-center mb-8",children:"予約を続けるには、会員登録またはログインが必要です"}),e("div",{class:"space-y-4",children:[e("button",{onclick:"showRegistrationPage()",class:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-4 px-6 rounded-xl hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-lg hover:shadow-xl flex items-center justify-center group",children:[e("i",{class:"fas fa-user-plus mr-3 text-xl group-hover:scale-110 transition-transform"}),e("span",{class:"text-lg font-semibold",children:"新規登録"})]}),e("button",{onclick:"showLoginPage()",class:"w-full bg-white border-2 border-blue-600 text-blue-600 py-4 px-6 rounded-xl hover:bg-blue-50 transition-all duration-200 flex items-center justify-center group",children:[e("i",{class:"fas fa-sign-in-alt mr-3 text-xl group-hover:scale-110 transition-transform"}),e("span",{class:"text-lg font-semibold",children:"ログイン"})]}),e("button",{onclick:"showBookingPageAsGuest()",class:"w-full bg-gray-100 border-2 border-gray-300 text-gray-700 py-4 px-6 rounded-xl hover:bg-gray-200 transition-all duration-200 flex items-center justify-center group",children:[e("i",{class:"fas fa-user mr-3 text-xl group-hover:scale-110 transition-transform"}),e("span",{class:"text-lg font-semibold",children:"ゲストとして予約"})]})]}),e("div",{class:"mt-6 text-center",children:e("button",{onclick:"backToFlightResults()",class:"text-gray-600 hover:text-gray-800 transition",children:[e("i",{class:"fas fa-arrow-left mr-2"}),"戻る"]})})]})})}),e("div",{id:"registrationPage",class:"hidden fixed inset-0 bg-gradient-to-br from-blue-50 to-indigo-100 overflow-y-auto z-40",children:e("div",{class:"min-h-screen flex items-center justify-center p-4",children:e("div",{class:"max-w-md w-full bg-white rounded-2xl shadow-2xl p-8",children:[e("h2",{class:"text-2xl font-bold text-gray-800 mb-6 text-center",children:[e("i",{class:"fas fa-user-plus text-blue-600 mr-2"}),"新規会員登録"]}),e("div",{id:"emailStep",children:[e("p",{class:"text-gray-600 mb-6 text-center",children:["Googleアカウントで登録、または",e("br",{}),"メールアドレスを入力してください。"]}),e("div",{class:"space-y-4",children:[e("button",{onclick:"signInWithGoogle()",class:"w-full bg-white border-2 border-gray-300 text-gray-700 py-3 px-6 rounded-lg hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 shadow-md hover:shadow-lg flex items-center justify-center space-x-3 font-medium",children:[e("svg",{class:"w-5 h-5",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),e("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),e("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),e("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),e("span",{children:"Sign in with Google"})]}),e("div",{class:"relative flex items-center py-2",children:[e("div",{class:"flex-grow border-t border-gray-300"}),e("span",{class:"flex-shrink mx-4 text-gray-500 text-sm",children:"または"}),e("div",{class:"flex-grow border-t border-gray-300"})]}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"メールアドレス"}),e("input",{type:"email",id:"registrationEmail",placeholder:"example@email.com",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e("button",{onclick:"sendVerificationCode()",class:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 px-6 rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:[e("i",{class:"fas fa-paper-plane mr-2"}),"確認コードを送信"]})]})]}),e("div",{id:"otpStep",class:"hidden",children:[e("p",{class:"text-gray-600 mb-2 text-center",children:"確認コードを送信しました"}),e("p",{class:"text-sm text-gray-500 mb-6 text-center",id:"sentToEmail",children:"example@email.com"}),e("div",{class:"space-y-4",children:[e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"6桁の確認コード"}),e("input",{type:"text",id:"verificationCode",placeholder:"000000",maxlength:"6",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-center text-2xl tracking-widest font-mono"})]}),e("button",{onclick:"verifyCode()",class:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 px-6 rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:[e("i",{class:"fas fa-check mr-2"}),"確認"]}),e("button",{onclick:"resendVerificationCode()",class:"w-full text-blue-600 hover:text-blue-800 py-2 text-sm",children:[e("i",{class:"fas fa-redo mr-2"}),"確認コードを再送信"]})]})]}),e("div",{class:"mt-6 text-center",children:e("button",{onclick:"backToAuthSelection()",class:"text-gray-600 hover:text-gray-800 transition",children:[e("i",{class:"fas fa-arrow-left mr-2"}),"戻る"]})})]})})}),e("div",{id:"loginPage",class:"hidden fixed inset-0 bg-gradient-to-br from-blue-50 to-indigo-100 overflow-y-auto z-40",children:e("div",{class:"min-h-screen flex items-center justify-center p-4",children:e("div",{class:"max-w-md w-full bg-white rounded-2xl shadow-2xl p-8",children:[e("h2",{class:"text-2xl font-bold text-gray-800 mb-6 text-center",children:[e("i",{class:"fas fa-sign-in-alt text-blue-600 mr-2"}),"ログイン"]}),e("p",{class:"text-gray-600 mb-6 text-center",children:["Googleアカウントでログイン、または",e("br",{}),"登録済みのメールアドレスを入力してください。"]}),e("div",{id:"loginEmailStep",children:e("div",{class:"space-y-4",children:[e("button",{onclick:"signInWithGoogle()",class:"w-full bg-white border-2 border-gray-300 text-gray-700 py-3 px-6 rounded-lg hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 shadow-md hover:shadow-lg flex items-center justify-center space-x-3 font-medium",children:[e("svg",{class:"w-5 h-5",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[e("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),e("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),e("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),e("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),e("span",{children:"Sign in with Google"})]}),e("div",{class:"relative flex items-center py-2",children:[e("div",{class:"flex-grow border-t border-gray-300"}),e("span",{class:"flex-shrink mx-4 text-gray-500 text-sm",children:"または"}),e("div",{class:"flex-grow border-t border-gray-300"})]}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"メールアドレス"}),e("input",{type:"email",id:"loginEmail",placeholder:"example@email.com",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e("button",{onclick:"sendLoginCode()",class:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 px-6 rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:[e("i",{class:"fas fa-paper-plane mr-2"}),"確認コードを送信"]})]})}),e("div",{id:"loginOtpStep",class:"hidden",children:[e("p",{class:"text-gray-600 mb-2 text-center",children:"確認コードを送信しました"}),e("p",{class:"text-sm text-gray-500 mb-6 text-center",id:"loginSentToEmail",children:"example@email.com"}),e("div",{class:"space-y-4",children:[e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"6桁の確認コード"}),e("input",{type:"text",id:"loginVerificationCode",placeholder:"000000",maxlength:"6",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-center text-2xl tracking-widest font-mono"})]}),e("button",{onclick:"verifyLoginCode()",class:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 px-6 rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all duration-200 shadow-lg hover:shadow-xl",children:[e("i",{class:"fas fa-check mr-2"}),"ログイン"]}),e("button",{onclick:"resendLoginCode()",class:"w-full text-blue-600 hover:text-blue-800 py-2 text-sm",children:[e("i",{class:"fas fa-redo mr-2"}),"確認コードを再送信"]})]})]}),e("div",{class:"mt-6 text-center",children:e("button",{onclick:"backToAuthSelection()",class:"text-gray-600 hover:text-gray-800 transition",children:[e("i",{class:"fas fa-arrow-left mr-2"}),"戻る"]})})]})})}),e("div",{id:"bookingPage",class:"hidden fixed inset-0 bg-gradient-to-br from-blue-50 to-indigo-100 overflow-y-auto z-40",children:e("div",{class:"min-h-screen flex flex-col",children:[e("div",{class:"container mx-auto px-4 py-8 flex-grow",children:[e("button",{onclick:"backToSearch()",class:"mb-6 flex items-center text-blue-600 hover:text-blue-800 transition",children:[e("i",{class:"fas fa-arrow-left mr-2"}),"検索結果に戻る"]}),e("div",{class:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[e("h2",{class:"text-3xl font-bold text-gray-800 mb-4 flex items-center",children:[e("i",{class:"fas fa-ticket-alt text-blue-600 mr-3"}),"予約内容の確認"]}),e("div",{class:"bg-blue-50 border-l-4 border-blue-600 p-4 rounded",children:e("p",{class:"text-sm text-gray-700",children:[e("i",{class:"fas fa-info-circle text-blue-600 mr-2"}),"フライトと座席クラスを選択しました。次に座席を選択し、お客様情報を入力してください。"]})})]}),e("div",{class:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[e("h3",{class:"text-2xl font-bold text-gray-800 mb-4 flex items-center",children:[e("i",{class:"fas fa-plane text-blue-600 mr-2"}),"選択済みフライト情報"]}),e("div",{id:"flightSummary",class:"space-y-4"})]}),e("div",{class:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[e("h3",{class:"text-2xl font-bold text-gray-800 mb-4 flex items-center",children:[e("i",{class:"fas fa-chair text-blue-600 mr-2"}),"座席選択",e("span",{class:"ml-auto text-sm font-normal text-gray-600",id:"seatSelectionStatus",children:["選択済み: ",e("span",{id:"selectedSeatsCount",children:"0"})," / ",e("span",{id:"requiredSeats",children:"1"})," 座席"]})]}),e("div",{class:"flex flex-wrap gap-4 mb-6 p-4 bg-gray-50 rounded-lg",children:[e("div",{class:"flex items-center space-x-2",children:[e("div",{class:"w-8 h-8 bg-green-500 rounded flex items-center justify-center text-white text-xs font-bold",children:"空"}),e("span",{class:"text-sm text-gray-700",children:"利用可能"})]}),e("div",{class:"flex items-center space-x-2",children:[e("div",{class:"w-8 h-8 bg-blue-600 rounded flex items-center justify-center text-white text-xs font-bold",children:"選"}),e("span",{class:"text-sm text-gray-700",children:"選択済み"})]}),e("div",{class:"flex items-center space-x-2",children:[e("div",{class:"w-8 h-8 bg-gray-400 rounded flex items-center justify-center text-white text-xs font-bold",children:"×"}),e("span",{class:"text-sm text-gray-700",children:"利用不可"})]}),e("div",{class:"flex items-center space-x-2",children:[e("div",{class:"w-8 h-8 bg-yellow-500 rounded flex items-center justify-center text-white text-xs font-bold",children:"特"}),e("span",{class:"text-sm text-gray-700",children:"特別席（追加料金）"})]})]}),e("div",{class:"aircraftmap_container mb-6",children:e("div",{class:"od-aircraftmap-map-wrapper",children:[e("div",{class:"mb-8",children:[e("h4",{class:"text-lg font-bold text-gray-800 mb-3 flex items-center",children:[e("i",{class:"fas fa-plane-departure text-blue-600 mr-2"}),"往路便 - 座席選択"]}),e("div",{id:"outboundSeatMap",class:"od-aircraftmap-cabins"})]}),e("div",{children:[e("h4",{class:"text-lg font-bold text-gray-800 mb-3 flex items-center",children:[e("i",{class:"fas fa-plane-arrival text-blue-600 mr-2"}),"復路便 - 座席選択"]}),e("div",{id:"returnSeatMap",class:"od-aircraftmap-cabins"})]})]})}),e("div",{class:"bg-blue-50 rounded-lg p-4",children:[e("h5",{class:"font-bold text-gray-800 mb-2",children:"選択済み座席"}),e("div",{id:"selectedSeatsSummary",class:"text-sm text-gray-700",children:"座席を選択してください"})]})]}),e("div",{class:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[e("h3",{class:"text-2xl font-bold text-gray-800 mb-6 flex items-center",children:[e("i",{class:"fas fa-user-edit text-blue-600 mr-2"}),"お客様情報"]}),e("form",{id:"customerInfoForm",children:[e("div",{id:"passengerFormsContainer"}),e("div",{class:"border-t border-gray-200 pt-6 mt-6",children:[e("h4",{class:"text-xl font-bold text-gray-800 mb-4",children:"連絡先情報"}),e("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:["メールアドレス ",e("span",{class:"text-red-500",children:"*"})]}),e("input",{type:"email",id:"contactEmail",required:!0,placeholder:"example@email.com",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:["電話番号 ",e("span",{class:"text-red-500",children:"*"})]}),e("input",{type:"tel",id:"contactPhone",required:!0,placeholder:"090-1234-5678",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),e("div",{class:"border-t border-gray-200 pt-6 mt-6",children:[e("h4",{class:"text-xl font-bold text-gray-800 mb-4",children:"緊急連絡先"}),e("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"氏名"}),e("input",{type:"text",id:"emergencyName",placeholder:"山田 太郎",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"電話番号"}),e("input",{type:"tel",id:"emergencyPhone",placeholder:"090-1234-5678",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),e("div",{class:"border-t border-gray-200 pt-6 mt-6",children:e("label",{class:"flex items-start space-x-3 cursor-pointer",children:[e("input",{type:"checkbox",id:"agreeTerms",required:!0,class:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500 mt-1"}),e("span",{class:"text-sm text-gray-700",children:[e("a",{href:"#",class:"text-blue-600 hover:underline",children:"利用規約"}),"および",e("a",{href:"#",class:"text-blue-600 hover:underline",children:"プライバシーポリシー"}),"に同意します",e("span",{class:"text-red-500",children:"*"})]})]})})]})]}),e("div",{class:"bg-white rounded-2xl shadow-xl p-6 sticky bottom-4",children:e("div",{class:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[e("div",{children:[e("div",{class:"text-sm text-gray-600 mb-1",children:"合計金額"}),e("div",{class:"text-4xl font-bold text-blue-600",id:"finalTotalPrice",children:"¥0"}),e("div",{class:"text-xs text-gray-500 mt-1",children:[e("span",{id:"totalPassengersCount",children:"1"}),"名分 • 往復 • 税・手数料込み"]})]}),e("div",{class:"flex space-x-4 w-full md:w-auto",children:[e("button",{type:"button",onclick:"backToSearch()",class:"flex-1 md:flex-none bg-gray-200 text-gray-700 py-4 px-8 rounded-lg font-semibold hover:bg-gray-300 transition",children:"キャンセル"}),e("button",{type:"button",onclick:"proceedToConfirmation()",class:"flex-1 md:flex-none bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-4 px-8 rounded-lg font-semibold hover:from-blue-700 hover:to-indigo-700 transition shadow-lg hover:shadow-xl",disabled:!0,id:"proceedConfirmationBtn",children:[e("i",{class:"fas fa-check-circle mr-2"}),"予約内容の確認"]})]})]})})]}),e("footer",{class:"bg-gray-800 text-white mt-auto",children:e("div",{class:"container mx-auto px-4 py-8",children:[e("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e("div",{children:[e("h5",{class:"font-bold text-lg mb-4",children:"FlightSearch"}),e("p",{class:"text-gray-400",children:"お得な航空券を簡単検索"})]}),e("div",{children:[e("h5",{class:"font-bold text-lg mb-4",children:"リンク"}),e("ul",{class:"space-y-2 text-gray-400",children:[e("li",{children:e("a",{href:"#",class:"hover:text-white",children:"利用規約"})}),e("li",{children:e("a",{href:"#",class:"hover:text-white",children:"プライバシーポリシー"})}),e("li",{children:e("a",{href:"#",class:"hover:text-white",children:"お問い合わせ"})})]})]}),e("div",{children:[e("h5",{class:"font-bold text-lg mb-4",children:"フォロー"}),e("div",{class:"flex space-x-4",children:[e("a",{href:"#",class:"text-gray-400 hover:text-white",children:e("i",{class:"fab fa-facebook text-2xl"})}),e("a",{href:"#",class:"text-gray-400 hover:text-white",children:e("i",{class:"fab fa-twitter text-2xl"})}),e("a",{href:"#",class:"text-gray-400 hover:text-white",children:e("i",{class:"fab fa-instagram text-2xl"})})]})]})]}),e("div",{class:"border-t border-gray-700 mt-8 pt-8 text-center text-gray-400",children:[e("p",{children:"© 2026 FlightSearch. All rights reserved."}),e("p",{class:"mt-2 text-sm",children:e("a",{href:"https://3001-ixum760vzlh6kn5x9qt8b-dfc00ec5.sandbox.novita.ai",target:"_blank",class:"text-blue-400 hover:text-blue-300",children:[e("i",{class:"fas fa-user-shield mr-1"}),"管理画面（モック）"]})})]})]})})]})}),e("div",{id:"confirmationPage",class:"hidden fixed inset-0 bg-gradient-to-br from-blue-50 to-indigo-100 overflow-y-auto z-40",children:e("div",{class:"min-h-screen flex flex-col",children:[e("div",{class:"container mx-auto px-4 py-8 flex-grow",children:[e("button",{onclick:"backToBooking()",class:"mb-6 flex items-center text-blue-600 hover:text-blue-800 transition",children:[e("i",{class:"fas fa-arrow-left mr-2"}),"座席選択に戻る"]}),e("div",{class:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[e("h2",{class:"text-3xl font-bold text-gray-800 mb-4 flex items-center",children:[e("i",{class:"fas fa-clipboard-check text-blue-600 mr-3"}),"予約内容の最終確認"]}),e("div",{class:"bg-blue-50 border-l-4 border-blue-600 p-4 rounded",children:e("p",{class:"text-sm text-gray-700",children:[e("i",{class:"fas fa-info-circle text-blue-600 mr-2"}),"ご予約内容をご確認の上、お間違いがなければ「支払いへ進む」ボタンをクリックしてください。"]})})]}),e("div",{class:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[e("h3",{class:"text-2xl font-bold text-gray-800 mb-4 flex items-center",children:[e("i",{class:"fas fa-plane text-blue-600 mr-2"}),"フライト情報"]}),e("div",{id:"confirmationFlightSummary",class:"space-y-4"})]}),e("div",{class:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[e("h3",{class:"text-2xl font-bold text-gray-800 mb-4 flex items-center",children:[e("i",{class:"fas fa-users text-blue-600 mr-2"}),"お客様情報"]}),e("div",{id:"confirmationPassengerSummary",class:"space-y-4"})]}),e("div",{class:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[e("h3",{class:"text-2xl font-bold text-gray-800 mb-4 flex items-center",children:[e("i",{class:"fas fa-envelope text-blue-600 mr-2"}),"連絡先情報"]}),e("div",{id:"confirmationContactSummary",class:"space-y-2"})]}),e("div",{class:"bg-white rounded-2xl shadow-xl p-6 sticky bottom-4",children:e("div",{class:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[e("div",{children:[e("div",{class:"text-sm text-gray-600 mb-1",children:"お支払い合計金額"}),e("div",{class:"text-4xl font-bold text-blue-600",id:"confirmationTotalPrice",children:"¥0"}),e("div",{class:"text-xs text-gray-500 mt-1",children:[e("span",{id:"confirmationPassengersCount",children:"1"}),"名分 • 往復 • 税・手数料込み"]})]}),e("div",{class:"flex space-x-4 w-full md:w-auto",children:[e("button",{type:"button",onclick:"backToBooking()",class:"flex-1 md:flex-none bg-gray-200 text-gray-700 py-4 px-8 rounded-lg font-semibold hover:bg-gray-300 transition",children:"戻る"}),e("button",{type:"button",onclick:"proceedToPayment()",class:"flex-1 md:flex-none bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-4 px-8 rounded-lg font-semibold hover:from-blue-700 hover:to-indigo-700 transition shadow-lg hover:shadow-xl",id:"proceedPaymentBtn",children:[e("i",{class:"fas fa-credit-card mr-2"}),"支払いへ進む"]})]})]})})]}),e("footer",{class:"bg-gray-800 text-white mt-auto",children:e("div",{class:"container mx-auto px-4 py-8",children:[e("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e("div",{children:[e("h5",{class:"font-bold text-lg mb-4",children:"FlightSearch"}),e("p",{class:"text-gray-400",children:"お得な航空券を簡単検索"})]}),e("div",{children:[e("h5",{class:"font-bold text-lg mb-4",children:"リンク"}),e("ul",{class:"space-y-2 text-gray-400",children:[e("li",{children:e("a",{href:"#",class:"hover:text-white",children:"利用規約"})}),e("li",{children:e("a",{href:"#",class:"hover:text-white",children:"プライバシーポリシー"})}),e("li",{children:e("a",{href:"#",class:"hover:text-white",children:"お問い合わせ"})})]})]}),e("div",{children:[e("h5",{class:"font-bold text-lg mb-4",children:"フォロー"}),e("div",{class:"flex space-x-4",children:[e("a",{href:"#",class:"text-gray-400 hover:text-white",children:e("i",{class:"fab fa-facebook text-2xl"})}),e("a",{href:"#",class:"text-gray-400 hover:text-white",children:e("i",{class:"fab fa-twitter text-2xl"})}),e("a",{href:"#",class:"text-gray-400 hover:text-white",children:e("i",{class:"fab fa-instagram text-2xl"})})]})]})]}),e("div",{class:"border-t border-gray-700 mt-8 pt-8 text-center text-gray-400",children:[e("p",{children:"© 2026 FlightSearch. All rights reserved."}),e("p",{class:"mt-2 text-sm",children:e("a",{href:"https://3001-ixum760vzlh6kn5x9qt8b-dfc00ec5.sandbox.novita.ai",target:"_blank",class:"text-blue-400 hover:text-blue-300",children:[e("i",{class:"fas fa-user-shield mr-1"}),"管理画面（モック）"]})})]})]})})]})}),e("div",{id:"paymentPage",class:"hidden fixed inset-0 bg-gradient-to-br from-blue-50 to-indigo-100 overflow-y-auto z-40",children:e("div",{class:"min-h-screen flex flex-col",children:[e("div",{class:"container mx-auto px-4 py-8 flex-grow max-w-4xl",children:[e("button",{onclick:"backToConfirmation()",class:"mb-6 flex items-center text-blue-600 hover:text-blue-800 transition",children:[e("i",{class:"fas fa-arrow-left mr-2"}),"予約内容の確認に戻る"]}),e("div",{class:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[e("div",{class:"flex items-center justify-between mb-4",children:[e("h2",{class:"text-3xl font-bold text-gray-800 flex items-center",children:[e("i",{class:"fas fa-lock text-blue-600 mr-3"}),"安全な決済"]}),e("div",{class:"flex items-center space-x-2",children:[e("i",{class:"fab fa-cc-visa text-3xl text-blue-600"}),e("i",{class:"fab fa-cc-mastercard text-3xl text-orange-600"}),e("i",{class:"fab fa-cc-amex text-3xl text-blue-500"}),e("i",{class:"fab fa-cc-jcb text-3xl text-red-600"})]})]}),e("div",{class:"bg-green-50 border-l-4 border-green-600 p-4 rounded",children:e("p",{class:"text-sm text-gray-700",children:[e("i",{class:"fas fa-shield-alt text-green-600 mr-2"}),"このページの情報は、SSL/TLS暗号化技術により保護されています。"]})})]}),e("div",{class:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[e("h3",{class:"text-xl font-bold text-gray-800 mb-4",children:"ご注文内容"}),e("div",{class:"space-y-3",children:[e("div",{class:"flex justify-between text-gray-700",children:[e("span",{children:"フライト料金"}),e("span",{id:"paymentFlightPrice",children:"¥0"})]}),e("div",{class:"flex justify-between text-gray-700",children:[e("span",{children:"座席アップグレード"}),e("span",{id:"paymentSeatUpgrade",children:"¥0"})]}),e("div",{class:"flex justify-between text-gray-700",children:[e("span",{children:"税金・手数料"}),e("span",{id:"paymentTaxes",children:"¥0"})]}),e("div",{class:"border-t border-gray-300 pt-3 flex justify-between items-center",children:[e("span",{class:"text-xl font-bold text-gray-800",children:"合計"}),e("span",{class:"text-2xl font-bold text-blue-600",id:"paymentTotalPrice",children:"¥0"})]})]})]}),e("div",{class:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[e("h3",{class:"text-xl font-bold text-gray-800 mb-6",children:"お支払い情報"}),e("form",{id:"paymentForm",class:"space-y-6",children:[e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"カード番号"}),e("div",{class:"relative",children:[e("input",{type:"text",placeholder:"1234 5678 9012 3456",pattern:"[0-9\\s]{13,19}",maxlength:"19",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),e("i",{class:"fas fa-credit-card absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400"})]})]}),e("div",{class:"grid grid-cols-2 gap-4",children:[e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"有効期限"}),e("input",{type:"text",placeholder:"MM/YY",pattern:"(0[1-9]|1[0-2])\\/[0-9]{2}",maxlength:"5",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"セキュリティコード"}),e("input",{type:"text",placeholder:"CVV",pattern:"[0-9]{3,4}",maxlength:"4",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"カード名義人"}),e("input",{type:"text",placeholder:"TARO YAMADA",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"請求先住所"}),e("input",{type:"text",placeholder:"東京都渋谷区...",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]})]}),e("div",{class:"bg-white rounded-2xl shadow-xl p-6 sticky bottom-4",children:[e("div",{class:"flex space-x-4",children:[e("button",{type:"button",onclick:"backToConfirmation()",class:"flex-1 bg-gray-200 text-gray-700 py-4 px-8 rounded-lg font-semibold hover:bg-gray-300 transition",children:"キャンセル"}),e("button",{type:"button",onclick:"completeBooking()",class:"flex-1 bg-gradient-to-r from-green-600 to-blue-600 text-white py-4 px-8 rounded-lg font-semibold hover:from-green-700 hover:to-blue-700 transition shadow-lg hover:shadow-xl",children:[e("i",{class:"fas fa-lock mr-2"}),e("span",{id:"paymentButtonText",children:"¥0 を支払う"})]})]}),e("p",{class:"text-xs text-gray-500 text-center mt-4",children:[e("i",{class:"fas fa-shield-alt mr-1"}),"お客様の決済情報は暗号化され、安全に処理されます。"]})]})]}),e("footer",{class:"bg-gray-800 text-white mt-auto",children:e("div",{class:"container mx-auto px-4 py-8",children:[e("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e("div",{children:[e("h5",{class:"font-bold text-lg mb-4",children:"FlightSearch"}),e("p",{class:"text-gray-400",children:"お得な航空券を簡単検索"})]}),e("div",{children:[e("h5",{class:"font-bold text-lg mb-4",children:"リンク"}),e("ul",{class:"space-y-2 text-gray-400",children:[e("li",{children:e("a",{href:"#",class:"hover:text-white",children:"利用規約"})}),e("li",{children:e("a",{href:"#",class:"hover:text-white",children:"プライバシーポリシー"})}),e("li",{children:e("a",{href:"#",class:"hover:text-white",children:"お問い合わせ"})})]})]}),e("div",{children:[e("h5",{class:"font-bold text-lg mb-4",children:"フォロー"}),e("div",{class:"flex space-x-4",children:[e("a",{href:"#",class:"text-gray-400 hover:text-white",children:e("i",{class:"fab fa-facebook text-2xl"})}),e("a",{href:"#",class:"text-gray-400 hover:text-white",children:e("i",{class:"fab fa-twitter text-2xl"})}),e("a",{href:"#",class:"text-gray-400 hover:text-white",children:e("i",{class:"fab fa-instagram text-2xl"})})]})]})]}),e("div",{class:"border-t border-gray-700 mt-8 pt-8 text-center text-gray-400",children:[e("p",{children:"© 2026 FlightSearch. All rights reserved."}),e("p",{class:"mt-2 text-sm",children:e("a",{href:"https://3001-ixum760vzlh6kn5x9qt8b-dfc00ec5.sandbox.novita.ai",target:"_blank",class:"text-blue-400 hover:text-blue-300",children:[e("i",{class:"fas fa-user-shield mr-1"}),"管理画面（モック）"]})})]})]})})]})}),e("div",{id:"completePage",class:"hidden fixed inset-0 bg-gradient-to-br from-green-50 to-blue-100 overflow-y-auto z-40",children:e("div",{class:"min-h-screen flex flex-col",children:[e("div",{class:"container mx-auto px-4 py-8 flex-grow max-w-4xl",children:[e("div",{class:"bg-white rounded-2xl shadow-xl p-8 mb-6 text-center",children:[e("div",{class:"mb-6",children:[e("div",{class:"inline-flex items-center justify-center w-24 h-24 bg-green-100 rounded-full mb-4",children:e("i",{class:"fas fa-check-circle text-green-600 text-6xl"})}),e("h2",{class:"text-4xl font-bold text-gray-800 mb-2",children:"予約が完了しました！"}),e("p",{class:"text-gray-600",children:"ご予約ありがとうございます。予約確認メールをお送りしました。"})]}),e("div",{class:"bg-blue-50 border-2 border-blue-200 rounded-lg p-6 mb-6",children:[e("div",{class:"text-sm text-gray-600 mb-2",children:"予約番号"}),e("div",{class:"text-3xl font-bold text-blue-600",id:"bookingReference",children:"ABC123456"}),e("p",{class:"text-xs text-gray-500 mt-2",children:"この予約番号は、予約の確認や変更に必要です。大切に保管してください。"})]})]}),e("div",{class:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[e("h3",{class:"text-2xl font-bold text-gray-800 mb-4 flex items-center",children:[e("i",{class:"fas fa-plane text-blue-600 mr-2"}),"フライト情報"]}),e("div",{id:"completeFlightSummary",class:"space-y-4"})]}),e("div",{class:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[e("h3",{class:"text-xl font-bold text-gray-800 mb-4",children:"次のステップ"}),e("div",{class:"space-y-4",children:[e("div",{class:"flex items-start space-x-3",children:[e("div",{class:"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:e("span",{class:"text-blue-600 font-bold",children:"1"})}),e("div",{children:[e("h4",{class:"font-semibold text-gray-800",children:"予約確認メールを確認"}),e("p",{class:"text-sm text-gray-600",children:"ご登録のメールアドレスに予約詳細を送信しました。"})]})]}),e("div",{class:"flex items-start space-x-3",children:[e("div",{class:"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:e("span",{class:"text-blue-600 font-bold",children:"2"})}),e("div",{children:[e("h4",{class:"font-semibold text-gray-800",children:"オンラインチェックイン"}),e("p",{class:"text-sm text-gray-600",children:"出発24時間前からオンラインチェックインが可能です。"})]})]}),e("div",{class:"flex items-start space-x-3",children:[e("div",{class:"flex-shrink-0 w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:e("span",{class:"text-blue-600 font-bold",children:"3"})}),e("div",{children:[e("h4",{class:"font-semibold text-gray-800",children:"空港へ出発"}),e("p",{class:"text-sm text-gray-600",children:"出発の2時間前までに空港へお越しください。"})]})]})]})]}),e("div",{class:"bg-white rounded-2xl shadow-xl p-6",children:e("div",{class:"flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4",children:[e("button",{type:"button",onclick:"downloadTicket()",class:"flex-1 bg-blue-600 text-white py-4 px-8 rounded-lg font-semibold hover:bg-blue-700 transition shadow-lg hover:shadow-xl",children:[e("i",{class:"fas fa-download mr-2"}),"予約確認書をダウンロード"]}),e("button",{type:"button",onclick:"returnToSearch()",class:"flex-1 bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-4 px-8 rounded-lg font-semibold hover:from-blue-700 hover:to-indigo-700 transition shadow-lg hover:shadow-xl",children:[e("i",{class:"fas fa-home mr-2"}),"検索トップに戻る"]})]})})]}),e("footer",{class:"bg-gray-800 text-white mt-auto",children:e("div",{class:"container mx-auto px-4 py-8",children:[e("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e("div",{children:[e("h5",{class:"font-bold text-lg mb-4",children:"FlightSearch"}),e("p",{class:"text-gray-400",children:"お得な航空券を簡単検索"})]}),e("div",{children:[e("h5",{class:"font-bold text-lg mb-4",children:"リンク"}),e("ul",{class:"space-y-2 text-gray-400",children:[e("li",{children:e("a",{href:"#",class:"hover:text-white",children:"利用規約"})}),e("li",{children:e("a",{href:"#",class:"hover:text-white",children:"プライバシーポリシー"})}),e("li",{children:e("a",{href:"#",class:"hover:text-white",children:"お問い合わせ"})})]})]}),e("div",{children:[e("h5",{class:"font-bold text-lg mb-4",children:"フォロー"}),e("div",{class:"flex space-x-4",children:[e("a",{href:"#",class:"text-gray-400 hover:text-white",children:e("i",{class:"fab fa-facebook text-2xl"})}),e("a",{href:"#",class:"text-gray-400 hover:text-white",children:e("i",{class:"fab fa-twitter text-2xl"})}),e("a",{href:"#",class:"text-gray-400 hover:text-white",children:e("i",{class:"fab fa-instagram text-2xl"})})]})]})]}),e("div",{class:"border-t border-gray-700 mt-8 pt-8 text-center text-gray-400",children:[e("p",{children:"© 2026 FlightSearch. All rights reserved."}),e("p",{class:"mt-2 text-sm",children:e("a",{href:"https://3001-ixum760vzlh6kn5x9qt8b-dfc00ec5.sandbox.novita.ai",target:"_blank",class:"text-blue-400 hover:text-blue-300",children:[e("i",{class:"fas fa-user-shield mr-1"}),"管理画面（モック）"]})})]})]})})]})}),e("div",{id:"myPage",class:"hidden fixed inset-0 bg-gradient-to-br from-blue-50 to-indigo-100 overflow-y-auto z-40",children:e("div",{class:"min-h-screen flex flex-col",children:[e("div",{class:"container mx-auto px-4 py-8 flex-grow",children:[e("button",{onclick:"backToHome()",class:"mb-6 flex items-center text-blue-600 hover:text-blue-800 transition",children:[e("i",{class:"fas fa-arrow-left mr-2"}),"ホームに戻る"]}),e("div",{class:"bg-white rounded-2xl shadow-xl p-6 mb-6",children:[e("h2",{class:"text-3xl font-bold text-gray-800 mb-2 flex items-center",children:[e("i",{class:"fas fa-user-circle text-blue-600 mr-3"}),"マイページ"]}),e("p",{class:"text-gray-600",id:"myPageUserEmail",children:"ログイン中: user@example.com"})]}),e("div",{class:"bg-white rounded-2xl shadow-xl mb-6 overflow-hidden",children:e("div",{class:"flex border-b",children:[e("button",{onclick:"switchMyPageTab('bookings')",id:"tabBookings",class:"flex-1 py-4 px-6 font-semibold text-center transition mypage-tab active",children:[e("i",{class:"fas fa-list mr-2"}),"予約履歴"]}),e("button",{onclick:"switchMyPageTab('profile')",id:"tabProfile",class:"flex-1 py-4 px-6 font-semibold text-center transition mypage-tab",children:[e("i",{class:"fas fa-user-edit mr-2"}),"会員情報"]})]})}),e("div",{id:"bookingsTab",class:"mypage-tab-content",children:e("div",{class:"bg-white rounded-2xl shadow-xl p-6",children:[e("h3",{class:"text-2xl font-bold text-gray-800 mb-6 flex items-center",children:[e("i",{class:"fas fa-history text-blue-600 mr-2"}),"予約履歴"]}),e("div",{id:"bookingsList",class:"space-y-4"})]})}),e("div",{id:"profileTab",class:"mypage-tab-content hidden",children:e("div",{class:"bg-white rounded-2xl shadow-xl p-6",children:[e("h3",{class:"text-2xl font-bold text-gray-800 mb-6 flex items-center",children:[e("i",{class:"fas fa-id-card text-blue-600 mr-2"}),"会員情報"]}),e("form",{id:"profileForm",class:"space-y-6",children:[e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"メールアドレス"}),e("input",{type:"email",id:"profileEmail",disabled:!0,class:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-100"})]}),e("div",{class:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:["姓 ",e("span",{class:"text-red-500",children:"*"})]}),e("input",{type:"text",id:"profileLastName",placeholder:"山田",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:["名 ",e("span",{class:"text-red-500",children:"*"})]}),e("input",{type:"text",id:"profileFirstName",placeholder:"太郎",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:["電話番号 ",e("span",{class:"text-red-500",children:"*"})]}),e("input",{type:"tel",id:"profilePhone",placeholder:"090-1234-5678",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:["生年月日 ",e("span",{class:"text-red-500",children:"*"})]}),e("input",{type:"date",id:"profileDob",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:["性別 ",e("span",{class:"text-red-500",children:"*"})]}),e("select",{id:"profileGender",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e("option",{value:"",children:"選択してください"}),e("option",{value:"male",children:"男性"}),e("option",{value:"female",children:"女性"}),e("option",{value:"other",children:"その他"})]})]}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"パスポート番号"}),e("input",{type:"text",id:"profilePassport",placeholder:"AB1234567",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e("div",{children:[e("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"国籍"}),e("input",{type:"text",id:"profileNationality",placeholder:"日本",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e("div",{class:"flex justify-end space-x-4",children:[e("button",{type:"button",onclick:"cancelProfileEdit()",class:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition",children:"キャンセル"}),e("button",{type:"submit",class:"px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 transition shadow-lg hover:shadow-xl",children:[e("i",{class:"fas fa-save mr-2"}),"保存する"]})]})]})]})})]}),e("footer",{class:"bg-gray-800 text-white mt-auto",children:e("div",{class:"container mx-auto px-4 py-8",children:[e("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[e("div",{children:[e("h5",{class:"font-bold text-lg mb-4",children:"FlightSearch"}),e("p",{class:"text-gray-400",children:"お得な航空券を簡単検索"})]}),e("div",{children:[e("h5",{class:"font-bold text-lg mb-4",children:"リンク"}),e("ul",{class:"space-y-2 text-gray-400",children:[e("li",{children:e("a",{href:"#",class:"hover:text-white",children:"利用規約"})}),e("li",{children:e("a",{href:"#",class:"hover:text-white",children:"プライバシーポリシー"})}),e("li",{children:e("a",{href:"#",class:"hover:text-white",children:"お問い合わせ"})})]})]}),e("div",{children:[e("h5",{class:"font-bold text-lg mb-4",children:"フォロー"}),e("div",{class:"flex space-x-4",children:[e("a",{href:"#",class:"text-gray-400 hover:text-white",children:e("i",{class:"fab fa-facebook text-2xl"})}),e("a",{href:"#",class:"text-gray-400 hover:text-white",children:e("i",{class:"fab fa-twitter text-2xl"})}),e("a",{href:"#",class:"text-gray-400 hover:text-white",children:e("i",{class:"fab fa-instagram text-2xl"})})]})]})]}),e("div",{class:"border-t border-gray-700 mt-8 pt-8 text-center text-gray-400",children:[e("p",{children:"© 2026 FlightSearch. All rights reserved."}),e("p",{class:"mt-2 text-sm",children:e("a",{href:"https://3001-ixum760vzlh6kn5x9qt8b-dfc00ec5.sandbox.novita.ai",target:"_blank",class:"text-blue-400 hover:text-blue-300",children:[e("i",{class:"fas fa-user-shield mr-1"}),"管理画面（モック）"]})})]})]})})]})}),e("div",{id:"bookingDetailModal",class:"hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e("div",{class:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:e("div",{class:"p-6",children:[e("div",{class:"flex justify-between items-center mb-6",children:[e("h3",{class:"text-2xl font-bold text-gray-800 flex items-center",children:[e("i",{class:"fas fa-ticket-alt text-blue-600 mr-2"}),"予約詳細"]}),e("button",{onclick:"closeBookingDetailModal()",class:"text-gray-400 hover:text-gray-600 text-2xl",children:e("i",{class:"fas fa-times"})})]}),e("div",{id:"bookingDetailContent"}),e("div",{class:"mt-6 flex justify-end space-x-4",children:[e("button",{onclick:"closeBookingDetailModal()",class:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition",children:"閉じる"}),e("button",{id:"cancelBookingBtn",onclick:"showCancelConfirmation()",class:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:[e("i",{class:"fas fa-times-circle mr-2"}),"この予約をキャンセル"]})]})]})})}),e("div",{id:"cancelConfirmModal",class:"hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e("div",{class:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-6",children:[e("h3",{class:"text-xl font-bold text-gray-800 mb-4 flex items-center",children:[e("i",{class:"fas fa-exclamation-triangle text-yellow-500 mr-2"}),"キャンセル確認"]}),e("p",{class:"text-gray-600 mb-6",children:["この予約をキャンセルしてもよろしいですか？",e("br",{}),"この操作は取り消すことができません。"]}),e("div",{class:"flex justify-end space-x-4",children:[e("button",{onclick:"closeCancelConfirmation()",class:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition",children:"戻る"}),e("button",{onclick:"confirmCancelBooking()",class:"px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition",children:"キャンセルする"})]})]})}),e("script",{src:"/static/app.js"})]})));ze.post("/api/search",async t=>{const r=await t.req.json();return t.json({success:!0,message:"Search received",data:r})});const Gt=new Pr,bl=Object.assign({"/src/index.tsx":ze});let $r=!1;for(const[,t]of Object.entries(bl))t&&(Gt.all("*",r=>{let s;try{s=r.executionCtx}catch{}return t.fetch(r.req.raw,r.env,s)}),Gt.notFound(r=>{let s;try{s=r.executionCtx}catch{}return t.fetch(r.req.raw,r.env,s)}),$r=!0);if(!$r)throw new Error("Can't import modules from ['/src/index.ts','/src/index.tsx','/app/server.ts']");export{Gt as default};
