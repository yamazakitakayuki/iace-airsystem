var Dr=Object.defineProperty;var Ot=e=>{throw TypeError(e)};var Hr=(e,t,r)=>t in e?Dr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var y=(e,t,r)=>Hr(e,typeof t!="symbol"?t+"":t,r),at=(e,t,r)=>t.has(e)||Ot("Cannot "+r);var h=(e,t,r)=>(at(e,t,"read from private field"),r?r.call(e):t.get(e)),E=(e,t,r)=>t.has(e)?Ot("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),x=(e,t,r,s)=>(at(e,t,"write to private field"),s?s.call(e,r):t.set(e,r),r),R=(e,t,r)=>(at(e,t,"access private method"),r);var jt=(e,t,r,s)=>({set _(n){x(e,t,n,r)},get _(){return h(e,t,s)}});var er={Stringify:1},M=(e,t)=>{const r=new String(e);return r.isEscaped=!0,r.callbacks=t,r},Ir=/[&<>'"]/,tr=async(e,t)=>{let r="";t||(t=[]);const s=await Promise.all(e);for(let n=s.length-1;r+=s[n],n--,!(n<0);n--){let i=s[n];typeof i=="object"&&t.push(...i.callbacks||[]);const a=i.isEscaped;if(i=await(typeof i=="object"?i.toString():i),typeof i=="object"&&t.push(...i.callbacks||[]),i.isEscaped??a)r+=i;else{const c=[r];ee(i,c),r=c[0]}}return M(r,t)},ee=(e,t)=>{const r=e.search(Ir);if(r===-1){t[0]+=e;return}let s,n,i=0;for(n=r;n<e.length;n++){switch(e.charCodeAt(n)){case 34:s="&quot;";break;case 39:s="&#39;";break;case 38:s="&amp;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}t[0]+=e.substring(i,n)+s,i=n+1}t[0]+=e.substring(i,n)},rr=e=>{const t=e.callbacks;if(!(t!=null&&t.length))return e;const r=[e],s={};return t.forEach(n=>n({phase:er.Stringify,buffer:r,context:s})),r[0]},sr=async(e,t,r,s,n)=>{typeof e=="object"&&!(e instanceof String)&&(e instanceof Promise||(e=e.toString()),e instanceof Promise&&(e=await e));const i=e.callbacks;return i!=null&&i.length?(n?n[0]+=e:n=[e],Promise.all(i.map(c=>c({phase:t,buffer:n,context:s}))).then(c=>Promise.all(c.filter(Boolean).map(o=>sr(o,t,!1,s,n))).then(()=>n[0]))):Promise.resolve(e)},Fr=(e,...t)=>{const r=[""];for(let s=0,n=e.length-1;s<n;s++){r[0]+=e[s];const i=Array.isArray(t[s])?t[s].flat(1/0):[t[s]];for(let a=0,c=i.length;a<c;a++){const o=i[a];if(typeof o=="string")ee(o,r);else if(typeof o=="number")r[0]+=o;else{if(typeof o=="boolean"||o===null||o===void 0)continue;if(typeof o=="object"&&o.isEscaped)if(o.callbacks)r.unshift("",o);else{const d=o.toString();d instanceof Promise?r.unshift("",d):r[0]+=d}else o instanceof Promise?r.unshift("",o):ee(o.toString(),r)}}}return r[0]+=e.at(-1),r.length===1?"callbacks"in r?M(rr(M(r[0],r.callbacks))):M(r[0]):tr(r,r.callbacks)},Et=Symbol("RENDERER"),yt=Symbol("ERROR_HANDLER"),C=Symbol("STASH"),nr=Symbol("INTERNAL"),_r=Symbol("MEMO"),et=Symbol("PERMALINK"),Tt=e=>(e[nr]=!0,e),ir=e=>({value:t,children:r})=>{if(!r)return;const s={children:[{tag:Tt(()=>{e.push(t)}),props:{}}]};Array.isArray(r)?s.children.push(...r.flat()):s.children.push(r),s.children.push({tag:Tt(()=>{e.pop()}),props:{}});const n={tag:"",props:s,type:""};return n[yt]=i=>{throw e.pop(),i},n},lr=e=>{const t=[e],r=ir(t);return r.values=t,r.Provider=r,we.push(r),r},we=[],kt=e=>{const t=[e],r=(s=>{t.push(s.value);let n;try{n=s.children?(Array.isArray(s.children)?new dr("",{},s.children):s.children).toString():""}catch(i){throw t.pop(),i}return n instanceof Promise?n.finally(()=>t.pop()).then(i=>M(i,i.callbacks)):(t.pop(),M(n))});return r.values=t,r.Provider=r,r[Et]=ir(t),we.push(r),r},ke=e=>e.values.at(-1),ze={title:[],script:["src"],style:["data-href"],link:["href"],meta:["name","httpEquiv","charset","itemProp"]},mt={},Ve="data-precedence",Fe=e=>Array.isArray(e)?e:[e],$t=new WeakMap,Lt=(e,t,r,s)=>({buffer:n,context:i})=>{if(!n)return;const a=$t.get(i)||{};$t.set(i,a);const c=a[e]||(a[e]=[]);let o=!1;const d=ze[e];if(d.length>0){e:for(const[,u]of c)for(const f of d)if(((u==null?void 0:u[f])??null)===(r==null?void 0:r[f])){o=!0;break e}}if(o?n[0]=n[0].replaceAll(t,""):d.length>0?c.push([t,r,s]):c.unshift([t,r,s]),n[0].indexOf("</head>")!==-1){let u;if(s===void 0)u=c.map(([f])=>f);else{const f=[];u=c.map(([p,,g])=>{let m=f.indexOf(g);return m===-1&&(f.push(g),m=f.length-1),[p,m]}).sort((p,g)=>p[1]-g[1]).map(([p])=>p)}u.forEach(f=>{n[0]=n[0].replaceAll(f,"")}),n[0]=n[0].replace(/(?=<\/head>)/,u.join(""))}},_e=(e,t,r)=>M(new F(e,r,Fe(t??[])).toString()),Be=(e,t,r,s)=>{if("itemProp"in r)return _e(e,t,r);let{precedence:n,blocking:i,...a}=r;n=s?n??"":void 0,s&&(a[Ve]=n);const c=new F(e,a,Fe(t||[])).toString();return c instanceof Promise?c.then(o=>M(c,[...o.callbacks||[],Lt(e,o,a,n)])):M(c,[Lt(e,c,a,n)])},Br=({children:e,...t})=>{const r=Rt();if(r){const s=ke(r);if(s==="svg"||s==="head")return new F("title",t,Fe(e??[]))}return Be("title",e,t,!1)},qr=({children:e,...t})=>{const r=Rt();return["src","async"].some(s=>!t[s])||r&&ke(r)==="head"?_e("script",e,t):Be("script",e,t,!1)},Ur=({children:e,...t})=>["href","precedence"].every(r=>r in t)?(t["data-href"]=t.href,delete t.href,Be("style",e,t,!0)):_e("style",e,t),Wr=({children:e,...t})=>["onLoad","onError"].some(r=>r in t)||t.rel==="stylesheet"&&(!("precedence"in t)||"disabled"in t)?_e("link",e,t):Be("link",e,t,"precedence"in t),Kr=({children:e,...t})=>{const r=Rt();return r&&ke(r)==="head"?_e("meta",e,t):Be("meta",e,t,!1)},ar=(e,{children:t,...r})=>new F(e,r,Fe(t??[])),zr=e=>(typeof e.action=="function"&&(e.action=et in e.action?e.action[et]:void 0),ar("form",e)),cr=(e,t)=>(typeof t.formAction=="function"&&(t.formAction=et in t.formAction?t.formAction[et]:void 0),ar(e,t)),Vr=e=>cr("input",e),Gr=e=>cr("button",e);const ct=Object.freeze(Object.defineProperty({__proto__:null,button:Gr,form:zr,input:Vr,link:Wr,meta:Kr,script:qr,style:Ur,title:Br},Symbol.toStringTag,{value:"Module"}));var Jr=new Map([["className","class"],["htmlFor","for"],["crossOrigin","crossorigin"],["httpEquiv","http-equiv"],["itemProp","itemprop"],["fetchPriority","fetchpriority"],["noModule","nomodule"],["formAction","formaction"]]),tt=e=>Jr.get(e)||e,or=(e,t)=>{for(const[r,s]of Object.entries(e)){const n=r[0]==="-"||!/[A-Z]/.test(r)?r:r.replace(/[A-Z]/g,i=>`-${i.toLowerCase()}`);t(n,s==null?null:typeof s=="number"?n.match(/^(?:a|border-im|column(?:-c|s)|flex(?:$|-[^b])|grid-(?:ar|[^a])|font-w|li|or|sca|st|ta|wido|z)|ty$/)?`${s}`:`${s}px`:s)}},je=void 0,Rt=()=>je,Xr=e=>/[A-Z]/.test(e)&&e.match(/^(?:al|basel|clip(?:Path|Rule)$|co|do|fill|fl|fo|gl|let|lig|i|marker[EMS]|o|pai|pointe|sh|st[or]|text[^L]|tr|u|ve|w)/)?e.replace(/([A-Z])/g,"-$1").toLowerCase():e,Zr=["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],Yr=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","download","formnovalidate","hidden","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"],St=(e,t)=>{for(let r=0,s=e.length;r<s;r++){const n=e[r];if(typeof n=="string")ee(n,t);else{if(typeof n=="boolean"||n===null||n===void 0)continue;n instanceof F?n.toStringToBuffer(t):typeof n=="number"||n.isEscaped?t[0]+=n:n instanceof Promise?t.unshift("",n):St(n,t)}}},F=class{constructor(e,t,r){y(this,"tag");y(this,"props");y(this,"key");y(this,"children");y(this,"isEscaped",!0);y(this,"localContexts");this.tag=e,this.props=t,this.children=r}get type(){return this.tag}get ref(){return this.props.ref||null}toString(){var t,r;const e=[""];(t=this.localContexts)==null||t.forEach(([s,n])=>{s.values.push(n)});try{this.toStringToBuffer(e)}finally{(r=this.localContexts)==null||r.forEach(([s])=>{s.values.pop()})}return e.length===1?"callbacks"in e?rr(M(e[0],e.callbacks)).toString():e[0]:tr(e,e.callbacks)}toStringToBuffer(e){const t=this.tag,r=this.props;let{children:s}=this;e[0]+=`<${t}`;const n=je&&ke(je)==="svg"?i=>Xr(tt(i)):i=>tt(i);for(let[i,a]of Object.entries(r))if(i=n(i),i!=="children"){if(i==="style"&&typeof a=="object"){let c="";or(a,(o,d)=>{d!=null&&(c+=`${c?";":""}${o}:${d}`)}),e[0]+=' style="',ee(c,e),e[0]+='"'}else if(typeof a=="string")e[0]+=` ${i}="`,ee(a,e),e[0]+='"';else if(a!=null)if(typeof a=="number"||a.isEscaped)e[0]+=` ${i}="${a}"`;else if(typeof a=="boolean"&&Yr.includes(i))a&&(e[0]+=` ${i}=""`);else if(i==="dangerouslySetInnerHTML"){if(s.length>0)throw new Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");s=[M(a.__html)]}else if(a instanceof Promise)e[0]+=` ${i}="`,e.unshift('"',a);else if(typeof a=="function"){if(!i.startsWith("on")&&i!=="ref")throw new Error(`Invalid prop '${i}' of type 'function' supplied to '${t}'.`)}else e[0]+=` ${i}="`,ee(a.toString(),e),e[0]+='"'}if(Zr.includes(t)&&s.length===0){e[0]+="/>";return}e[0]+=">",St(s,e),e[0]+=`</${t}>`}},ot=class extends F{toStringToBuffer(e){const{children:t}=this,r={...this.props};t.length&&(r.children=t.length===1?t[0]:t);const s=this.tag.call(null,r);if(!(typeof s=="boolean"||s==null))if(s instanceof Promise)if(we.length===0)e.unshift("",s);else{const n=we.map(i=>[i,i.values.at(-1)]);e.unshift("",s.then(i=>(i instanceof F&&(i.localContexts=n),i)))}else s instanceof F?s.toStringToBuffer(e):typeof s=="number"||s.isEscaped?(e[0]+=s,s.callbacks&&(e.callbacks||(e.callbacks=[]),e.callbacks.push(...s.callbacks))):ee(s,e)}},dr=class extends F{toStringToBuffer(e){St(this.children,e)}},Nt=(e,t,...r)=>{t??(t={}),r.length&&(t.children=r.length===1?r[0]:r);const s=t.key;delete t.key;const n=Ge(e,t,r);return n.key=s,n},Mt=!1,Ge=(e,t,r)=>{if(!Mt){for(const s in mt)ct[s][Et]=mt[s];Mt=!0}return typeof e=="function"?new ot(e,t,r):ct[e]?new ot(ct[e],t,r):e==="svg"||e==="head"?(je||(je=kt("")),new F(e,t,[new ot(je,{value:e},r)])):new F(e,t,r)},Qr=({children:e})=>new dr("",{children:e},Array.isArray(e)?e:e?[e]:[]);function l(e,t,r){let s;if(!t||!("children"in t))s=Ge(e,t,[]);else{const n=t.children;s=Array.isArray(n)?Ge(e,t,n):Ge(e,t,[n])}return s.key=r,s}var Dt=(e,t,r)=>(s,n)=>{let i=-1;return a(0);async function a(c){if(c<=i)throw new Error("next() called multiple times");i=c;let o,d=!1,u;if(e[c]?(u=e[c][0][0],s.req.routeIndex=c):u=c===e.length&&n||void 0,u)try{o=await u(s,()=>a(c+1))}catch(f){if(f instanceof Error&&t)s.error=f,o=await t(f,s),d=!0;else throw f}else s.finalized===!1&&r&&(o=await r(s));return o&&(s.finalized===!1||d)&&(s.res=o),s}},es=Symbol(),ts=async(e,t=Object.create(null))=>{const{all:r=!1,dot:s=!1}=t,i=(e instanceof vr?e.raw.headers:e.headers).get("Content-Type");return i!=null&&i.startsWith("multipart/form-data")||i!=null&&i.startsWith("application/x-www-form-urlencoded")?rs(e,{all:r,dot:s}):{}};async function rs(e,t){const r=await e.formData();return r?ss(r,t):{}}function ss(e,t){const r=Object.create(null);return e.forEach((s,n)=>{t.all||n.endsWith("[]")?ns(r,n,s):r[n]=s}),t.dot&&Object.entries(r).forEach(([s,n])=>{s.includes(".")&&(is(r,s,n),delete r[s])}),r}var ns=(e,t,r)=>{e[t]!==void 0?Array.isArray(e[t])?e[t].push(r):e[t]=[e[t],r]:t.endsWith("[]")?e[t]=[r]:e[t]=r},is=(e,t,r)=>{let s=e;const n=t.split(".");n.forEach((i,a)=>{a===n.length-1?s[i]=r:((!s[i]||typeof s[i]!="object"||Array.isArray(s[i])||s[i]instanceof File)&&(s[i]=Object.create(null)),s=s[i])})},hr=e=>{const t=e.split("/");return t[0]===""&&t.shift(),t},ls=e=>{const{groups:t,path:r}=as(e),s=hr(r);return cs(s,t)},as=e=>{const t=[];return e=e.replace(/\{[^}]+\}/g,(r,s)=>{const n=`@${s}`;return t.push([n,r]),n}),{groups:t,path:e}},cs=(e,t)=>{for(let r=t.length-1;r>=0;r--){const[s]=t[r];for(let n=e.length-1;n>=0;n--)if(e[n].includes(s)){e[n]=e[n].replace(s,t[r][1]);break}}return e},We={},os=(e,t)=>{if(e==="*")return"*";const r=e.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);if(r){const s=`${e}#${t}`;return We[s]||(r[2]?We[s]=t&&t[0]!==":"&&t[0]!=="*"?[s,r[1],new RegExp(`^${r[2]}(?=/${t})`)]:[e,r[1],new RegExp(`^${r[2]}$`)]:We[s]=[e,r[1],!0]),We[s]}return null},Pt=(e,t)=>{try{return t(e)}catch{return e.replace(/(?:%[0-9A-Fa-f]{2})+/g,r=>{try{return t(r)}catch{return r}})}},ds=e=>Pt(e,decodeURI),ur=e=>{const t=e.url,r=t.indexOf("/",t.indexOf(":")+4);let s=r;for(;s<t.length;s++){const n=t.charCodeAt(s);if(n===37){const i=t.indexOf("?",s),a=t.indexOf("#",s),c=i===-1?a===-1?void 0:a:a===-1?i:Math.min(i,a),o=t.slice(r,c);return ds(o.includes("%25")?o.replace(/%25/g,"%2525"):o)}else if(n===63||n===35)break}return t.slice(r,s)},hs=e=>{const t=ur(e);return t.length>1&&t.at(-1)==="/"?t.slice(0,-1):t},he=(e,t,...r)=>(r.length&&(t=he(t,...r)),`${(e==null?void 0:e[0])==="/"?"":"/"}${e}${t==="/"?"":`${(e==null?void 0:e.at(-1))==="/"?"":"/"}${(t==null?void 0:t[0])==="/"?t.slice(1):t}`}`),fr=e=>{if(e.charCodeAt(e.length-1)!==63||!e.includes(":"))return null;const t=e.split("/"),r=[];let s="";return t.forEach(n=>{if(n!==""&&!/\:/.test(n))s+="/"+n;else if(/\:/.test(n))if(/\?/.test(n)){r.length===0&&s===""?r.push("/"):r.push(s);const i=n.replace("?","");s+="/"+i,r.push(s)}else s+="/"+n}),r.filter((n,i,a)=>a.indexOf(n)===i)},dt=e=>/[%+]/.test(e)?(e.indexOf("+")!==-1&&(e=e.replace(/\+/g," ")),e.indexOf("%")!==-1?Pt(e,gr):e):e,pr=(e,t,r)=>{let s;if(!r&&t&&!/[%+]/.test(t)){let a=e.indexOf("?",8);if(a===-1)return;for(e.startsWith(t,a+1)||(a=e.indexOf(`&${t}`,a+1));a!==-1;){const c=e.charCodeAt(a+t.length+1);if(c===61){const o=a+t.length+2,d=e.indexOf("&",o);return dt(e.slice(o,d===-1?void 0:d))}else if(c==38||isNaN(c))return"";a=e.indexOf(`&${t}`,a+1)}if(s=/[%+]/.test(e),!s)return}const n={};s??(s=/[%+]/.test(e));let i=e.indexOf("?",8);for(;i!==-1;){const a=e.indexOf("&",i+1);let c=e.indexOf("=",i);c>a&&a!==-1&&(c=-1);let o=e.slice(i+1,c===-1?a===-1?void 0:a:c);if(s&&(o=dt(o)),i=a,o==="")continue;let d;c===-1?d="":(d=e.slice(c+1,a===-1?void 0:a),s&&(d=dt(d))),r?(n[o]&&Array.isArray(n[o])||(n[o]=[]),n[o].push(d)):n[o]??(n[o]=d)}return t?n[t]:n},us=pr,fs=(e,t)=>pr(e,t,!0),gr=decodeURIComponent,Ht=e=>Pt(e,gr),pe,N,z,yr,mr,bt,G,Gt,vr=(Gt=class{constructor(e,t="/",r=[[]]){E(this,z);y(this,"raw");E(this,pe);E(this,N);y(this,"routeIndex",0);y(this,"path");y(this,"bodyCache",{});E(this,G,e=>{const{bodyCache:t,raw:r}=this,s=t[e];if(s)return s;const n=Object.keys(t)[0];return n?t[n].then(i=>(n==="json"&&(i=JSON.stringify(i)),new Response(i)[e]())):t[e]=r[e]()});this.raw=e,this.path=t,x(this,N,r),x(this,pe,{})}param(e){return e?R(this,z,yr).call(this,e):R(this,z,mr).call(this)}query(e){return us(this.url,e)}queries(e){return fs(this.url,e)}header(e){if(e)return this.raw.headers.get(e)??void 0;const t={};return this.raw.headers.forEach((r,s)=>{t[s]=r}),t}async parseBody(e){var t;return(t=this.bodyCache).parsedBody??(t.parsedBody=await ts(this,e))}json(){return h(this,G).call(this,"text").then(e=>JSON.parse(e))}text(){return h(this,G).call(this,"text")}arrayBuffer(){return h(this,G).call(this,"arrayBuffer")}blob(){return h(this,G).call(this,"blob")}formData(){return h(this,G).call(this,"formData")}addValidatedData(e,t){h(this,pe)[e]=t}valid(e){return h(this,pe)[e]}get url(){return this.raw.url}get method(){return this.raw.method}get[es](){return h(this,N)}get matchedRoutes(){return h(this,N)[0].map(([[,e]])=>e)}get routePath(){return h(this,N)[0].map(([[,e]])=>e)[this.routeIndex].path}},pe=new WeakMap,N=new WeakMap,z=new WeakSet,yr=function(e){const t=h(this,N)[0][this.routeIndex][1][e],r=R(this,z,bt).call(this,t);return r&&/\%/.test(r)?Ht(r):r},mr=function(){const e={},t=Object.keys(h(this,N)[0][this.routeIndex][1]);for(const r of t){const s=R(this,z,bt).call(this,h(this,N)[0][this.routeIndex][1][r]);s!==void 0&&(e[r]=/\%/.test(s)?Ht(s):s)}return e},bt=function(e){return h(this,N)[1]?h(this,N)[1][e]:e},G=new WeakMap,Gt),ps="text/plain; charset=UTF-8",ht=(e,t)=>({"Content-Type":e,...t}),Le,Ne,q,ge,U,L,Me,ve,ye,se,De,He,J,ue,Jt,gs=(Jt=class{constructor(e,t){E(this,J);E(this,Le);E(this,Ne);y(this,"env",{});E(this,q);y(this,"finalized",!1);y(this,"error");E(this,ge);E(this,U);E(this,L);E(this,Me);E(this,ve);E(this,ye);E(this,se);E(this,De);E(this,He);y(this,"render",(...e)=>(h(this,ve)??x(this,ve,t=>this.html(t)),h(this,ve).call(this,...e)));y(this,"setLayout",e=>x(this,Me,e));y(this,"getLayout",()=>h(this,Me));y(this,"setRenderer",e=>{x(this,ve,e)});y(this,"header",(e,t,r)=>{this.finalized&&x(this,L,new Response(h(this,L).body,h(this,L)));const s=h(this,L)?h(this,L).headers:h(this,se)??x(this,se,new Headers);t===void 0?s.delete(e):r!=null&&r.append?s.append(e,t):s.set(e,t)});y(this,"status",e=>{x(this,ge,e)});y(this,"set",(e,t)=>{h(this,q)??x(this,q,new Map),h(this,q).set(e,t)});y(this,"get",e=>h(this,q)?h(this,q).get(e):void 0);y(this,"newResponse",(...e)=>R(this,J,ue).call(this,...e));y(this,"body",(e,t,r)=>R(this,J,ue).call(this,e,t,r));y(this,"text",(e,t,r)=>!h(this,se)&&!h(this,ge)&&!t&&!r&&!this.finalized?new Response(e):R(this,J,ue).call(this,e,t,ht(ps,r)));y(this,"json",(e,t,r)=>R(this,J,ue).call(this,JSON.stringify(e),t,ht("application/json",r)));y(this,"html",(e,t,r)=>{const s=n=>R(this,J,ue).call(this,n,t,ht("text/html; charset=UTF-8",r));return typeof e=="object"?sr(e,er.Stringify,!1,{}).then(s):s(e)});y(this,"redirect",(e,t)=>{const r=String(e);return this.header("Location",/[^\x00-\xFF]/.test(r)?encodeURI(r):r),this.newResponse(null,t??302)});y(this,"notFound",()=>(h(this,ye)??x(this,ye,()=>new Response),h(this,ye).call(this,this)));x(this,Le,e),t&&(x(this,U,t.executionCtx),this.env=t.env,x(this,ye,t.notFoundHandler),x(this,He,t.path),x(this,De,t.matchResult))}get req(){return h(this,Ne)??x(this,Ne,new vr(h(this,Le),h(this,He),h(this,De))),h(this,Ne)}get event(){if(h(this,U)&&"respondWith"in h(this,U))return h(this,U);throw Error("This context has no FetchEvent")}get executionCtx(){if(h(this,U))return h(this,U);throw Error("This context has no ExecutionContext")}get res(){return h(this,L)||x(this,L,new Response(null,{headers:h(this,se)??x(this,se,new Headers)}))}set res(e){if(h(this,L)&&e){e=new Response(e.body,e);for(const[t,r]of h(this,L).headers.entries())if(t!=="content-type")if(t==="set-cookie"){const s=h(this,L).headers.getSetCookie();e.headers.delete("set-cookie");for(const n of s)e.headers.append("set-cookie",n)}else e.headers.set(t,r)}x(this,L,e),this.finalized=!0}get var(){return h(this,q)?Object.fromEntries(h(this,q)):{}}},Le=new WeakMap,Ne=new WeakMap,q=new WeakMap,ge=new WeakMap,U=new WeakMap,L=new WeakMap,Me=new WeakMap,ve=new WeakMap,ye=new WeakMap,se=new WeakMap,De=new WeakMap,He=new WeakMap,J=new WeakSet,ue=function(e,t,r){const s=h(this,L)?new Headers(h(this,L).headers):h(this,se)??new Headers;if(typeof t=="object"&&"headers"in t){const i=t.headers instanceof Headers?t.headers:new Headers(t.headers);for(const[a,c]of i)a.toLowerCase()==="set-cookie"?s.append(a,c):s.set(a,c)}if(r)for(const[i,a]of Object.entries(r))if(typeof a=="string")s.set(i,a);else{s.delete(i);for(const c of a)s.append(i,c)}const n=typeof t=="number"?t:(t==null?void 0:t.status)??h(this,ge);return new Response(e,{status:n,headers:s})},Jt),O="ALL",vs="all",ys=["get","post","put","delete","options","patch"],br="Can not add a route since the matcher is already built.",xr=class extends Error{},ms="__COMPOSED_HANDLER",bs=e=>e.text("404 Not Found",404),It=(e,t)=>{if("getResponse"in e){const r=e.getResponse();return t.newResponse(r.body,r)}return console.error(e),t.text("Internal Server Error",500)},D,j,wr,H,te,Je,Xe,me,xs=(me=class{constructor(t={}){E(this,j);y(this,"get");y(this,"post");y(this,"put");y(this,"delete");y(this,"options");y(this,"patch");y(this,"all");y(this,"on");y(this,"use");y(this,"router");y(this,"getPath");y(this,"_basePath","/");E(this,D,"/");y(this,"routes",[]);E(this,H,bs);y(this,"errorHandler",It);y(this,"onError",t=>(this.errorHandler=t,this));y(this,"notFound",t=>(x(this,H,t),this));y(this,"fetch",(t,...r)=>R(this,j,Xe).call(this,t,r[1],r[0],t.method));y(this,"request",(t,r,s,n)=>t instanceof Request?this.fetch(r?new Request(t,r):t,s,n):(t=t.toString(),this.fetch(new Request(/^https?:\/\//.test(t)?t:`http://localhost${he("/",t)}`,r),s,n)));y(this,"fire",()=>{addEventListener("fetch",t=>{t.respondWith(R(this,j,Xe).call(this,t.request,t,void 0,t.request.method))})});[...ys,vs].forEach(i=>{this[i]=(a,...c)=>(typeof a=="string"?x(this,D,a):R(this,j,te).call(this,i,h(this,D),a),c.forEach(o=>{R(this,j,te).call(this,i,h(this,D),o)}),this)}),this.on=(i,a,...c)=>{for(const o of[a].flat()){x(this,D,o);for(const d of[i].flat())c.map(u=>{R(this,j,te).call(this,d.toUpperCase(),h(this,D),u)})}return this},this.use=(i,...a)=>(typeof i=="string"?x(this,D,i):(x(this,D,"*"),a.unshift(i)),a.forEach(c=>{R(this,j,te).call(this,O,h(this,D),c)}),this);const{strict:s,...n}=t;Object.assign(this,n),this.getPath=s??!0?t.getPath??ur:hs}route(t,r){const s=this.basePath(t);return r.routes.map(n=>{var a;let i;r.errorHandler===It?i=n.handler:(i=async(c,o)=>(await Dt([],r.errorHandler)(c,()=>n.handler(c,o))).res,i[ms]=n.handler),R(a=s,j,te).call(a,n.method,n.path,i)}),this}basePath(t){const r=R(this,j,wr).call(this);return r._basePath=he(this._basePath,t),r}mount(t,r,s){let n,i;s&&(typeof s=="function"?i=s:(i=s.optionHandler,s.replaceRequest===!1?n=o=>o:n=s.replaceRequest));const a=i?o=>{const d=i(o);return Array.isArray(d)?d:[d]}:o=>{let d;try{d=o.executionCtx}catch{}return[o.env,d]};n||(n=(()=>{const o=he(this._basePath,t),d=o==="/"?0:o.length;return u=>{const f=new URL(u.url);return f.pathname=f.pathname.slice(d)||"/",new Request(f,u)}})());const c=async(o,d)=>{const u=await r(n(o.req.raw),...a(o));if(u)return u;await d()};return R(this,j,te).call(this,O,he(t,"*"),c),this}},D=new WeakMap,j=new WeakSet,wr=function(){const t=new me({router:this.router,getPath:this.getPath});return t.errorHandler=this.errorHandler,x(t,H,h(this,H)),t.routes=this.routes,t},H=new WeakMap,te=function(t,r,s){t=t.toUpperCase(),r=he(this._basePath,r);const n={basePath:this._basePath,path:r,method:t,handler:s};this.router.add(t,r,[s,n]),this.routes.push(n)},Je=function(t,r){if(t instanceof Error)return this.errorHandler(t,r);throw t},Xe=function(t,r,s,n){if(n==="HEAD")return(async()=>new Response(null,await R(this,j,Xe).call(this,t,r,s,"GET")))();const i=this.getPath(t,{env:s}),a=this.router.match(n,i),c=new gs(t,{path:i,matchResult:a,env:s,executionCtx:r,notFoundHandler:h(this,H)});if(a[0].length===1){let d;try{d=a[0][0][0][0](c,async()=>{c.res=await h(this,H).call(this,c)})}catch(u){return R(this,j,Je).call(this,u,c)}return d instanceof Promise?d.then(u=>u||(c.finalized?c.res:h(this,H).call(this,c))).catch(u=>R(this,j,Je).call(this,u,c)):d??h(this,H).call(this,c)}const o=Dt(a[0],this.errorHandler,h(this,H));return(async()=>{try{const d=await o(c);if(!d.finalized)throw new Error("Context is not finalized. Did you forget to return a Response object or `await next()`?");return d.res}catch(d){return R(this,j,Je).call(this,d,c)}})()},me),Er=[];function ws(e,t){const r=this.buildAllMatchers(),s=((n,i)=>{const a=r[n]||r[O],c=a[2][i];if(c)return c;const o=i.match(a[0]);if(!o)return[[],Er];const d=o.indexOf("",1);return[a[1][d],o]});return this.match=s,s(e,t)}var rt="[^/]+",Ce=".*",Oe="(?:|/.*)",fe=Symbol(),Es=new Set(".\\+*[^]$()");function ks(e,t){return e.length===1?t.length===1?e<t?-1:1:-1:t.length===1||e===Ce||e===Oe?1:t===Ce||t===Oe?-1:e===rt?1:t===rt?-1:e.length===t.length?e<t?-1:1:t.length-e.length}var ne,ie,I,ce,Rs=(ce=class{constructor(){E(this,ne);E(this,ie);E(this,I,Object.create(null))}insert(t,r,s,n,i){if(t.length===0){if(h(this,ne)!==void 0)throw fe;if(i)return;x(this,ne,r);return}const[a,...c]=t,o=a==="*"?c.length===0?["","",Ce]:["","",rt]:a==="/*"?["","",Oe]:a.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);let d;if(o){const u=o[1];let f=o[2]||rt;if(u&&o[2]&&(f===".*"||(f=f.replace(/^\((?!\?:)(?=[^)]+\)$)/,"(?:"),/\((?!\?:)/.test(f))))throw fe;if(d=h(this,I)[f],!d){if(Object.keys(h(this,I)).some(p=>p!==Ce&&p!==Oe))throw fe;if(i)return;d=h(this,I)[f]=new ce,u!==""&&x(d,ie,n.varIndex++)}!i&&u!==""&&s.push([u,h(d,ie)])}else if(d=h(this,I)[a],!d){if(Object.keys(h(this,I)).some(u=>u.length>1&&u!==Ce&&u!==Oe))throw fe;if(i)return;d=h(this,I)[a]=new ce}d.insert(c,r,s,n,i)}buildRegExpStr(){const r=Object.keys(h(this,I)).sort(ks).map(s=>{const n=h(this,I)[s];return(typeof h(n,ie)=="number"?`(${s})@${h(n,ie)}`:Es.has(s)?`\\${s}`:s)+n.buildRegExpStr()});return typeof h(this,ne)=="number"&&r.unshift(`#${h(this,ne)}`),r.length===0?"":r.length===1?r[0]:"(?:"+r.join("|")+")"}},ne=new WeakMap,ie=new WeakMap,I=new WeakMap,ce),st,Ie,Xt,Ss=(Xt=class{constructor(){E(this,st,{varIndex:0});E(this,Ie,new Rs)}insert(e,t,r){const s=[],n=[];for(let a=0;;){let c=!1;if(e=e.replace(/\{[^}]+\}/g,o=>{const d=`@\\${a}`;return n[a]=[d,o],a++,c=!0,d}),!c)break}const i=e.match(/(?::[^\/]+)|(?:\/\*$)|./g)||[];for(let a=n.length-1;a>=0;a--){const[c]=n[a];for(let o=i.length-1;o>=0;o--)if(i[o].indexOf(c)!==-1){i[o]=i[o].replace(c,n[a][1]);break}}return h(this,Ie).insert(i,t,s,h(this,st),r),s}buildRegExp(){let e=h(this,Ie).buildRegExpStr();if(e==="")return[/^$/,[],[]];let t=0;const r=[],s=[];return e=e.replace(/#(\d+)|@(\d+)|\.\*\$/g,(n,i,a)=>i!==void 0?(r[++t]=Number(i),"$()"):(a!==void 0&&(s[Number(a)]=++t),"")),[new RegExp(`^${e}`),r,s]}},st=new WeakMap,Ie=new WeakMap,Xt),Ps=[/^$/,[],Object.create(null)],Ze=Object.create(null);function kr(e){return Ze[e]??(Ze[e]=new RegExp(e==="*"?"":`^${e.replace(/\/\*$|([.\\+*[^\]$()])/g,(t,r)=>r?`\\${r}`:"(?:|/.*)")}$`))}function As(){Ze=Object.create(null)}function Cs(e){var d;const t=new Ss,r=[];if(e.length===0)return Ps;const s=e.map(u=>[!/\*|\/:/.test(u[0]),...u]).sort(([u,f],[p,g])=>u?1:p?-1:f.length-g.length),n=Object.create(null);for(let u=0,f=-1,p=s.length;u<p;u++){const[g,m,b]=s[u];g?n[m]=[b.map(([w])=>[w,Object.create(null)]),Er]:f++;let v;try{v=t.insert(m,f,g)}catch(w){throw w===fe?new xr(m):w}g||(r[f]=b.map(([w,k])=>{const P=Object.create(null);for(k-=1;k>=0;k--){const[S,A]=v[k];P[S]=A}return[w,P]}))}const[i,a,c]=t.buildRegExp();for(let u=0,f=r.length;u<f;u++)for(let p=0,g=r[u].length;p<g;p++){const m=(d=r[u][p])==null?void 0:d[1];if(!m)continue;const b=Object.keys(m);for(let v=0,w=b.length;v<w;v++)m[b[v]]=c[m[b[v]]]}const o=[];for(const u in a)o[u]=r[a[u]];return[i,o,n]}function oe(e,t){if(e){for(const r of Object.keys(e).sort((s,n)=>n.length-s.length))if(kr(r).test(t))return[...e[r]]}}var X,Z,nt,Rr,Zt,Os=(Zt=class{constructor(){E(this,nt);y(this,"name","RegExpRouter");E(this,X);E(this,Z);y(this,"match",ws);x(this,X,{[O]:Object.create(null)}),x(this,Z,{[O]:Object.create(null)})}add(e,t,r){var c;const s=h(this,X),n=h(this,Z);if(!s||!n)throw new Error(br);s[e]||[s,n].forEach(o=>{o[e]=Object.create(null),Object.keys(o[O]).forEach(d=>{o[e][d]=[...o[O][d]]})}),t==="/*"&&(t="*");const i=(t.match(/\/:/g)||[]).length;if(/\*$/.test(t)){const o=kr(t);e===O?Object.keys(s).forEach(d=>{var u;(u=s[d])[t]||(u[t]=oe(s[d],t)||oe(s[O],t)||[])}):(c=s[e])[t]||(c[t]=oe(s[e],t)||oe(s[O],t)||[]),Object.keys(s).forEach(d=>{(e===O||e===d)&&Object.keys(s[d]).forEach(u=>{o.test(u)&&s[d][u].push([r,i])})}),Object.keys(n).forEach(d=>{(e===O||e===d)&&Object.keys(n[d]).forEach(u=>o.test(u)&&n[d][u].push([r,i]))});return}const a=fr(t)||[t];for(let o=0,d=a.length;o<d;o++){const u=a[o];Object.keys(n).forEach(f=>{var p;(e===O||e===f)&&((p=n[f])[u]||(p[u]=[...oe(s[f],u)||oe(s[O],u)||[]]),n[f][u].push([r,i-d+o+1]))})}}buildAllMatchers(){const e=Object.create(null);return Object.keys(h(this,Z)).concat(Object.keys(h(this,X))).forEach(t=>{e[t]||(e[t]=R(this,nt,Rr).call(this,t))}),x(this,X,x(this,Z,void 0)),As(),e}},X=new WeakMap,Z=new WeakMap,nt=new WeakSet,Rr=function(e){const t=[];let r=e===O;return[h(this,X),h(this,Z)].forEach(s=>{const n=s[e]?Object.keys(s[e]).map(i=>[i,s[e][i]]):[];n.length!==0?(r||(r=!0),t.push(...n)):e!==O&&t.push(...Object.keys(s[O]).map(i=>[i,s[O][i]]))}),r?Cs(t):null},Zt),Y,W,Yt,js=(Yt=class{constructor(e){y(this,"name","SmartRouter");E(this,Y,[]);E(this,W,[]);x(this,Y,e.routers)}add(e,t,r){if(!h(this,W))throw new Error(br);h(this,W).push([e,t,r])}match(e,t){if(!h(this,W))throw new Error("Fatal error");const r=h(this,Y),s=h(this,W),n=r.length;let i=0,a;for(;i<n;i++){const c=r[i];try{for(let o=0,d=s.length;o<d;o++)c.add(...s[o]);a=c.match(e,t)}catch(o){if(o instanceof xr)continue;throw o}this.match=c.match.bind(c),x(this,Y,[c]),x(this,W,void 0);break}if(i===n)throw new Error("Fatal error");return this.name=`SmartRouter + ${this.activeRouter.name}`,a}get activeRouter(){if(h(this,W)||h(this,Y).length!==1)throw new Error("No active router has been determined yet.");return h(this,Y)[0]}},Y=new WeakMap,W=new WeakMap,Yt),Pe=Object.create(null),Q,$,le,be,T,K,re,xe,Ts=(xe=class{constructor(t,r,s){E(this,K);E(this,Q);E(this,$);E(this,le);E(this,be,0);E(this,T,Pe);if(x(this,$,s||Object.create(null)),x(this,Q,[]),t&&r){const n=Object.create(null);n[t]={handler:r,possibleKeys:[],score:0},x(this,Q,[n])}x(this,le,[])}insert(t,r,s){x(this,be,++jt(this,be)._);let n=this;const i=ls(r),a=[];for(let c=0,o=i.length;c<o;c++){const d=i[c],u=i[c+1],f=os(d,u),p=Array.isArray(f)?f[0]:d;if(p in h(n,$)){n=h(n,$)[p],f&&a.push(f[1]);continue}h(n,$)[p]=new xe,f&&(h(n,le).push(f),a.push(f[1])),n=h(n,$)[p]}return h(n,Q).push({[t]:{handler:s,possibleKeys:a.filter((c,o,d)=>d.indexOf(c)===o),score:h(this,be)}}),n}search(t,r){var o;const s=[];x(this,T,Pe);let i=[this];const a=hr(r),c=[];for(let d=0,u=a.length;d<u;d++){const f=a[d],p=d===u-1,g=[];for(let m=0,b=i.length;m<b;m++){const v=i[m],w=h(v,$)[f];w&&(x(w,T,h(v,T)),p?(h(w,$)["*"]&&s.push(...R(this,K,re).call(this,h(w,$)["*"],t,h(v,T))),s.push(...R(this,K,re).call(this,w,t,h(v,T)))):g.push(w));for(let k=0,P=h(v,le).length;k<P;k++){const S=h(v,le)[k],A=h(v,T)===Pe?{}:{...h(v,T)};if(S==="*"){const V=h(v,$)["*"];V&&(s.push(...R(this,K,re).call(this,V,t,h(v,T))),x(V,T,A),g.push(V));continue}const[Re,Ue,Se]=S;if(!f&&!(Se instanceof RegExp))continue;const _=h(v,$)[Re],Mr=a.slice(d).join("/");if(Se instanceof RegExp){const V=Se.exec(Mr);if(V){if(A[Ue]=V[0],s.push(...R(this,K,re).call(this,_,t,h(v,T),A)),Object.keys(h(_,$)).length){x(_,T,A);const lt=((o=V[0].match(/\//))==null?void 0:o.length)??0;(c[lt]||(c[lt]=[])).push(_)}continue}}(Se===!0||Se.test(f))&&(A[Ue]=f,p?(s.push(...R(this,K,re).call(this,_,t,A,h(v,T))),h(_,$)["*"]&&s.push(...R(this,K,re).call(this,h(_,$)["*"],t,A,h(v,T)))):(x(_,T,A),g.push(_)))}}i=g.concat(c.shift()??[])}return s.length>1&&s.sort((d,u)=>d.score-u.score),[s.map(({handler:d,params:u})=>[d,u])]}},Q=new WeakMap,$=new WeakMap,le=new WeakMap,be=new WeakMap,T=new WeakMap,K=new WeakSet,re=function(t,r,s,n){const i=[];for(let a=0,c=h(t,Q).length;a<c;a++){const o=h(t,Q)[a],d=o[r]||o[O],u={};if(d!==void 0&&(d.params=Object.create(null),i.push(d),s!==Pe||n&&n!==Pe))for(let f=0,p=d.possibleKeys.length;f<p;f++){const g=d.possibleKeys[f],m=u[d.score];d.params[g]=n!=null&&n[g]&&!m?n[g]:s[g]??(n==null?void 0:n[g]),u[d.score]=!0}}return i},xe),ae,Qt,$s=(Qt=class{constructor(){y(this,"name","TrieRouter");E(this,ae);x(this,ae,new Ts)}add(e,t,r){const s=fr(t);if(s){for(let n=0,i=s.length;n<i;n++)h(this,ae).insert(e,s[n],r);return}h(this,ae).insert(e,t,r)}match(e,t){return h(this,ae).search(e,t)}},ae=new WeakMap,Qt),Sr=class extends xs{constructor(e={}){super(e),this.router=e.router??new js({routers:[new Os,new $s]})}},Te="_hp",Ls={Change:"Input",DoubleClick:"DblClick"},Ns={svg:"2000/svg",math:"1998/Math/MathML"},$e=[],xt=new WeakMap,Ee=void 0,Ms=()=>Ee,B=e=>"t"in e,ut={onClick:["click",!1]},Ft=e=>{if(!e.startsWith("on"))return;if(ut[e])return ut[e];const t=e.match(/^on([A-Z][a-zA-Z]+?(?:PointerCapture)?)(Capture)?$/);if(t){const[,r,s]=t;return ut[e]=[(Ls[r]||r).toLowerCase(),!!s]}},_t=(e,t)=>Ee&&e instanceof SVGElement&&/[A-Z]/.test(t)&&(t in e.style||t.match(/^(?:o|pai|str|u|ve)/))?t.replace(/([A-Z])/g,"-$1").toLowerCase():t,Ds=(e,t,r)=>{var s;t||(t={});for(let n in t){const i=t[n];if(n!=="children"&&(!r||r[n]!==i)){n=tt(n);const a=Ft(n);if(a){if((r==null?void 0:r[n])!==i&&(r&&e.removeEventListener(a[0],r[n],a[1]),i!=null)){if(typeof i!="function")throw new Error(`Event handler for "${n}" is not a function`);e.addEventListener(a[0],i,a[1])}}else if(n==="dangerouslySetInnerHTML"&&i)e.innerHTML=i.__html;else if(n==="ref"){let c;typeof i=="function"?c=i(e)||(()=>i(null)):i&&"current"in i&&(i.current=e,c=()=>i.current=null),xt.set(e,c)}else if(n==="style"){const c=e.style;typeof i=="string"?c.cssText=i:(c.cssText="",i!=null&&or(i,c.setProperty.bind(c)))}else{if(n==="value"){const o=e.nodeName;if(o==="INPUT"||o==="TEXTAREA"||o==="SELECT"){if(e.value=i==null||i===!1?null:i,o==="TEXTAREA"){e.textContent=i;continue}else if(o==="SELECT"){e.selectedIndex===-1&&(e.selectedIndex=0);continue}}}else(n==="checked"&&e.nodeName==="INPUT"||n==="selected"&&e.nodeName==="OPTION")&&(e[n]=i);const c=_t(e,n);i==null||i===!1?e.removeAttribute(c):i===!0?e.setAttribute(c,""):typeof i=="string"||typeof i=="number"?e.setAttribute(c,i):e.setAttribute(c,i.toString())}}}if(r)for(let n in r){const i=r[n];if(n!=="children"&&!(n in t)){n=tt(n);const a=Ft(n);a?e.removeEventListener(a[0],i,a[1]):n==="ref"?(s=xt.get(e))==null||s():e.removeAttribute(_t(e,n))}}},Hs=(e,t)=>{t[C][0]=0,$e.push([e,t]);const r=t.tag[Et]||t.tag,s=r.defaultProps?{...r.defaultProps,...t.props}:t.props;try{return[r.call(null,s)]}finally{$e.pop()}},Pr=(e,t,r,s,n)=>{var i,a;(i=e.vR)!=null&&i.length&&(s.push(...e.vR),delete e.vR),typeof e.tag=="function"&&((a=e[C][1][jr])==null||a.forEach(c=>n.push(c))),e.vC.forEach(c=>{var o;if(B(c))r.push(c);else if(typeof c.tag=="function"||c.tag===""){c.c=t;const d=r.length;if(Pr(c,t,r,s,n),c.s){for(let u=d;u<r.length;u++)r[u].s=!0;c.s=!1}}else r.push(c),(o=c.vR)!=null&&o.length&&(s.push(...c.vR),delete c.vR)})},Is=e=>{var t;for(;e&&(e.tag===Te||!e.e);)e=e.tag===Te||!((t=e.vC)!=null&&t[0])?e.nN:e.vC[0];return e==null?void 0:e.e},Ar=e=>{var t,r,s,n,i,a;B(e)||((r=(t=e[C])==null?void 0:t[1][jr])==null||r.forEach(c=>{var o;return(o=c[2])==null?void 0:o.call(c)}),(s=xt.get(e.e))==null||s(),e.p===2&&((n=e.vC)==null||n.forEach(c=>c.p=2)),(i=e.vC)==null||i.forEach(Ar)),e.p||((a=e.e)==null||a.remove(),delete e.e),typeof e.tag=="function"&&(Ae.delete(e),Ye.delete(e),delete e[C][3],e.a=!0)},Cr=(e,t,r)=>{e.c=t,Or(e,t,r)},Bt=(e,t)=>{if(t){for(let r=0,s=e.length;r<s;r++)if(e[r]===t)return r}},qt=Symbol(),Or=(e,t,r)=>{var d;const s=[],n=[],i=[];Pr(e,t,s,n,i),n.forEach(Ar);const a=r?void 0:t.childNodes;let c,o=null;if(r)c=-1;else if(!a.length)c=0;else{const u=Bt(a,Is(e.nN));u!==void 0?(o=a[u],c=u):c=Bt(a,(d=s.find(f=>f.tag!==Te&&f.e))==null?void 0:d.e)??-1,c===-1&&(r=!0)}for(let u=0,f=s.length;u<f;u++,c++){const p=s[u];let g;if(p.s&&p.e)g=p.e,p.s=!1;else{const m=r||!p.e;B(p)?(p.e&&p.d&&(p.e.textContent=p.t),p.d=!1,g=p.e||(p.e=document.createTextNode(p.t))):(g=p.e||(p.e=p.n?document.createElementNS(p.n,p.tag):document.createElement(p.tag)),Ds(g,p.props,p.pP),Or(p,g,m))}p.tag===Te?c--:r?g.parentNode||t.appendChild(g):a[c]!==g&&a[c-1]!==g&&(a[c+1]===g?t.appendChild(a[c]):t.insertBefore(g,o||a[c]||null))}if(e.pP&&(e.pP=void 0),i.length){const u=[],f=[];i.forEach(([,p,,g,m])=>{p&&u.push(p),g&&f.push(g),m==null||m()}),u.forEach(p=>p()),f.length&&requestAnimationFrame(()=>{f.forEach(p=>p())})}},Fs=(e,t)=>!!(e&&e.length===t.length&&e.every((r,s)=>r[1]===t[s][1])),Ye=new WeakMap,wt=(e,t,r)=>{var i,a,c,o,d,u;const s=!r&&t.pC;r&&(t.pC||(t.pC=t.vC));let n;try{r||(r=typeof t.tag=="function"?Hs(e,t):Fe(t.props.children)),((i=r[0])==null?void 0:i.tag)===""&&r[0][yt]&&(n=r[0][yt],e[5].push([e,n,t]));const f=s?[...t.pC]:t.vC?[...t.vC]:void 0,p=[];let g;for(let m=0;m<r.length;m++){Array.isArray(r[m])&&r.splice(m,1,...r[m].flat());let b=_s(r[m]);if(b){typeof b.tag=="function"&&!b.tag[nr]&&(we.length>0&&(b[C][2]=we.map(w=>[w,w.values.at(-1)])),(a=e[5])!=null&&a.length&&(b[C][3]=e[5].at(-1)));let v;if(f&&f.length){const w=f.findIndex(B(b)?k=>B(k):b.key!==void 0?k=>k.key===b.key&&k.tag===b.tag:k=>k.tag===b.tag);w!==-1&&(v=f[w],f.splice(w,1))}if(v)if(B(b))v.t!==b.t&&(v.t=b.t,v.d=!0),b=v;else{const w=v.pP=v.props;if(v.props=b.props,v.f||(v.f=b.f||t.f),typeof b.tag=="function"){const k=v[C][2];v[C][2]=b[C][2]||[],v[C][3]=b[C][3],!v.f&&((v.o||v)===b.o||(o=(c=v.tag)[_r])!=null&&o.call(c,w,v.props))&&Fs(k,v[C][2])&&(v.s=!0)}b=v}else if(!B(b)&&Ee){const w=ke(Ee);w&&(b.n=w)}if(!B(b)&&!b.s&&(wt(e,b),delete b.f),p.push(b),g&&!g.s&&!b.s)for(let w=g;w&&!B(w);w=(d=w.vC)==null?void 0:d.at(-1))w.nN=b;g=b}}t.vR=s?[...t.vC,...f||[]]:f||[],t.vC=p,s&&delete t.pC}catch(f){if(t.f=!0,f===qt){if(n)return;throw f}const[p,g,m]=((u=t[C])==null?void 0:u[3])||[];if(g){const b=()=>Qe([0,!1,e[2]],m),v=Ye.get(m)||[];v.push(b),Ye.set(m,v);const w=g(f,()=>{const k=Ye.get(m);if(k){const P=k.indexOf(b);if(P!==-1)return k.splice(P,1),b()}});if(w){if(e[0]===1)e[1]=!0;else if(wt(e,m,[w]),(g.length===1||e!==p)&&m.c){Cr(m,m.c,!1);return}throw qt}}throw f}finally{n&&e[5].pop()}},_s=e=>{if(!(e==null||typeof e=="boolean")){if(typeof e=="string"||typeof e=="number")return{t:e.toString(),d:!0};if("vR"in e&&(e={tag:e.tag,props:e.props,key:e.key,f:e.f,type:e.tag,ref:e.props.ref,o:e.o||e}),typeof e.tag=="function")e[C]=[0,[]];else{const t=Ns[e.tag];t&&(Ee||(Ee=lr("")),e.props.children=[{tag:Ee,props:{value:e.n=`http://www.w3.org/${t}`,children:e.props.children}}])}return e}},Ut=(e,t)=>{var r,s;(r=t[C][2])==null||r.forEach(([n,i])=>{n.values.push(i)});try{wt(e,t,void 0)}catch{return}if(t.a){delete t.a;return}(s=t[C][2])==null||s.forEach(([n])=>{n.values.pop()}),(e[0]!==1||!e[1])&&Cr(t,t.c,!1)},Ae=new WeakMap,Wt=[],Qe=async(e,t)=>{e[5]||(e[5]=[]);const r=Ae.get(t);r&&r[0](void 0);let s;const n=new Promise(i=>s=i);if(Ae.set(t,[s,()=>{e[2]?e[2](e,t,i=>{Ut(i,t)}).then(()=>s(t)):(Ut(e,t),s(t))}]),Wt.length)Wt.at(-1).add(t);else{await Promise.resolve();const i=Ae.get(t);i&&(Ae.delete(t),i[1]())}return n},Bs=(e,t,r)=>({tag:Te,props:{children:e},key:r,e:t,p:1}),ft=0,jr=1,pt=2,gt=3,vt=new WeakMap,Tr=(e,t)=>!e||!t||e.length!==t.length||t.some((r,s)=>r!==e[s]),qs=void 0,Kt=[],Us=e=>{var a;const t=()=>typeof e=="function"?e():e,r=$e.at(-1);if(!r)return[t(),()=>{}];const[,s]=r,n=(a=s[C][1])[ft]||(a[ft]=[]),i=s[C][0]++;return n[i]||(n[i]=[t(),c=>{const o=qs,d=n[i];if(typeof c=="function"&&(c=c(d[0])),!Object.is(c,d[0]))if(d[0]=c,Kt.length){const[u,f]=Kt.at(-1);Promise.all([u===3?s:Qe([u,!1,o],s),f]).then(([p])=>{if(!p||!(u===2||u===3))return;const g=p.vC;requestAnimationFrame(()=>{setTimeout(()=>{g===p.vC&&Qe([u===3?1:0,!1,o],p)})})})}else Qe([0,!1,o],s)}])},At=(e,t)=>{var c;const r=$e.at(-1);if(!r)return e;const[,s]=r,n=(c=s[C][1])[pt]||(c[pt]=[]),i=s[C][0]++,a=n[i];return Tr(a==null?void 0:a[1],t)?n[i]=[e,t]:e=n[i][0],e},Ws=e=>{const t=vt.get(e);if(t){if(t.length===2)throw t[1];return t[0]}throw e.then(r=>vt.set(e,[r]),r=>vt.set(e,[void 0,r])),e},Ks=(e,t)=>{var c;const r=$e.at(-1);if(!r)return e();const[,s]=r,n=(c=s[C][1])[gt]||(c[gt]=[]),i=s[C][0]++,a=n[i];return Tr(a==null?void 0:a[1],t)&&(n[i]=[e(),t]),n[i][0]},zs=lr({pending:!1,data:null,method:null,action:null}),zt=new Set,Vs=e=>{zt.add(e),e.finally(()=>zt.delete(e))},Ct=(e,t)=>Ks(()=>r=>{let s;e&&(typeof e=="function"?s=e(r)||(()=>{e(null)}):e&&"current"in e&&(e.current=r,s=()=>{e.current=null}));const n=t(r);return()=>{n==null||n(),s==null||s()}},[e]),de=Object.create(null),Ke=Object.create(null),qe=(e,t,r,s,n)=>{if(t!=null&&t.itemProp)return{tag:e,props:t,type:e,ref:t.ref};const i=document.head;let{onLoad:a,onError:c,precedence:o,blocking:d,...u}=t,f=null,p=!1;const g=ze[e];let m;if(g.length>0){const k=i.querySelectorAll(e);e:for(const P of k)for(const S of ze[e])if(P.getAttribute(S)===t[S]){f=P;break e}if(!f){const P=g.reduce((S,A)=>t[A]===void 0?S:`${S}-${A}-${t[A]}`,e);p=!Ke[P],f=Ke[P]||(Ke[P]=(()=>{const S=document.createElement(e);for(const A of g)t[A]!==void 0&&S.setAttribute(A,t[A]),t.rel&&S.setAttribute("rel",t.rel);return S})())}}else m=i.querySelectorAll(e);o=s?o??"":void 0,s&&(u[Ve]=o);const b=At(k=>{if(g.length>0){let P=!1;for(const S of i.querySelectorAll(e)){if(P&&S.getAttribute(Ve)!==o){i.insertBefore(k,S);return}S.getAttribute(Ve)===o&&(P=!0)}i.appendChild(k)}else if(m){let P=!1;for(const S of m)if(S===k){P=!0;break}P||i.insertBefore(k,i.contains(m[0])?m[0]:i.querySelector(e)),m=void 0}},[o]),v=Ct(t.ref,k=>{var A;const P=g[0];if(r===2&&(k.innerHTML=""),(p||m)&&b(k),!c&&!a)return;let S=de[A=k.getAttribute(P)]||(de[A]=new Promise((Re,Ue)=>{k.addEventListener("load",Re),k.addEventListener("error",Ue)}));a&&(S=S.then(a)),c&&(S=S.catch(c)),S.catch(()=>{})});if(n&&d==="render"){const k=ze[e][0];if(t[k]){const P=t[k],S=de[P]||(de[P]=new Promise((A,Re)=>{b(f),f.addEventListener("load",A),f.addEventListener("error",Re)}));Ws(S)}}const w={tag:e,type:e,props:{...u,ref:v},ref:v};return w.p=r,f&&(w.e=f),Bs(w,i)},Gs=e=>{const t=Ms(),r=t&&ke(t);return r!=null&&r.endsWith("svg")?{tag:"title",props:e,type:"title",ref:e.ref}:qe("title",e,void 0,!1,!1)},Js=e=>!e||["src","async"].some(t=>!e[t])?{tag:"script",props:e,type:"script",ref:e.ref}:qe("script",e,1,!1,!0),Xs=e=>!e||!["href","precedence"].every(t=>t in e)?{tag:"style",props:e,type:"style",ref:e.ref}:(e["data-href"]=e.href,delete e.href,qe("style",e,2,!0,!0)),Zs=e=>!e||["onLoad","onError"].some(t=>t in e)||e.rel==="stylesheet"&&(!("precedence"in e)||"disabled"in e)?{tag:"link",props:e,type:"link",ref:e.ref}:qe("link",e,1,"precedence"in e,!0),Ys=e=>qe("meta",e,void 0,!1,!1),$r=Symbol(),Qs=e=>{const{action:t,...r}=e;typeof t!="function"&&(r.action=t);const[s,n]=Us([null,!1]),i=At(async d=>{const u=d.isTrusted?t:d.detail[$r];if(typeof u!="function")return;d.preventDefault();const f=new FormData(d.target);n([f,!0]);const p=u(f);p instanceof Promise&&(Vs(p),await p),n([null,!0])},[]),a=Ct(e.ref,d=>(d.addEventListener("submit",i),()=>{d.removeEventListener("submit",i)})),[c,o]=s;return s[1]=!1,{tag:zs,props:{value:{pending:c!==null,data:c,method:c?"post":null,action:c?t:null},children:{tag:"form",props:{...r,ref:a},type:"form",ref:a}},f:o}},Lr=(e,{formAction:t,...r})=>{if(typeof t=="function"){const s=At(n=>{n.preventDefault(),n.currentTarget.form.dispatchEvent(new CustomEvent("submit",{detail:{[$r]:t}}))},[]);r.ref=Ct(r.ref,n=>(n.addEventListener("click",s),()=>{n.removeEventListener("click",s)}))}return{tag:e,props:r,type:e,ref:r.ref}},en=e=>Lr("input",e),tn=e=>Lr("button",e);Object.assign(mt,{title:Gs,script:Js,style:Xs,link:Zs,meta:Ys,form:Qs,input:en,button:tn});kt(null);new TextEncoder;var rn=kt(null),sn=(e,t,r,s)=>(n,i)=>{const a="<!DOCTYPE html>",c=r?Nt(d=>r(d,e),{Layout:t,...i},n):n,o=Fr`${M(a)}${Nt(rn.Provider,{value:e},c)}`;return e.html(o)},nn=(e,t)=>function(s,n){const i=s.getLayout()??Qr;return e&&s.setLayout(a=>e({...a,Layout:i},s)),s.setRenderer(sn(s,i,e)),n()};const ln=nn(({children:e})=>l("html",{lang:"ja",children:[l("head",{children:[l("meta",{charset:"UTF-8"}),l("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),l("title",{children:"航空券予約システム - Flight Booking"}),l("script",{src:"https://cdn.tailwindcss.com"}),l("link",{href:"https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css",rel:"stylesheet"}),l("link",{href:"/static/style.css",rel:"stylesheet"})]}),l("body",{children:e})]})),it=new Sr;it.use(ln);it.get("/",e=>e.render(l("div",{class:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[l("header",{class:"bg-blue-600 text-white shadow-lg",children:l("div",{class:"container mx-auto px-4 py-4",children:l("div",{class:"flex items-center justify-between",children:[l("div",{class:"flex items-center space-x-2",children:[l("i",{class:"fas fa-plane text-3xl"}),l("h1",{class:"text-2xl font-bold",children:"FlightSearch"})]}),l("nav",{class:"hidden md:flex space-x-6",children:[l("a",{href:"/",class:"hover:text-blue-200 transition",children:"ホーム"}),l("a",{href:"#",class:"hover:text-blue-200 transition",children:"予約確認"}),l("a",{href:"#",class:"hover:text-blue-200 transition",children:"お問い合わせ"})]})]})})}),l("main",{class:"container mx-auto px-4 py-8",children:[l("div",{class:"text-center mb-8",children:[l("h2",{class:"text-4xl font-bold text-gray-800 mb-2",children:"お得な航空券を検索"}),l("p",{class:"text-gray-600",children:"世界中のフライトを比較して、最安値を見つけましょう"})]}),l("div",{class:"bg-white rounded-2xl shadow-2xl p-6 md:p-8 mb-8",children:[l("div",{class:"flex flex-wrap gap-4 mb-6",children:[l("label",{class:"flex items-center space-x-2 cursor-pointer",children:[l("input",{type:"radio",name:"tripType",value:"roundtrip",checked:!0,class:"w-4 h-4 text-blue-600"}),l("span",{class:"text-gray-700 font-medium",children:"往復"})]}),l("label",{class:"flex items-center space-x-2 cursor-pointer",children:[l("input",{type:"radio",name:"tripType",value:"oneway",class:"w-4 h-4 text-blue-600"}),l("span",{class:"text-gray-700 font-medium",children:"片道"})]}),l("label",{class:"flex items-center space-x-2 cursor-pointer",children:[l("input",{type:"radio",name:"tripType",value:"multicity",class:"w-4 h-4 text-blue-600"}),l("span",{class:"text-gray-700 font-medium",children:"複数都市"})]})]}),l("div",{class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[l("div",{class:"relative",children:[l("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"出発地"}),l("div",{class:"relative",children:[l("i",{class:"fas fa-plane-departure absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),l("input",{type:"text",id:"fromLocation",placeholder:"東京 (TYO)",class:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),l("div",{class:"relative",children:[l("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"目的地"}),l("div",{class:"relative",children:[l("i",{class:"fas fa-plane-arrival absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),l("input",{type:"text",id:"toLocation",placeholder:"ニューヨーク (JFK)",class:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),l("div",{class:"relative",children:[l("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"出発日"}),l("div",{class:"relative",children:[l("i",{class:"fas fa-calendar-alt absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),l("input",{type:"date",id:"departureDate",class:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),l("div",{class:"relative",id:"returnDateField",children:[l("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"帰国日"}),l("div",{class:"relative",children:[l("i",{class:"fas fa-calendar-alt absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),l("input",{type:"date",id:"returnDate",class:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),l("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[l("div",{class:"relative",children:[l("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"乗客"}),l("button",{type:"button",id:"passengerButton",class:"w-full px-4 py-3 border border-gray-300 rounded-lg text-left flex items-center justify-between hover:border-blue-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[l("span",{class:"flex items-center",children:[l("i",{class:"fas fa-user mr-2 text-gray-400"}),l("span",{id:"passengerDisplay",children:"1 名, エコノミー"})]}),l("i",{class:"fas fa-chevron-down text-gray-400"})]}),l("div",{id:"passengerDropdown",class:"hidden absolute z-10 mt-2 w-full md:w-96 bg-white border border-gray-200 rounded-lg shadow-xl p-4",children:l("div",{class:"space-y-4",children:[l("div",{class:"flex items-center justify-between",children:[l("div",{children:[l("div",{class:"font-medium text-gray-700",children:"大人"}),l("div",{class:"text-sm text-gray-500",children:"12歳以上"})]}),l("div",{class:"flex items-center space-x-3",children:[l("button",{type:"button",class:"w-8 h-8 rounded-full border border-gray-300 hover:bg-gray-100",onclick:"updatePassenger('adults', -1)",children:"-"}),l("span",{id:"adultsCount",class:"w-8 text-center font-medium",children:"1"}),l("button",{type:"button",class:"w-8 h-8 rounded-full border border-gray-300 hover:bg-gray-100",onclick:"updatePassenger('adults', 1)",children:"+"})]})]}),l("div",{class:"flex items-center justify-between",children:[l("div",{children:[l("div",{class:"font-medium text-gray-700",children:"子供"}),l("div",{class:"text-sm text-gray-500",children:"2-11歳"})]}),l("div",{class:"flex items-center space-x-3",children:[l("button",{type:"button",class:"w-8 h-8 rounded-full border border-gray-300 hover:bg-gray-100",onclick:"updatePassenger('children', -1)",children:"-"}),l("span",{id:"childrenCount",class:"w-8 text-center font-medium",children:"0"}),l("button",{type:"button",class:"w-8 h-8 rounded-full border border-gray-300 hover:bg-gray-100",onclick:"updatePassenger('children', 1)",children:"+"})]})]}),l("div",{class:"flex items-center justify-between",children:[l("div",{children:[l("div",{class:"font-medium text-gray-700",children:"幼児"}),l("div",{class:"text-sm text-gray-500",children:"2歳未満"})]}),l("div",{class:"flex items-center space-x-3",children:[l("button",{type:"button",class:"w-8 h-8 rounded-full border border-gray-300 hover:bg-gray-100",onclick:"updatePassenger('infants', -1)",children:"-"}),l("span",{id:"infantsCount",class:"w-8 text-center font-medium",children:"0"}),l("button",{type:"button",class:"w-8 h-8 rounded-full border border-gray-300 hover:bg-gray-100",onclick:"updatePassenger('infants', 1)",children:"+"})]})]}),l("hr",{class:"my-4"}),l("div",{children:[l("label",{class:"block text-sm font-medium text-gray-700 mb-2",children:"座席クラス"}),l("select",{id:"cabinClass",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[l("option",{value:"economy",children:"エコノミー"}),l("option",{value:"premium_economy",children:"プレミアムエコノミー"}),l("option",{value:"business",children:"ビジネス"}),l("option",{value:"first",children:"ファースト"})]})]}),l("button",{type:"button",class:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700",onclick:"closePassengerDropdown()",children:"完了"})]})})]}),l("div",{class:"flex items-end",children:l("label",{class:"flex items-center space-x-2 cursor-pointer pb-3",children:[l("input",{type:"checkbox",id:"directFlights",class:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),l("span",{class:"text-gray-700",children:"直行便のみ"})]})}),l("div",{children:[l("label",{class:"block text-sm font-medium text-gray-700 mb-2 opacity-0",children:"検索"}),l("button",{type:"button",onclick:"searchFlights()",class:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 px-6 rounded-lg font-semibold hover:from-blue-700 hover:to-indigo-700 transition shadow-lg hover:shadow-xl",children:[l("i",{class:"fas fa-search mr-2"}),"フライトを検索"]})]})]})]}),l("div",{id:"searchResults",class:"hidden",children:[l("div",{class:"bg-white rounded-lg shadow-md p-6 mb-6",children:l("div",{class:"flex flex-col md:flex-row justify-between items-start md:items-center space-y-4 md:space-y-0",children:[l("div",{children:[l("h3",{class:"text-2xl font-bold text-gray-800 mb-2",children:"検索結果"}),l("p",{class:"text-gray-600",id:"routeInfo",children:"東京 (TYO) → ニューヨーク (JFK)"})]}),l("div",{class:"flex items-center space-x-4",children:l("select",{id:"sortBy",class:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[l("option",{value:"best",children:"おすすめ順"}),l("option",{value:"price",children:"最安値順"}),l("option",{value:"duration",children:"最短時間順"}),l("option",{value:"departure",children:"出発時間順"})]})})]})}),l("div",{class:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[l("div",{class:"lg:col-span-1",children:l("div",{class:"bg-white rounded-lg shadow-md p-6 sticky top-4",children:[l("h4",{class:"text-lg font-bold text-gray-800 mb-4",children:"フィルター"}),l("div",{class:"mb-6",children:[l("h5",{class:"font-semibold text-gray-700 mb-3",children:"価格帯"}),l("div",{class:"space-y-2",children:[l("input",{type:"range",min:"0",max:"500000",step:"10000",class:"w-full",id:"priceRange"}),l("div",{class:"flex justify-between text-sm text-gray-600",children:[l("span",{children:"¥0"}),l("span",{id:"maxPrice",children:"¥500,000+"})]})]})]}),l("div",{class:"mb-6",children:[l("h5",{class:"font-semibold text-gray-700 mb-3",children:"経由回数"}),l("div",{class:"space-y-2",children:[l("label",{class:"flex items-center space-x-2",children:[l("input",{type:"checkbox",class:"w-4 h-4 text-blue-600 rounded",checked:!0}),l("span",{class:"text-gray-700",children:"直行便"})]}),l("label",{class:"flex items-center space-x-2",children:[l("input",{type:"checkbox",class:"w-4 h-4 text-blue-600 rounded",checked:!0}),l("span",{class:"text-gray-700",children:"1回経由"})]}),l("label",{class:"flex items-center space-x-2",children:[l("input",{type:"checkbox",class:"w-4 h-4 text-blue-600 rounded",checked:!0}),l("span",{class:"text-gray-700",children:"2回以上経由"})]})]})]}),l("div",{class:"mb-6",children:[l("h5",{class:"font-semibold text-gray-700 mb-3",children:"出発時間帯"}),l("div",{class:"grid grid-cols-2 gap-2",children:[l("button",{type:"button",class:"px-3 py-2 border border-gray-300 rounded-lg text-sm hover:bg-blue-50 hover:border-blue-500",children:[l("i",{class:"fas fa-sun text-yellow-500"})," 朝"]}),l("button",{type:"button",class:"px-3 py-2 border border-gray-300 rounded-lg text-sm hover:bg-blue-50 hover:border-blue-500",children:[l("i",{class:"fas fa-cloud-sun text-orange-500"})," 昼"]}),l("button",{type:"button",class:"px-3 py-2 border border-gray-300 rounded-lg text-sm hover:bg-blue-50 hover:border-blue-500",children:[l("i",{class:"fas fa-cloud-moon text-indigo-500"})," 夕"]}),l("button",{type:"button",class:"px-3 py-2 border border-gray-300 rounded-lg text-sm hover:bg-blue-50 hover:border-blue-500",children:[l("i",{class:"fas fa-moon text-blue-900"})," 夜"]})]})]}),l("div",{class:"mb-6",children:[l("h5",{class:"font-semibold text-gray-700 mb-3",children:"航空会社"}),l("div",{class:"space-y-2 max-h-48 overflow-y-auto",children:[l("label",{class:"flex items-center space-x-2",children:[l("input",{type:"checkbox",class:"w-4 h-4 text-blue-600 rounded",checked:!0}),l("span",{class:"text-gray-700 text-sm",children:"全日空 (ANA)"})]}),l("label",{class:"flex items-center space-x-2",children:[l("input",{type:"checkbox",class:"w-4 h-4 text-blue-600 rounded",checked:!0}),l("span",{class:"text-gray-700 text-sm",children:"日本航空 (JAL)"})]}),l("label",{class:"flex items-center space-x-2",children:[l("input",{type:"checkbox",class:"w-4 h-4 text-blue-600 rounded",checked:!0}),l("span",{class:"text-gray-700 text-sm",children:"ユナイテッド航空"})]}),l("label",{class:"flex items-center space-x-2",children:[l("input",{type:"checkbox",class:"w-4 h-4 text-blue-600 rounded",checked:!0}),l("span",{class:"text-gray-700 text-sm",children:"デルタ航空"})]}),l("label",{class:"flex items-center space-x-2",children:[l("input",{type:"checkbox",class:"w-4 h-4 text-blue-600 rounded",checked:!0}),l("span",{class:"text-gray-700 text-sm",children:"アメリカン航空"})]})]})]}),l("button",{type:"button",class:"w-full bg-gray-100 text-gray-700 py-2 rounded-lg hover:bg-gray-200",children:"フィルターをリセット"})]})}),l("div",{class:"lg:col-span-3",id:"flightList",children:l("div",{class:"space-y-4",id:"flightCards"})})]})]})]}),l("footer",{class:"bg-gray-800 text-white mt-16",children:l("div",{class:"container mx-auto px-4 py-8",children:[l("div",{class:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[l("div",{children:[l("h5",{class:"font-bold text-lg mb-4",children:"FlightSearch"}),l("p",{class:"text-gray-400",children:"お得な航空券を簡単検索"})]}),l("div",{children:[l("h5",{class:"font-bold text-lg mb-4",children:"リンク"}),l("ul",{class:"space-y-2 text-gray-400",children:[l("li",{children:l("a",{href:"#",class:"hover:text-white",children:"利用規約"})}),l("li",{children:l("a",{href:"#",class:"hover:text-white",children:"プライバシーポリシー"})}),l("li",{children:l("a",{href:"#",class:"hover:text-white",children:"お問い合わせ"})})]})]}),l("div",{children:[l("h5",{class:"font-bold text-lg mb-4",children:"フォロー"}),l("div",{class:"flex space-x-4",children:[l("a",{href:"#",class:"text-gray-400 hover:text-white",children:l("i",{class:"fab fa-facebook text-2xl"})}),l("a",{href:"#",class:"text-gray-400 hover:text-white",children:l("i",{class:"fab fa-twitter text-2xl"})}),l("a",{href:"#",class:"text-gray-400 hover:text-white",children:l("i",{class:"fab fa-instagram text-2xl"})})]})]})]}),l("div",{class:"border-t border-gray-700 mt-8 pt-8 text-center text-gray-400",children:l("p",{children:"© 2026 FlightSearch. All rights reserved."})})]})}),l("div",{id:"seatClassModal",class:"hidden fixed inset-0 bg-black bg-opacity-50 z-50 overflow-y-auto",role:"dialog","aria-modal":"true","aria-labelledby":"modalTitle",children:l("div",{class:"flex items-center justify-center min-h-screen p-4",children:l("div",{class:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl relative",children:[l("div",{class:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-4 rounded-t-2xl",children:[l("div",{class:"flex items-center justify-between",children:[l("h2",{id:"modalTitle",class:"text-2xl font-bold",children:l("span",{id:"modalRouteInfo",children:"東京 → ニューヨーク"})}),l("button",{onclick:"closeSeatClassModal()",class:"text-white hover:bg-white hover:bg-opacity-20 rounded-full p-2 transition","aria-label":"モーダルを閉じる",children:l("i",{class:"fas fa-times text-2xl"})})]}),l("div",{id:"modalFlightInfo",class:"mt-2 text-sm opacity-90",children:"フライト情報を読み込み中..."})]}),l("div",{class:"p-6 max-h-[70vh] overflow-y-auto",children:[l("div",{class:"mb-8",children:[l("h3",{class:"text-xl font-bold text-gray-800 mb-4 flex items-center",children:[l("i",{class:"fas fa-plane-departure text-blue-600 mr-2"}),"往路便"]}),l("div",{id:"outboundSeatClasses",class:"space-y-3"})]}),l("div",{class:"mb-6",children:[l("h3",{class:"text-xl font-bold text-gray-800 mb-4 flex items-center",children:[l("i",{class:"fas fa-plane-arrival text-blue-600 mr-2"}),"復路便"]}),l("div",{id:"returnSeatClasses",class:"space-y-3"})]}),l("div",{class:"bg-blue-50 rounded-lg p-4 mt-6",children:l("div",{class:"flex justify-between items-center",children:[l("div",{children:[l("div",{class:"text-sm text-gray-600",children:"合計金額（1名あたり）"}),l("div",{class:"text-xs text-gray-500 mt-1",children:"往復 • 税・手数料込み"})]}),l("div",{class:"text-3xl font-bold text-blue-600",id:"modalTotalPrice",children:"¥0"})]})})]}),l("div",{class:"border-t border-gray-200 px-6 py-4 bg-gray-50 rounded-b-2xl",children:l("div",{class:"flex space-x-4",children:[l("button",{onclick:"closeSeatClassModal()",class:"flex-1 bg-gray-200 text-gray-700 py-3 px-6 rounded-lg font-semibold hover:bg-gray-300 transition",children:"キャンセル"}),l("button",{onclick:"confirmSeatClassSelection()",class:"flex-1 bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-3 px-6 rounded-lg font-semibold hover:from-blue-700 hover:to-indigo-700 transition shadow-lg hover:shadow-xl",disabled:!0,id:"confirmSelectionBtn",children:"予約を続ける"})]})})]})})}),l("script",{src:"/static/app.js"})]})));it.post("/api/search",async e=>{const t=await e.req.json();return e.json({success:!0,message:"Search received",data:t})});const Vt=new Sr,an=Object.assign({"/src/index.tsx":it});let Nr=!1;for(const[,e]of Object.entries(an))e&&(Vt.all("*",t=>{let r;try{r=t.executionCtx}catch{}return e.fetch(t.req.raw,t.env,r)}),Vt.notFound(t=>{let r;try{r=t.executionCtx}catch{}return e.fetch(t.req.raw,t.env,r)}),Nr=!0);if(!Nr)throw new Error("Can't import modules from ['/src/index.ts','/src/index.tsx','/app/server.ts']");export{Vt as default};
